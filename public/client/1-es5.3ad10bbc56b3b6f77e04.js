!function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,i){if(!e)return;if("string"==typeof e)return t(e,i);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,i)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,n=r(e);if(t){var o=r(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return a(this,i)}}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,i){return t&&s(e.prototype,t),i&&s(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/2vq":function(e,t,i){"use strict";i.d(t,"a",(function(){return y}));var n=i("2Vo4"),o=i("3Pt+"),a=i("0IaG"),r=i("nYR2"),s=i("fXoL"),l=i("VxIU"),d=i("i2dy"),b=i("ofXK"),m=i("NFeN"),p=i("Rd8u"),h=i("bTqV");function f(e,t){1&e&&(s.Vb(0,"span",6),s.Kc(1,"Create Workspace"),s.Ub())}function v(e,t){1&e&&(s.Vb(0,"span",6),s.Kc(1,"Update Workspace"),s.Ub())}function g(e,t){if(1&e&&(s.Vb(0,"div",15),s.Kc(1),s.Ub()),2&e){var i=s.gc().ngIf;s.Db(1),s.Lc(i.name)}}function k(e,t){if(1&e){var i=s.Wb();s.Vb(0,"form",7),s.cc("ngSubmit",(function(){return s.xc(i),s.gc().confirm()})),s.Vb(1,"mat-dialog-content",8),s.Vb(2,"div",9),s.Vb(3,"label",10),s.Kc(4,"Name"),s.Ub(),s.Qb(5,"input",11),s.Ic(6,g,2,1,"div",12),s.Ub(),s.Ub(),s.Vb(7,"mat-dialog-actions"),s.Vb(8,"button",13),s.cc("click",(function(){return s.xc(i),s.gc().close()})),s.Kc(9,"Cancel"),s.Ub(),s.Vb(10,"button",14),s.hc(11,"async"),s.Kc(12),s.Ub(),s.Ub(),s.Ub()}if(2&e){var n=t.ngIf,o=s.gc();s.mc("formGroup",o.form),s.Db(6),s.mc("ngIf",n.name),s.Db(4),s.mc("disabled",s.ic(11,4,o.loading$)),s.Db(2),s.Lc(o.data.workspace?"Update":"Create")}}var y=function(){var e=function(){function e(t,i,a,r){c(this,e),this.dialogRef=t,this.data=i,this.workspaces=a,this.toast=r,this.loading$=new n.a(!1),this.errors$=new n.a({}),this.form=new o.l({name:new o.i}),i.workspace&&this.form.patchValue(i.workspace)}return u(e,[{key:"confirm",value:function(){var e=this;this.loading$.next(!0),(this.data.workspace?this.workspaces.update(this.data.workspace.id,this.form.value):this.workspaces.create(this.form.value)).pipe(Object(r.a)((function(){return e.loading$.next(!1)}))).subscribe((function(t){e.toast.open(e.data.workspace?"Workspace updated.":"Workspace created."),e.close(t.workspace)}),(function(t){return e.errors$.next(t.errors)}))}},{key:"close",value:function(e){this.dialogRef.close(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Pb(a.h),s.Pb(a.a),s.Pb(l.a),s.Pb(d.b))},e.\u0275cmp=s.Jb({type:e,selectors:[["crupdate-workspace-modal"]],decls:8,vars:5,consts:[[1,"modal-header"],["mat-dialog-title",""],["trans","",4,"ngIf"],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],["ngNativeValidate","",3,"formGroup","ngSubmit",4,"ngIf"],["trans",""],["ngNativeValidate","",3,"formGroup","ngSubmit"],[1,"many-inputs"],[1,"input-container","name-container"],["for","crupdate-workspace-name","trans",""],["type","text","id","crupdate-workspace-name","formControlName","name","required","","minlength","3"],["class","error",4,"ngIf"],["type","button","mat-button","","trans","",3,"click"],["type","submit","mat-raised-button","","color","accent","trans","",3,"disabled"],[1,"error"]],template:function(e,t){1&e&&(s.Vb(0,"div",0),s.Vb(1,"h2",1),s.Ic(2,f,2,0,"span",2),s.Ic(3,v,2,0,"span",2),s.Ub(),s.Vb(4,"button",3),s.cc("click",(function(){return t.close()})),s.Qb(5,"mat-icon",4),s.Ub(),s.Ub(),s.Ic(6,k,13,6,"form",5),s.hc(7,"async")),2&e&&(s.Db(2),s.mc("ngIf",!t.data.workspace),s.Db(1),s.mc("ngIf",t.data.workspace),s.Db(3),s.mc("ngIf",s.ic(7,3,t.errors$)))},directives:[a.i,b.t,m.a,p.a,o.v,o.m,a.f,o.d,o.u,o.k,o.F,o.q,a.c,h.b],pipes:[b.b],styles:["[_nghost-%COMP%]{display:block;width:400px;max-width:100%}"],changeDetection:0}),e}()},ClHV:function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));var n={title:"Leave Workspace",body:"Are you sure you want to leave this workspace?",bodyBold:"All resources you've created in the workspace will be transferred to workspace owner.",ok:"Leave"}},QibW:function(e,t,n){"use strict";n.d(t,"a",(function(){return V})),n.d(t,"b",(function(){return I})),n.d(t,"c",(function(){return R}));var a=n("fXoL"),r=n("FKr1"),s=n("8LU1"),l=n("3Pt+"),d=n("R1ws"),b=n("u47x"),m=n("0EQZ"),p=["input"],h=function(){return{enterDuration:150}},f=["*"],v=new a.s("mat-radio-default-options",{providedIn:"root",factory:function(){return{color:"accent"}}}),g=0,k={provide:l.s,useExisting:Object(a.W)((function(){return I})),multi:!0},y=function e(t,i){c(this,e),this.source=t,this.value=i},_=new a.s("MatRadioGroup"),w=function(){var e=function(){function e(t){c(this,e),this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+g++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=function(){},this.onTouched=function(){},this.change=new a.o}return u(e,[{key:"_checkSelectedRadioButton",value:function(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}},{key:"ngAfterContentInit",value:function(){this._isInitialized=!0}},{key:"_touch",value:function(){this.onTouched&&this.onTouched()}},{key:"_updateRadioButtonNames",value:function(){var e=this;this._radios&&this._radios.forEach((function(t){t.name=e.name,t._markForCheck()}))}},{key:"_updateSelectedRadioFromValue",value:function(){var e=this;this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach((function(t){t.checked=e.value===t.value,t.checked&&(e._selected=t)})))}},{key:"_emitChangeEvent",value:function(){this._isInitialized&&this.change.emit(new y(this._selected,this._value))}},{key:"_markRadiosForCheck",value:function(){this._radios&&this._radios.forEach((function(e){return e._markForCheck()}))}},{key:"writeValue",value:function(e){this.value=e,this._changeDetector.markForCheck()}},{key:"registerOnChange",value:function(e){this._controlValueAccessorChangeFn=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e,this._changeDetector.markForCheck()}},{key:"name",get:function(){return this._name},set:function(e){this._name=e,this._updateRadioButtonNames()}},{key:"labelPosition",get:function(){return this._labelPosition},set:function(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}},{key:"value",get:function(){return this._value},set:function(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}},{key:"selected",get:function(){return this._selected},set:function(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=Object(s.c)(e),this._markRadiosForCheck()}},{key:"required",get:function(){return this._required},set:function(e){this._required=Object(s.c)(e),this._markRadiosForCheck()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Pb(a.i))},e.\u0275dir=a.Kb({type:e,inputs:{name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"}}),e}(),I=function(){var e=function(e){i(n,e);var t=o(n);function n(){return c(this,n),t.apply(this,arguments)}return n}(w);return e.\u0275fac=function(t){return x(t||e)},e.\u0275dir=a.Kb({type:e,selectors:[["mat-radio-group"]],contentQueries:function(e,t,i){var n;1&e&&a.Ib(i,V,!0),2&e&&a.tc(n=a.dc())&&(t._radios=n)},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[a.Cb([k,{provide:_,useExisting:e}]),a.Ab]}),e}(),x=a.Xb(I),P=Object(r.v)(Object(r.y)((function e(t){c(this,e),this._elementRef=t}))),O=function(){var e=function(e){i(n,e);var t=o(n);function n(e,i,o,r,u,l,d,b){var m;return c(this,n),(m=t.call(this,i))._changeDetector=o,m._focusMonitor=r,m._radioDispatcher=u,m._animationMode=l,m._providerOverride=d,m._uniqueId="mat-radio-"+ ++g,m.id=m._uniqueId,m.change=new a.o,m._checked=!1,m._value=null,m._removeUniqueSelectionListener=function(){},m.radioGroup=e,b&&(m.tabIndex=Object(s.f)(b,0)),m._removeUniqueSelectionListener=u.listen((function(e,t){e!==m.id&&t===m.name&&(m.checked=!1)})),m}return u(n,[{key:"focus",value:function(e){this._focusMonitor.focusVia(this._inputElement,"keyboard",e)}},{key:"_markForCheck",value:function(){this._changeDetector.markForCheck()}},{key:"ngOnInit",value:function(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.name=this.radioGroup.name)}},{key:"ngAfterViewInit",value:function(){var e=this;this._focusMonitor.monitor(this._elementRef,!0).subscribe((function(t){!t&&e.radioGroup&&e.radioGroup._touch()}))}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}},{key:"_emitChangeEvent",value:function(){this.change.emit(new y(this,this._value))}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_onInputClick",value:function(e){e.stopPropagation()}},{key:"_onInputChange",value:function(e){e.stopPropagation();var t=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),t&&this.radioGroup._emitChangeEvent())}},{key:"_setDisabled",value:function(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}},{key:"checked",get:function(){return this._checked},set:function(e){var t=Object(s.c)(e);this._checked!==t&&(this._checked=t,t&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!t&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),t&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}},{key:"value",get:function(){return this._value},set:function(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}},{key:"labelPosition",get:function(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"},set:function(e){this._labelPosition=e}},{key:"disabled",get:function(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled},set:function(e){this._setDisabled(Object(s.c)(e))}},{key:"required",get:function(){return this._required||this.radioGroup&&this.radioGroup.required},set:function(e){this._required=Object(s.c)(e)}},{key:"color",get:function(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"},set:function(e){this._color=e}},{key:"inputId",get:function(){return(this.id||this._uniqueId)+"-input"}}]),n}(P);return e.\u0275fac=function(t){return new(t||e)(a.Pb(w),a.Pb(a.m),a.Pb(a.i),a.Pb(b.h),a.Pb(m.d),a.Pb(String),a.Pb(void 0),a.Pb(String))},e.\u0275dir=a.Kb({type:e,viewQuery:function(e,t){var i;1&e&&a.Qc(p,!0),2&e&&a.tc(i=a.dc())&&(t._inputElement=i.first)},inputs:{id:"id",checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{change:"change"},features:[a.Ab]}),e}(),V=function(){var e=function(e){i(n,e);var t=o(n);function n(e,i,o,a,r,s,u,l){return c(this,n),t.call(this,e,i,o,a,r,s,u,l)}return n}(O);return e.\u0275fac=function(t){return new(t||e)(a.Pb(_,8),a.Pb(a.m),a.Pb(a.i),a.Pb(b.h),a.Pb(m.d),a.Pb(d.a,8),a.Pb(v,8),a.ac("tabindex"))},e.\u0275cmp=a.Jb({type:e,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(e,t){1&e&&a.cc("focus",(function(){return t._inputElement.nativeElement.focus()})),2&e&&(a.Eb("tabindex",-1)("id",t.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),a.Hb("mat-radio-checked",t.checked)("mat-radio-disabled",t.disabled)("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-primary","primary"===t.color)("mat-accent","accent"===t.color)("mat-warn","warn"===t.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[a.Ab],ngContentSelectors:f,decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input","cdk-visually-hidden",3,"id","checked","disabled","tabIndex","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(e,t){if(1&e&&(a.lc(),a.Vb(0,"label",0,1),a.Vb(2,"div",2),a.Qb(3,"div",3),a.Qb(4,"div",4),a.Vb(5,"input",5,6),a.cc("change",(function(e){return t._onInputChange(e)}))("click",(function(e){return t._onInputClick(e)})),a.Ub(),a.Vb(7,"div",7),a.Qb(8,"div",8),a.Ub(),a.Ub(),a.Vb(9,"div",9),a.Vb(10,"span",10),a.Kc(11,"\xa0"),a.Ub(),a.kc(12),a.Ub(),a.Ub()),2&e){var i=a.uc(1);a.Eb("for",t.inputId),a.Db(5),a.mc("id",t.inputId)("checked",t.checked)("disabled",t.disabled)("tabIndex",t.tabIndex)("required",t.required),a.Eb("name",t.name)("value",t.value)("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledby)("aria-describedby",t.ariaDescribedby),a.Db(2),a.mc("matRippleTrigger",i)("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",a.pc(18,h)),a.Db(2),a.Hb("mat-radio-label-before","before"==t.labelPosition)}},directives:[r.p],styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;height:20px;left:0;position:absolute;top:0;transition:transform ease 280ms,background-color ease 280ms;width:20px;transform:scale(0.001)}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5)}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}.mat-radio-label-content{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{bottom:0;left:50%}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}\n"],encapsulation:2,changeDetection:0}),e}(),R=function(){var e=function e(){c(this,e)};return e.\u0275mod=a.Nb({type:e}),e.\u0275inj=a.Mb({factory:function(t){return new(t||e)},imports:[[r.q,r.h],r.h]}),e}()},fm7k:function(e,t,i){"use strict";i.r(t),i.d(t,"WorkspaceModule",(function(){return x}));var n,o,a=i("ofXK"),r=i("/2vq"),s=i("jSir"),u=i("NFeN"),l=i("bTqV"),d=i("0IaG"),b=i("6rvT"),m=i("3Pt+"),p=i("QibW"),h=i("1ImS"),f=i("fXoL"),v=((n=function e(){c(this,e)}).\u0275mod=f.Nb({type:n}),n.\u0275inj=f.Mb({factory:function(e){return new(e||n)},imports:[[a.c,u.b,l.c]]}),n),g=i("Qu3c"),k=i("k3xQ"),y=i("bv9b"),_=i("losq"),w=i("0Gur"),I=i("STbY"),x=((o=function e(){c(this,e)}).components={crupdateModal:r.a,manageMembers:s.a},o.\u0275mod=f.Nb({type:o}),o.\u0275inj=f.Mb({factory:function(e){return new(e||o)},imports:[[a.c,m.o,m.E,b.a,h.a,v,k.a,_.a,w.a,u.b,l.c,d.g,p.c,g.b,y.b,I.c]]}),o)},jSir:function(t,i,n){"use strict";n.d(i,"a",(function(){return W}));var o=n("2Vo4"),a=n("3Pt+"),r=n("0IaG"),s=n("nYR2"),l=function(e){return e.LEFT_WORKSPACE="You have left the workspace.",e.MEMBER_DELETED="Member Deleted.",e.INVITES_SENT="Invites Sent.",e.INVITE_RESENT="Resent invite.",e.ROLE_ASSIGNED="Role Assigned.",e}({}),d=n("/RwR"),b=n("R0Ic"),m=n("ClHV"),p=n("fXoL"),h=n("VxIU"),f=n("i2dy"),v=n("0Ej5"),g=n("twBr"),k=n("QGXG"),y=n("Rd8u"),_=n("NFeN"),w=n("ofXK"),I=n("STbY"),x=n("I3oe"),P=n("bTqV"),O=n("bv9b"),V=n("JxJJ"),R=n("Qu3c"),C=n("zW5C");function D(e,t){1&e&&p.Qb(0,"mat-progress-bar",23)}function U(e,t){if(1&e){var i=p.Wb();p.Vb(0,"div",16),p.Vb(1,"div",17),p.Vb(2,"label",18),p.Kc(3,"Invite by email"),p.Ub(),p.Vb(4,"div",19),p.Qb(5,"chip-input",20),p.Vb(6,"button",21),p.cc("click",(function(){return p.xc(i),p.gc().invitePeople()})),p.hc(7,"async"),p.hc(8,"async"),p.Kc(9,"Invite "),p.Ub(),p.Ub(),p.Ub(),p.Ic(10,D,1,0,"mat-progress-bar",22),p.hc(11,"async"),p.Ub()}if(2&e){var n=p.gc(),o=null;p.mc("@fadeIn",void 0),p.Db(5),p.mc("emailsInput",!0)("formControl",n.peopleToInvite),p.Db(1),p.mc("disabled",p.ic(7,5,n.inviting$)||!(null!=(o=p.ic(8,7,n.peopleToInvite.valueChanges))&&o.length)),p.Db(4),p.mc("ngIf",p.ic(11,9,n.inviting$))}}function M(e,t){1&e&&(p.Vb(0,"li",24),p.Qb(1,"skeleton",25),p.Vb(2,"div",26),p.Qb(3,"skeleton"),p.Qb(4,"skeleton"),p.Ub(),p.Ub())}var E=function(){return[1,2,3]};function $(e,t){1&e&&(p.Vb(0,"ul",12),p.Ic(1,M,5,0,"li",13),p.Ub()),2&e&&(p.mc("@fadeOut",void 0),p.Db(1),p.mc("ngForOf",p.pc(2,E)))}function j(e,t){1&e&&(p.Vb(0,"span",38),p.Kc(1,"(You)"),p.Ub())}function T(e,t){if(1&e){var i=p.Wb();p.Tb(0),p.Kc(1," \xb7 "),p.Vb(2,"button",39),p.cc("click",(function(){p.xc(i);var e=p.gc(2).$implicit;return p.gc().maybeResendInvite(e)})),p.hc(3,"async"),p.Kc(4,"Resend Invite"),p.Ub(),p.Sb()}if(2&e){var n=p.gc(3);p.Db(2),p.mc("disabled",p.ic(3,1,n.inviting$))}}function G(e,t){if(1&e&&(p.Vb(0,"span"),p.Kc(1," \xb7 "),p.Vb(2,"span",34),p.Kc(3,"Invited"),p.Ub(),p.Ic(4,T,5,3,"ng-container",30),p.Ub()),2&e){var i=p.gc(2);p.Db(4),p.mc("ngIf",i.canInvite)}}function S(e,t){if(1&e){var i=p.Wb();p.Vb(0,"button",40),p.cc("click",(function(){p.xc(i);var e=p.gc().$implicit;return p.gc().maybeDeleteMember(e)})),p.hc(1,"async"),p.Qb(2,"mat-icon",3),p.Ub()}if(2&e){var n=p.gc().$implicit,o=p.gc();p.Hb("visually-hidden",n.is_owner||!o.canDelete),p.mc("disabled",p.ic(1,3,o.deleting$))}}function A(e,t){if(1&e){var i=p.Wb();p.Vb(0,"button",41),p.cc("click",(function(){p.xc(i);var e=p.gc().$implicit;return p.gc().maybeLeaveWorkspace(e)})),p.hc(1,"trans"),p.hc(2,"async"),p.Qb(3,"mat-icon",42),p.Ub()}if(2&e){var n=p.gc(2);p.mc("matTooltip",p.ic(1,2,"Leave workspace"))("disabled",p.ic(2,4,n.deleting$))}}var L=function(e){return{member:e}};function F(e,t){if(1&e){var i=p.Wb();p.Vb(0,"li",24),p.cc("@fadeIn.done",(function(){return p.xc(i),p.gc(),p.uc(6).style.overflow="auto"})),p.Qb(1,"img",27),p.Vb(2,"div",26),p.Vb(3,"div",28),p.Vb(4,"span"),p.Kc(5),p.Ub(),p.Kc(6," "),p.Ic(7,j,2,0,"span",29),p.Ic(8,G,5,1,"span",30),p.Ub(),p.Vb(9,"div",31),p.Kc(10),p.Ub(),p.Ub(),p.Vb(11,"div",32),p.Vb(12,"button",33),p.Vb(13,"span",34),p.Kc(14),p.Ub(),p.Qb(15,"mat-icon",35),p.Ub(),p.Ic(16,S,3,5,"button",36),p.Ic(17,A,4,6,"button",37),p.Ub(),p.Ub()}if(2&e){var n=t.$implicit,o=p.gc(),a=p.uc(19);p.mc("@fadeIn",void 0),p.Db(1),p.mc("src",n.avatar,p.Ac),p.Db(4),p.Lc(n.display_name),p.Db(2),p.mc("ngIf",o.currentUser.get("id")===n.id),p.Db(1),p.mc("ngIf","invite"===n.model_type),p.Db(2),p.Lc(n.email),p.Db(2),p.Hb("not-clickable",n.is_owner||!o.canEdit),p.mc("matMenuTriggerFor",a)("matMenuTriggerData",p.qc(13,L,n)),p.Db(2),p.Lc(n.role_name),p.Db(2),p.mc("ngIf",n.is_owner||o.currentUser.get("id")!==n.id),p.Db(1),p.mc("ngIf",!n.is_owner&&o.currentUser.get("id")===n.id)}}function q(e,t){if(1&e){var i=p.Wb();p.Vb(0,"div",44),p.cc("click",(function(){p.xc(i);var e=t.$implicit,n=p.gc().member;return p.gc().changeRole(n,e)})),p.Qb(1,"mat-icon",45),p.Vb(2,"div",46),p.Vb(3,"div",47),p.Kc(4),p.Ub(),p.Vb(5,"div",48),p.Kc(6),p.Ub(),p.Ub(),p.Ub()}if(2&e){var n=t.$implicit,o=p.gc().member;p.Hb("active",o.role_id===n.id),p.Db(1),p.Hb("visually-hidden",o.role_id!==n.id),p.Db(3),p.Lc(n.name),p.Db(2),p.Lc(n.description)}}function K(e,t){if(1&e&&(p.Ic(0,q,7,6,"div",43),p.hc(1,"async")),2&e){var i=p.gc();p.mc("ngForOf",p.ic(1,1,i.workspaceRoles$))}}var Q,N=function(e){return{workspace:e}},W=((Q=function(){function t(e,i,n,r,s,u,l){c(this,t),this.dialogRef=e,this.data=i,this.workspaces=n,this.toast=r,this.valueLists=s,this.currentUser=u,this.modal=l,this.inviting$=new o.a(!1),this.deleting$=new o.a(!1),this.loadingMembers$=new o.a(!1),this.workspaceRoles$=new o.a([]),this.members$=new o.a([]),this.peopleToInvite=new a.i([]),this.canInvite=!1,this.canEdit=!1,this.canDelete=!1}return u(t,[{key:"ngOnInit",value:function(){var t=this;this.loadingMembers$.next(!0),this.valueLists.get(["workspaceRoles"]).subscribe((function(e){t.workspaceRoles$.next(e.workspaceRoles)})),this.workspaces.get(this.data.workspace.id).pipe(Object(s.a)((function(){return t.loadingMembers$.next(!1)}))).subscribe((function(i){t.members$.next([].concat(e(i.workspace.invites),e(i.workspace.members))),t.setCurrentUserPermissions()}))}},{key:"close",value:function(e){this.dialogRef.close(e)}},{key:"invitePeople",value:function(){var t=this,i=this.peopleToInvite.value.filter((function(e){return!t.members$.value.find((function(t){return t.email===e}))}));if(!i.length)return this.peopleToInvite.reset(),void this.toast.open("All invited people are already members.");var n={emails:i,roleId:(this.workspaceRoles$.value.find((function(e){return e.default}))||this.workspaceRoles$.value[0]).id};this.inviting$.next(!0),this.workspaces.invitePeople(this.data.workspace.id,n).pipe(Object(s.a)((function(){return t.inviting$.next(!1)}))).subscribe((function(i){t.members$.next([].concat(e(t.members$.value),e(i.invites))),t.peopleToInvite.reset(),t.toast.open(l.INVITES_SENT)}))}},{key:"resendInvite",value:function(e){var t=this;this.inviting$.next(!0),this.workspaces.resendInvite(this.data.workspace.id,e.id).pipe(Object(s.a)((function(){return t.inviting$.next(!1)}))).subscribe((function(){t.toast.open(l.INVITE_RESENT)}))}},{key:"changeRole",value:function(t,i){var n=this;this.workspaces.changeRole(this.data.workspace.id,t,i.id).subscribe((function(){n.toast.open(l.ROLE_ASSIGNED);var o=e(n.members$.value),a=o.findIndex((function(e){return e.id===t.id}));o[a].role_name=i.name,o[a].role_id=i.id,n.members$.next(o)}))}},{key:"deleteMember",value:function(t){var i=this;this.deleting$.next(!0),("member"===t.model_type?this.workspaces.deleteMember(this.data.workspace.id,t.id):this.workspaces.deleteInvite(t.id)).pipe(Object(s.a)((function(){return i.deleting$.next(!1)}))).subscribe((function(){var n=e(i.members$.value),o=n.findIndex((function(e){return t.id&&e.model_type===t.model_type}));n.splice(o,1),i.members$.next(n),t.id===i.currentUser.get("id")?(i.close(),i.toast.open(l.LEFT_WORKSPACE)):i.toast.open(l.MEMBER_DELETED)}))}},{key:"maybeDeleteMember",value:function(e){var t=this;this.modal.show(d.a,{title:"Delete Member",body:"Are you sure you want to delete this member?",bodyBold:"All workspace resources created by this member will be transferred to workspace owner.",ok:"Delete"}).afterClosed().subscribe((function(i){i&&t.deleteMember(e)}))}},{key:"maybeResendInvite",value:function(e){var t=this;this.modal.show(d.a,{title:"Resend Invite",body:"Are you sure you want to send this invite again?",ok:"Resend"}).afterClosed().subscribe((function(i){i&&t.resendInvite(e)}))}},{key:"maybeLeaveWorkspace",value:function(e){var t=this;this.modal.show(d.a,m.a).afterClosed().subscribe((function(i){i&&t.deleteMember(e)}))}},{key:"setCurrentUserPermissions",value:function(){var e=this,t=this.members$.value.find((function(t){return t.id===e.currentUser.get("id")}));this.canInvite=t.is_owner||!!t.permissions.find((function(e){return"workspace_members.invite"===e.name})),this.canEdit=t.is_owner||!!t.permissions.find((function(e){return"workspace_members.update"===e.name})),this.canDelete=t.is_owner||!!t.permissions.find((function(e){return"workspace_members.delete"===e.name}))}}]),t}()).\u0275fac=function(e){return new(e||Q)(p.Pb(r.h),p.Pb(r.a),p.Pb(h.a),p.Pb(f.b),p.Pb(v.a),p.Pb(g.a),p.Pb(k.a))},Q.\u0275cmp=p.Jb({type:Q,selectors:[["manage-workspace-members-modal"]],decls:21,vars:10,consts:[[1,"modal-header"],["mat-dialog-title","","trans",""],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],[2,"overflow","hidden"],["container",""],["class","invite-container",4,"ngIf"],[1,"header"],["svgIcon","people"],["trans","",1,"text",3,"transValues"],[1,"animation-container"],["class","member-list unstyled-list",4,"ngIf"],[1,"member-list","unstyled-list"],["class","member-list-item",4,"ngFor","ngForOf"],["selectRoleMenu","matMenu"],["matMenuContent",""],[1,"invite-container"],[1,"input-container"],["for","workspace-emails-input","trans",""],[1,"input-with-action"],["id","workspace-emails-input","placeholder","Email addresses",3,"emailsInput","formControl"],["type","button","mat-flat-button","","color","accent","trans","",1,"add-tags-button",3,"disabled","click"],["mode","indeterminate","color","accent",4,"ngIf"],["mode","indeterminate","color","accent"],[1,"member-list-item"],["variant","avatar"],[1,"details"],["alt","",3,"src"],[1,"email"],["class","strong","trans","",4,"ngIf"],[4,"ngIf"],[1,"invited_at"],[1,"actions"],["type","button","mat-stroked-button","",1,"role-trigger-button",3,"matMenuTriggerFor","matMenuTriggerData"],["trans",""],["svgIcon","keyboard-arrow-down",1,"dropdown-icon"],["type","button","class","delete-member-button","mat-icon-button","",3,"visually-hidden","disabled","click",4,"ngIf"],["type","button","class","delete-member-button","mat-icon-button","",3,"matTooltip","disabled","click",4,"ngIf"],["trans","",1,"strong"],["type","button","trans","",1,"no-style","resend-invite-button",3,"disabled","click"],["type","button","mat-icon-button","",1,"delete-member-button",3,"disabled","click"],["type","button","mat-icon-button","",1,"delete-member-button",3,"matTooltip","disabled","click"],["svgIcon","exit-to-app"],["class","multiline-mat-menu-item with-icon","mat-menu-item","","trans","",3,"active","click",4,"ngFor","ngForOf"],["mat-menu-item","","trans","",1,"multiline-mat-menu-item","with-icon",3,"click"],["svgIcon","check"],[1,"menu-item-content"],["trans","",1,"title"],["trans","",1,"description"]],template:function(e,t){1&e&&(p.Vb(0,"div",0),p.Vb(1,"h2",1),p.Kc(2,"Manage workspace members"),p.Ub(),p.Vb(3,"button",2),p.cc("click",(function(){return t.close()})),p.Qb(4,"mat-icon",3),p.Ub(),p.Ub(),p.Vb(5,"mat-dialog-content",4,5),p.Ic(7,U,12,11,"div",6),p.Vb(8,"div",7),p.Qb(9,"mat-icon",8),p.Vb(10,"span",9),p.Kc(11,"Members of :workspace"),p.Ub(),p.Ub(),p.Vb(12,"div",10),p.Ic(13,$,2,3,"ul",11),p.hc(14,"async"),p.Vb(15,"ul",12),p.Ic(16,F,18,15,"li",13),p.hc(17,"async"),p.Ub(),p.Ub(),p.Ub(),p.Vb(18,"mat-menu",null,14),p.Ic(20,K,2,3,"ng-template",15),p.Ub()),2&e&&(p.Db(7),p.mc("ngIf",t.canInvite),p.Db(3),p.mc("transValues",p.qc(8,N,t.data.workspace.name)),p.Db(3),p.mc("ngIf",p.ic(14,4,t.loadingMembers$)),p.Db(3),p.mc("ngForOf",p.ic(17,6,t.members$)))},directives:[r.i,y.a,_.a,r.f,w.t,w.s,I.e,I.a,x.a,a.u,a.j,P.b,O.a,V.a,I.d,R.a,I.b],pipes:[w.b,C.a],styles:["[_nghost-%COMP%]{display:block;width:600px;max-width:100%}chip-input[_ngcontent-%COMP%]{flex:1}.invite-container[_ngcontent-%COMP%]{margin-bottom:30px;position:relative}.mat-progress-bar[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0}.header[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:15px}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:5px}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{vertical-align:middle}.animation-container[_ngcontent-%COMP%]{position:relative}.member-list-item[_ngcontent-%COMP%]{display:flex;margin-bottom:20px}.member-list-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{flex-shrink:0;width:40px;height:40px;-o-object-fit:cover;object-fit:cover;margin-right:10px;border-radius:4px}.member-list-item[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{flex:1 1 auto}.member-list-item[_ngcontent-%COMP%]   .delete-member-button[_ngcontent-%COMP%], .member-list-item[_ngcontent-%COMP%]   .invited_at[_ngcontent-%COMP%]{color:var(--be-secondary-text)}.not-clickable[_ngcontent-%COMP%]{pointer-events:none}.not-clickable[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{display:none}.dropdown-icon[_ngcontent-%COMP%]{width:18px;height:18px;line-height:18px}.resend-invite-button[_ngcontent-%COMP%]{color:var(--be-link)}.role-trigger-button[_ngcontent-%COMP%]{margin-right:8px;font-size:1.3rem;font-weight:400}"],data:{animation:[Object(b.m)("fadeIn",[Object(b.l)(":enter",[Object(b.k)({opacity:0}),Object(b.e)("325ms ease-in",Object(b.k)({opacity:1}))])]),Object(b.m)("fadeOut",[Object(b.l)(":leave",[Object(b.k)({opacity:1,position:"absolute",left:"0",right:"0"}),Object(b.e)("325ms ease-out",Object(b.k)({opacity:0}))])])]},changeDetection:0}),Q)}}])}();
//# sourceMappingURL=1-es5.3ad10bbc56b3b6f77e04.js.map