!function(){function e(t,n){return(e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(t,n)}function t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,o=i(e);if(t){var r=i(this).constructor;a=Reflect.construct(o,arguments,r)}else a=o.apply(this,arguments);return n(this,a)}}function n(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(i=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);i=!0);}catch(s){a=!0,o=s}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function u(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{Eh8b:function(n,i,c){"use strict";c.r(i),c.d(i,"AppAppearanceModule",(function(){return ni}));var s,l=c("ofXK"),b=c("3Pt+"),m=c("tyNb"),h=c("WAq7"),p=c("+rOU"),f=c("lJxs"),g=c("fXoL"),v=new g.s("APPEARANCE_EDITOR_CONFIG"),y={navigationRoutes:[],menus:{availableRoutes:["login","register","contact","billing/pricing","account-settings","admin/appearance","admin/users","admin/settings/authentication","admin/settings/branding","admin/settings/cache","admin/settings/providers","admin/roles"],positions:["admin-navbar","custom-page-navbar","auth-page-footer"]},sections:[{name:"general",position:1},{name:"themes",position:2},{name:"menus",position:3},{name:"custom-code",position:4},{name:"seo-settings",position:5}]},k=c("fKqa"),x=function e(t,n){d(this,e),this.route=t,this.queryParams=n,this.type=k.a.Navigate},_=function e(t,n){d(this,e),this.key=t,this.value=n,this.type=k.a.SetConfig},V=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d(this,e),this.selector=t,this.index=n,this.type=k.a.Select},w=function e(){d(this,e),this.type=k.a.Deselect},C=function e(t,n){d(this,e),this.key=t,this.value=n,this.type=k.a.SetColors},P=function e(t){d(this,e),this.content=t,this.type=k.a.SetCustomCss},I=function e(t){d(this,e),this.content=t,this.type=k.a.SetCustomHtml},M=c("LFZc"),U=c("2Vo4"),O=c("jtHE"),D=c("xgIS"),S=c("pLZG"),$=c("nYR2"),E=c("w1tV"),F=c("PE4B"),K=c.n(F),T=c("kmQS"),L=c("LRXf"),A=c("i2dy"),j=((s=function(){function e(t,n,i,a){d(this,e),this.settings=t,this.router=n,this.http=i,this.toast=a,this.activePanel$=new U.a(null),this.defaultSettings={},this.initiated$=new O.a(1),this.loading$=new U.a(!1),this.changes$=new U.a(null)}return u(e,[{key:"addChanges",value:function(e){this.changes$.next(Object.assign(Object.assign({},this.changes$.value),e))}},{key:"openPanel",value:function(e){var t=this.config.sections.find((function(t){return Object(h.a)(t.name)===e}));this.activePanel$.next(t),this.navigate(t)}},{key:"init",value:function(e,t,n){var i=this;return Object(D.a)(window,"message").pipe(Object(S.a)((function(e){return e.data===M.a&&new URL(e.origin).hostname===window.location.hostname}))).subscribe((function(){i.initiated$.next(!0),i.initiated$.complete(),i.activePanel$.value&&i.navigate(i.activePanel$.value)})),t.forEach((function(e){"env"===e.name?i.defaultSettings=Object.assign(Object.assign({},i.defaultSettings),e.value):i.defaultSettings[e.name]=e.value})),this.initConfig(n),this.initIframe(e),this.initiated$}},{key:"saveChanges",value:function(e){var t=this;e&&this.addChanges(e),this.loading$.next(!0);var n=(this.saveRequest?this.saveRequest:function(e){return t.http.post("admin/appearance",e)})(this.changes$.value).pipe(Object($.a)((function(){return t.loading$.next(!1)})),Object(E.a)());return n.subscribe((function(){t.changes$.next(null),t.toast.open("Appearance saved")})),n}},{key:"setSaveRequest",value:function(e){this.saveRequest=e}},{key:"closeActivePanel",value:function(){this.router.navigate(["/admin/appearance"])}},{key:"navigate",value:function(e){this.postMessage(new x((null==e?void 0:e.route)||this.config.defaultRoute,null==e?void 0:e.queryParams))}},{key:"setConfig",value:function(e,t){this.postMessage(new _(e,t))}},{key:"selectNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e&&this.postMessage(new V(e,t))}},{key:"deselectNode",value:function(){this.postMessage(new w)}},{key:"postMessage",value:function(e){this.previewWindow.postMessage(e,"*")}},{key:"currentValue",value:function(e){return e.startsWith("env.")||e.startsWith("custom-code.")?this.defaultSettings[e]:this.settings.get(e)}},{key:"initConfig",value:function(e){var t=K.a.all(e);t.sections=t.sections.sort((function(e,t){return e.position>t.position?1:-1})),t.defaultRoute||(t.defaultRoute="/"),this.settings.get("site.has_mobile_app")&&t.menus.positions.push("mobile-app-about"),this.config=t}},{key:"initIframe",value:function(e){var t=this.settings.getBaseUrl()+this.config.defaultRoute+"?be-preview-mode="+M.a;e.src=function(e){return e.replace(/([^:]\/)\/+/g,"$1")}(t),this.previewWindow=e.contentWindow}}]),e}()).\u0275fac=function(e){return new(e||s)(g.Zb(T.a),g.Zb(m.g),g.Zb(L.a),g.Zb(A.b))},s.\u0275prov=g.Lb({token:s,factory:s.\u0275fac,providedIn:"root"}),s),z=c("OnlV"),N=c("XhcP"),Q=c("NFeN"),R=c("Rd8u"),W=c("bTqV"),G=c("Wf9w");function J(e,t){1&e&&g.Qb(0,"mat-icon",9)}function q(e,t){if(1&e&&(g.Vb(0,"span"),g.Ic(1,J,1,0,"mat-icon",7),g.Vb(2,"span",8),g.Kc(3),g.Ub(),g.Ub()),2&e){var n=g.gc(),i=n.first,a=n.last,o=n.$implicit,r=g.gc();g.Db(1),g.mc("ngIf",!i),g.Db(1),g.Hb("last",a),g.Db(1),g.Lc(r.viewName(o))}}function H(e,t){if(1&e&&(g.Tb(0),g.Ic(1,q,4,4,"span",6),g.Sb()),2&e){var n=t.$implicit;g.Db(1),g.mc("ngIf",n)}}var X,Y=((X=function(){function e(){d(this,e),this.path=[],this.back=new g.o}return u(e,[{key:"viewName",value:function(e){return Object(G.a)(e).replace(/_/g," ")}}]),e}()).\u0275fac=function(e){return new(e||X)},X.\u0275cmp=g.Jb({type:X,selectors:[["appearance-panel-meta"]],inputs:{path:"path"},outputs:{back:"back"},decls:7,vars:1,consts:[[1,"back-button",3,"click"],["svgIcon","keyboard-arrow-left"],[1,"title"],["trans","",1,"static"],[1,"path"],[4,"ngFor","ngForOf"],[4,"ngIf"],["svgIcon","keyboard-arrow-right","class","separator",4,"ngIf"],["trans","",1,"name"],["svgIcon","keyboard-arrow-right",1,"separator"]],template:function(e,t){1&e&&(g.Vb(0,"div",0),g.cc("click",(function(){return t.back.emit()})),g.Qb(1,"mat-icon",1),g.Ub(),g.Vb(2,"div",2),g.Vb(3,"div",3),g.Kc(4,"Customizing"),g.Ub(),g.Vb(5,"div",4),g.Ic(6,H,2,1,"ng-container",5),g.Ub(),g.Ub()),2&e&&(g.Db(6),g.mc("ngForOf",t.path))},directives:[Q.a,R.a,l.s,l.t],styles:["[_nghost-%COMP%]{display:flex;align-items:center;height:70px;margin-bottom:10px;border-bottom:1px solid var(--be-divider-default);background-color:var(--be-background)}.title[_ngcontent-%COMP%]{padding:10px}.path[_ngcontent-%COMP%]{font-size:2rem;font-weight:300;max-width:240px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.name[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;text-transform:capitalize}.last[_ngcontent-%COMP%]{color:var(--be-accent-default)}.separator[_ngcontent-%COMP%]{vertical-align:middle;color:var(--be-secondary-text);width:18px;height:18px;line-height:18px}"],changeDetection:0}),X),B=c("h586"),Z=c("Lm4C"),ee=c("QeDF"),te=c("oJgS"),ne=c("W5HX"),ie=c("8cGs"),ae=c("STbY"),oe=c("gA0O"),re=c("bv9b");function ce(e,t){1&e&&g.Qb(0,"image-or-icon",11),2&e&&g.mc("src",t.ngIf)}function se(e,t){1&e&&(g.Vb(0,"div",12),g.Qb(1,"mat-icon",13),g.Vb(2,"span",14),g.Kc(3,"Upload"),g.Ub(),g.Ub())}function le(e,t){if(1&e){var n=g.Wb();g.Vb(0,"div",15),g.cc("click",(function(){return g.xc(n),g.gc().remove()})),g.Kc(1,"Remove"),g.Ub()}}function ue(e,t){if(1&e){var n=g.Wb();g.Vb(0,"div",15),g.cc("click",(function(){return g.xc(n),g.gc().useDefault()})),g.Kc(1,"Use Default"),g.Ub()}}function de(e,t){1&e&&g.Qb(0,"mat-progress-bar",16)}var be,me,he,pe,fe=["*"],ge=((me=function(){function e(t,n,i,a){d(this,e),this.editor=t,this.uploadQueue=n,this.validator=i,this.settings=a,this.image$=new U.a(null),this.loading$=new U.a(!1),this.validator.showToast=!0}return u(e,[{key:"openModal",value:function(){var e=this,t={uri:this.backendUri||ne.a.Image,httpParams:{diskPrefix:this.diskPrefix},validator:this.validator};Object(Z.a)({types:[ee.a.image]}).then((function(n){e.loading$.next(!0),e.uploadQueue.start(n,t).pipe(Object($.a)((function(){return e.loading$.next(!1)}))).subscribe((function(t){e.updateValue(t.fileEntry.url)}))}))}},{key:"remove",value:function(){this.updateValue(null)}},{key:"useDefault",value:function(){this.updateValue(this.defaultValue)}},{key:"updateValue",value:function(e){this.propagateChange(e),this.image$.next(e+"?v="+Object(te.a)(8))}},{key:"writeValue",value:function(e){this.image$.next(e)}},{key:"registerOnChange",value:function(e){this.propagateChange=e}},{key:"registerOnTouched",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||me)(g.Pb(j),g.Pb(B.a),g.Pb(ie.a),g.Pb(T.a))},me.\u0275cmp=g.Jb({type:me,selectors:[["appearance-image-input"]],hostAttrs:["tabindex","0"],inputs:{defaultValue:"defaultValue",backendUri:"backendUri",diskPrefix:"diskPrefix"},features:[g.Cb([B.a,{provide:b.s,useExisting:me,multi:!0}])],ngContentSelectors:fe,decls:18,vars:12,consts:[[1,"field-container",3,"click"],["trans","",1,"label","fake-label"],[1,"img-container"],[3,"src",4,"ngIf","ngIfElse"],["noImage",""],[1,"actions-dropdown"],[1,"no-style",3,"matMenuTriggerFor","click"],["svgIcon","settings",1,"trigger-icon"],["actionsMenu",""],["mat-menu-item","","trans","",3,"click",4,"ngIf"],["mode","indeterminate","color","accent",4,"ngIf"],[3,"src"],[1,"no-image"],["svgIcon","photo-size-select-actual"],["trans","",1,"text"],["mat-menu-item","","trans","",3,"click"],["mode","indeterminate","color","accent"]],template:function(e,t){if(1&e&&(g.lc(),g.Vb(0,"div",0),g.cc("click",(function(){return t.openModal()})),g.Vb(1,"div",1),g.kc(2),g.Ub(),g.Vb(3,"div",2),g.Ic(4,ce,1,1,"image-or-icon",3),g.hc(5,"async"),g.Ic(6,se,4,0,"ng-template",null,4,g.Jc),g.Vb(8,"div",5),g.Vb(9,"button",6),g.cc("click",(function(e){return e.stopPropagation()})),g.Qb(10,"mat-icon",7),g.Ub(),g.Vb(11,"mat-menu",null,8),g.Ic(13,le,2,0,"div",9),g.hc(14,"async"),g.Ic(15,ue,2,0,"div",9),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ic(16,de,1,0,"mat-progress-bar",10),g.hc(17,"async")),2&e){var n=g.uc(7),i=g.uc(12);g.Db(4),g.mc("ngIf",g.ic(5,6,t.image$))("ngIfElse",n),g.Db(5),g.mc("matMenuTriggerFor",i),g.Db(4),g.mc("ngIf",g.ic(14,8,t.image$)),g.Db(2),g.mc("ngIf",t.defaultValue),g.Db(1),g.mc("ngIf",g.ic(17,10,t.loading$))}},directives:[R.a,l.t,ae.d,Q.a,ae.e,oe.a,ae.b,re.a],pipes:[l.b],styles:["[_nghost-%COMP%]{display:block;cursor:pointer;margin-bottom:15px;position:relative}.label[_ngcontent-%COMP%]{margin-bottom:5px}.img-container[_ngcontent-%COMP%]{position:relative;height:80px;padding:5px;border:1px solid var(--be-divider-default);border-radius:4px;background-color:var(--be-chip);overflow:hidden}.img-container[_ngcontent-%COMP%], image-or-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}image-or-icon[_ngcontent-%COMP%]{height:100%}img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;-o-object-fit:cover;object-fit:cover}.no-image[_ngcontent-%COMP%]{text-align:center}.no-image[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{display:block;color:var(--be-hint-text);width:40px;height:40px}.no-image[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:var(--be-link);margin-top:3px;font-size:1.3rem}.actions-dropdown[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:5px;color:var(--be-secondary-text)}.actions-dropdown[_ngcontent-%COMP%]   .trigger-icon[_ngcontent-%COMP%]{width:20px;height:20px}.mat-progress-bar[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%}"],changeDetection:0}),me),ve=((be=function(){function e(t,n){d(this,e),this.el=t,this.editor=n}return u(e,[{key:"ngOnInit",value:function(){var e=this;this.el.nativeElement.addEventListener("focus",(function(){e.editor.selectNode(e.selector)})),this.el.nativeElement.addEventListener("blur",(function(){e.editor.deselectNode()}))}}]),e}()).\u0275fac=function(e){return new(e||be)(g.Pb(g.m),g.Pb(j))},be.\u0275dir=g.Kb({type:be,selectors:[["","highlightInPreview",""]],inputs:{selector:["highlightInPreview","selector"]}}),be),ye=function(){return["General"]},ke=((he=function(){function e(t,n){d(this,e),this.fb=t,this.editor=n,this.form=this.fb.group({"branding.logo_light":[""],"branding.logo_dark":[""],"branding.favicon":[""],"env.app_name":[""],"branding.site_description":[""]})}return u(e,[{key:"ngOnInit",value:function(){var e=this,t={};Object.keys(this.form.controls).forEach((function(n){t[n]=e.editor.currentValue(n)})),this.form.patchValue(t),this.form.valueChanges.subscribe((function(t){e.editor.addChanges(t)}))}},{key:"defaultValue",value:function(e){return this.editor.defaultSettings[e]}}]),e}()).\u0275fac=function(e){return new(e||he)(g.Pb(b.h),g.Pb(j))},he.\u0275cmp=g.Jb({type:he,selectors:[["general-appearance-panel"]],hostAttrs:[1,"appearance-panel"],decls:16,vars:8,consts:[[3,"path","back"],[1,"appearance-panel-content","many-inputs",3,"formGroup"],["formControlName","branding.logo_light","diskPrefix","branding_media","highlightInPreview",".logo",3,"defaultValue"],["formControlName","branding.logo_dark","diskPrefix","branding_media","highlightInPreview",".logo",3,"defaultValue"],["backendUri","uploads/favicon","diskPrefix","branding_media","formControlName","branding.favicon",3,"defaultValue"],[1,"input-container"],["for","env.app_name","trans",""],["type","text","id","env.app_name","formControlName","env.app_name",3,"placeholder"],["for","branding.site_description","trans",""],["id","branding.site_description","rows","4","formControlName","branding.site_description",3,"placeholder"]],template:function(e,t){1&e&&(g.Vb(0,"appearance-panel-meta",0),g.cc("back",(function(){return t.editor.closeActivePanel()})),g.Ub(),g.Vb(1,"div",1),g.Vb(2,"appearance-image-input",2),g.Kc(3," Logo #1 (For top navbar) "),g.Ub(),g.Vb(4,"appearance-image-input",3),g.Kc(5," Logo #2 (Everywhere else) "),g.Ub(),g.Vb(6,"appearance-image-input",4),g.Kc(7," Favicon "),g.Ub(),g.Vb(8,"div",5),g.Vb(9,"label",6),g.Kc(10,"Site Name"),g.Ub(),g.Qb(11,"input",7),g.Ub(),g.Vb(12,"div",5),g.Vb(13,"label",8),g.Kc(14,"Site Description"),g.Ub(),g.Qb(15,"textarea",9),g.Ub(),g.Ub()),2&e&&(g.mc("path",g.pc(7,ye)),g.Db(1),g.mc("formGroup",t.form),g.Db(1),g.mc("defaultValue",t.defaultValue("branding.logo_light")),g.Db(2),g.mc("defaultValue",t.defaultValue("branding.logo_dark")),g.Db(2),g.mc("defaultValue",t.defaultValue("branding.favicon")),g.Db(5),g.mc("placeholder",t.defaultValue("env.app_name")),g.Db(4),g.mc("placeholder",t.defaultValue("branding.site_description")))},directives:[Y,b.v,b.m,ge,b.u,b.k,ve,R.a,b.d],styles:[""],changeDetection:0}),he),xe=c("0IaG"),_e=((pe=function(){function e(t){d(this,e),this.http=t}return u(e,[{key:"all",value:function(){return this.http.get("css-theme")}},{key:"create",value:function(e){return this.http.post("css-theme",e)}},{key:"update",value:function(e,t){return this.http.put("css-theme/"+e,t)}},{key:"delete",value:function(e){return this.http.delete("css-theme/"+e)}}]),e}()).\u0275fac=function(e){return new(e||pe)(g.Zb(L.a))},pe.\u0275prov=g.Lb({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe),Ve=c("1jcm");function we(e,t){1&e&&(g.Vb(0,"span",6),g.Kc(1,"Update Theme"),g.Ub())}function Ce(e,t){1&e&&(g.Vb(0,"span",6),g.Kc(1,"Create Theme"),g.Ub())}function Pe(e,t){if(1&e&&(g.Vb(0,"div",21),g.Kc(1),g.Ub()),2&e){var n=g.gc().ngIf;g.Db(1),g.Lc(n.name)}}function Ie(e,t){1&e&&(g.Vb(0,"span"),g.Kc(1,"Update"),g.Ub())}function Me(e,t){1&e&&(g.Vb(0,"span"),g.Kc(1,"Create"),g.Ub())}function Ue(e,t){if(1&e){var n=g.Wb();g.Vb(0,"form",7),g.cc("ngSubmit",(function(){return g.xc(n),g.gc().confirm()})),g.Vb(1,"mat-dialog-content",8),g.Vb(2,"div",9),g.Vb(3,"label",10),g.Kc(4,"Name"),g.Ub(),g.Qb(5,"input",11),g.Ic(6,Pe,2,1,"div",12),g.Ub(),g.Vb(7,"div",13),g.Vb(8,"mat-slide-toggle",14),g.Kc(9,"Dark Theme"),g.Ub(),g.Vb(10,"p",6),g.Kc(11,"Whether this theme has light text on dark background."),g.Ub(),g.Ub(),g.Vb(12,"div",13),g.Vb(13,"mat-slide-toggle",15),g.Kc(14,"Default Dark Theme"),g.Ub(),g.Vb(15,"p",6),g.Kc(16,"Whether this theme should be used as default dark theme."),g.Ub(),g.Ub(),g.Vb(17,"div",13),g.Vb(18,"mat-slide-toggle",16),g.Kc(19,"Default Light Theme"),g.Ub(),g.Vb(20,"p",6),g.Kc(21,"Whether this theme should be used as default light theme."),g.Ub(),g.Ub(),g.Ub(),g.Vb(22,"mat-dialog-actions"),g.Vb(23,"button",17),g.cc("click",(function(){return g.xc(n),g.gc().close()})),g.Kc(24,"Cancel"),g.Ub(),g.Vb(25,"button",18),g.hc(26,"async"),g.Ic(27,Ie,2,0,"span",19),g.Ic(28,Me,2,0,"ng-template",null,20,g.Jc),g.Ub(),g.Ub(),g.Ub()}if(2&e){var i=t.ngIf,a=g.uc(29),o=g.gc();g.mc("formGroup",o.form),g.Db(6),g.mc("ngIf",i.name),g.Db(19),g.mc("disabled",g.ic(26,5,o.loading$)),g.Db(2),g.mc("ngIf",o.data.theme)("ngIfElse",a)}}var Oe,De,Se=((Oe=function(){function e(t,n,i,a,o){var r=this;d(this,e),this.dialogRef=t,this.data=n,this.cssTheme=i,this.toast=a,this.fb=o,this.loading$=new U.a(!1),this.errors$=new U.a({}),this.form=this.fb.group({name:[""],is_dark:[!1],default_dark:[!1],default_light:[!1]}),n.theme&&this.form.patchValue(n.theme),this.form.get("default_dark").valueChanges.pipe(Object(S.a)((function(e){return!!e}))).subscribe((function(){r.form.get("default_light").setValue(!1)})),this.form.get("default_light").valueChanges.pipe(Object(S.a)((function(e){return!!e}))).subscribe((function(){r.form.get("default_dark").setValue(!1)}))}return u(e,[{key:"confirm",value:function(){var e=this;(this.data.theme?this.cssTheme.update(this.data.theme.id,this.form.value):this.cssTheme.create(this.form.value)).subscribe((function(t){e.toast.open(e.data.theme?"Theme updated":"Theme created"),e.close(t.theme)}),(function(t){return e.errors$.next(t.errors)}))}},{key:"close",value:function(e){this.dialogRef.close(e)}}]),e}()).\u0275fac=function(e){return new(e||Oe)(g.Pb(xe.h),g.Pb(xe.a),g.Pb(_e),g.Pb(A.b),g.Pb(b.h))},Oe.\u0275cmp=g.Jb({type:Oe,selectors:[["crupdate-css-theme-modal"]],decls:8,vars:5,consts:[[1,"modal-header"],["mat-dialog-title",""],["trans","",4,"ngIf"],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],["ngNativeValidate","",3,"formGroup","ngSubmit",4,"ngIf"],["trans",""],["ngNativeValidate","",3,"formGroup","ngSubmit"],[1,"many-inputs"],[1,"input-container"],["for","name","trans",""],["type","text","id","name","formControlName","name","required","","minlength","3"],["class","error",4,"ngIf"],[1,"setting-toggle-container"],["id","is_dark","formControlName","is_dark","trans",""],["id","default_dark","formControlName","default_dark","trans",""],["id","default_light","formControlName","default_light","trans",""],["type","button","mat-button","","trans","",3,"click"],["type","submit","mat-raised-button","","color","accent","trans","",3,"disabled"],[4,"ngIf","ngIfElse"],["creating",""],[1,"error"]],template:function(e,t){1&e&&(g.Vb(0,"div",0),g.Vb(1,"h2",1),g.Ic(2,we,2,0,"span",2),g.Ic(3,Ce,2,0,"span",2),g.Ub(),g.Vb(4,"button",3),g.cc("click",(function(){return t.close()})),g.Qb(5,"mat-icon",4),g.Ub(),g.Ub(),g.Ic(6,Ue,30,7,"form",5),g.hc(7,"async")),2&e&&(g.Db(2),g.mc("ngIf",t.data.theme),g.Db(1),g.mc("ngIf",!t.data.theme),g.Db(3),g.mc("ngIf",g.ic(7,3,t.errors$)))},directives:[xe.i,l.t,Q.a,R.a,b.v,b.m,xe.f,b.d,b.u,b.k,b.F,b.q,Ve.a,xe.c,W.b],pipes:[l.b],styles:["[_nghost-%COMP%]{display:block;width:400px;max-width:100%}"],changeDetection:0}),Oe),$e=c("/RwR"),Ee=c("QGXG"),Fe=c("FBzJ"),Ke=c("mrSG"),Te=c("JYI4"),Le=c("dz5c"),Ae=["*"],je=((De=function(){function e(t){d(this,e),this.overlayPanel=t,this.color$=new U.a(null)}return u(e,[{key:"ngOnDestroy",value:function(){this.pickerSub&&this.pickerSub.unsubscribe()}},{key:"writeValue",value:function(e){this.color$.next(e)}},{key:"registerOnChange",value:function(e){this.propagateChange=e}},{key:"registerOnTouched",value:function(){}},{key:"openColorPicker",value:function(e){return Object(Ke.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i,a=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.e(2).then(c.bind(null,"0PT2"));case 2:n=t.sent,i=n.BeColorPickerModule,this.pickerSub=this.overlayPanel.open(i.components.panel,{origin:new g.m(e.target),position:Te.a,data:{color:this.color$.value}}).valueChanged().subscribe((function(e){a.color$.next(e),a.propagateChange(a.color$.value)}));case 5:case"end":return t.stop()}}),t,this)})))}}]),e}()).\u0275fac=function(e){return new(e||De)(g.Pb(Le.a))},De.\u0275cmp=g.Jb({type:De,selectors:[["color-picker-input"]],features:[g.Cb([{provide:b.s,useExisting:De,multi:!0}])],ngContentSelectors:Ae,decls:7,vars:4,consts:[["type","button",1,"no-style","color-picker-btn",3,"click"],["svgIcon","drop-custom",1,"color-icon"],["trans","",1,"name"],["trans","",1,"change"]],template:function(e,t){1&e&&(g.lc(),g.Vb(0,"button",0),g.cc("click",(function(e){return t.openColorPicker(e)})),g.Vb(1,"mat-icon",1),g.hc(2,"async"),g.Ub(),g.Vb(3,"span",2),g.kc(4),g.Ub(),g.Vb(5,"span",3),g.Kc(6,"Change"),g.Ub(),g.Ub()),2&e&&(g.Db(1),g.Fc("color",g.ic(2,2,t.color$)))},directives:[Q.a,R.a],pipes:[l.b],styles:[".color-picker-btn[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 10px 0 15px;margin-bottom:15px;border-radius:4px;border:1px solid var(--be-divider-default);background-color:var(--be-background);cursor:pointer;height:57px;font-size:1.5rem;overflow:hidden;width:100%}.color-picker-btn[_ngcontent-%COMP%]   .color-icon[_ngcontent-%COMP%]{width:35px;height:35px}.color-picker-btn[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{margin-left:3px;margin-top:3px;font-size:1.4rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:160px;text-transform:capitalize}.color-picker-btn[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]{color:var(--be-link);font-size:1.3rem;margin-left:auto}"],changeDetection:0}),De);function ze(e,t){if(1&e&&(g.Vb(0,"li"),g.Vb(1,"color-picker-input",2),g.Kc(2),g.Ub(),g.Ub()),2&e){var n=t.$implicit,i=g.gc();g.Db(1),g.mc("formControlName",n.key),g.Db(1),g.Lc(i.viewName(n.key))}}var Ne,Qe=((Ne=function(){function e(t,n){d(this,e),this.editor=t,this.themes=n,this.form=new b.l({}),this.colorCache={}}return u(e,[{key:"ngOnInit",value:function(){var e=this;this.editor.setSaveRequest(this.saveColors.bind(this)),Object.entries(this.theme.colors).forEach((function(t){var n=r(t,2),i=n[0],a=n[1];e.form.addControl(i,new b.i(a))})),this.editor.initiated$.subscribe((function(){e.setColors(e.theme.colors),e.form.valueChanges.subscribe((function(t){e.setColors(t),e.editor.addChanges({colors:t})}))}))}},{key:"ngOnDestroy",value:function(){this.editor.setSaveRequest(null)}},{key:"saveColors",value:function(e){return this.themes.update(this.theme.id,e)}},{key:"setColors",value:function(e){var t=this;Object.entries(e).forEach((function(e){var n=r(e,2),i=n[0],a=n[1];t.colorCache[i]!==a&&(t.editor.postMessage(new C(i,a)),t.colorCache[i]=a)}))}},{key:"viewName",value:function(e){return e.replace("be-","").replace(/-/g," ")}}]),e}()).\u0275fac=function(e){return new(e||Ne)(g.Pb(j),g.Pb(_e))},Ne.\u0275cmp=g.Jb({type:Ne,selectors:[["css-theme-colors-panel"]],inputs:{theme:"theme"},decls:3,vars:4,consts:[[1,"unstyled-list",3,"formGroup"],[4,"ngFor","ngForOf"],["trans","",3,"formControlName"]],template:function(e,t){1&e&&(g.Vb(0,"ul",0),g.Ic(1,ze,3,2,"li",1),g.hc(2,"keyvalue"),g.Ub()),2&e&&(g.mc("formGroup",t.form),g.Db(1),g.mc("ngForOf",g.ic(2,2,t.theme.colors)))},directives:[b.v,b.m,l.s,je,R.a,b.u,b.k],pipes:[l.l],styles:[""],changeDetection:0}),Ne);function Re(e,t){1&e&&g.Qb(0,"css-theme-colors-panel",5),2&e&&g.mc("theme",t.ngIf)}function We(e,t){if(1&e){var n=g.Wb();g.Vb(0,"li",9),g.cc("click",(function(){g.xc(n);var e=t.$implicit;return g.gc(2).setSelectedTheme(e)})),g.Vb(1,"div",10),g.Kc(2),g.Ub(),g.Vb(3,"div",11),g.cc("click",(function(e){return g.xc(n),e.stopPropagation()})),g.Vb(4,"button",12),g.cc("click",(function(){g.xc(n);var e=t.$implicit;return g.gc(2).setSelectedTheme(e)})),g.Qb(5,"mat-icon",13),g.Ub(),g.Vb(6,"button",12),g.cc("click",(function(){g.xc(n);var e=t.$implicit;return g.gc(2).openCrupdateThemeModal(e)})),g.Qb(7,"mat-icon",14),g.Ub(),g.Vb(8,"button",12),g.cc("click",(function(){g.xc(n);var e=t.$implicit;return g.gc(2).maybeDeleteThemeModal(e)})),g.Qb(9,"mat-icon",15),g.Ub(),g.Ub(),g.Ub()}if(2&e){var i=t.$implicit;g.Db(2),g.Lc(i.name)}}function Ge(e,t){if(1&e){var n=g.Wb();g.Vb(0,"button",6),g.cc("click",(function(){return g.xc(n),g.gc().openCrupdateThemeModal()})),g.Kc(1,"New Theme"),g.Ub(),g.Vb(2,"ul",7),g.Ic(3,We,10,1,"li",8),g.hc(4,"async"),g.Ub()}if(2&e){var i=g.gc();g.Db(3),g.mc("ngForOf",g.ic(4,1,i.loadedThemes$))}}var Je,qe,He,Xe=((Je=function(){function e(t,n,i,a,o,r){d(this,e),this.appearance=t,this.modal=n,this.themes=i,this.toast=a,this.router=o,this.route=r,this.loading$=new U.a(!1),this.loadedThemes$=new U.a([]),this.selectedTheme$=new U.a(null),this.path$=this.selectedTheme$.pipe(Object(f.a)((function(e){var t=["Themes"];return e&&t.push(e.name),t})))}return u(e,[{key:"ngOnInit",value:function(){this.reloadThemes()}},{key:"ngOnDestroy",value:function(){this.querySub&&this.querySub.unsubscribe()}},{key:"openCrupdateThemeModal",value:function(e){var t=this;this.modal.open(Se,{theme:e}).afterClosed().subscribe((function(e){e&&t.reloadThemes()}))}},{key:"setSelectedTheme",value:function(e){this.router.navigate([],{queryParams:{theme:e&&e.id},queryParamsHandling:"merge"})}},{key:"openPreviousPanel",value:function(){this.selectedTheme$.value?this.setSelectedTheme():this.appearance.closeActivePanel()}},{key:"maybeDeleteThemeModal",value:function(e){var t=this;this.modal.show($e.a,{title:"Delete Theme",body:"Are you sure you want to delete this theme?",ok:"Delete"}).afterClosed().subscribe((function(n){n&&t.deleteTheme(e)}))}},{key:"reloadThemes",value:function(){var e=this;this.loading$.next(!0),this.themes.all().pipe(Object($.a)((function(){return e.loading$.next(!1)}))).subscribe((function(t){e.loadedThemes$.next(t.pagination.data),e.bindToQueryParams()}))}},{key:"deleteTheme",value:function(e){var t=this;this.themes.delete([e.id]).subscribe((function(){t.toast.open("Theme deleted"),t.reloadThemes()}))}},{key:"bindToQueryParams",value:function(){var e=this;this.querySub||(this.querySub=this.route.queryParams.subscribe((function(t){var n=e.loadedThemes$.value.find((function(e){return e.id===+t.theme}));e.selectedTheme$.next(n)})))}}]),e}()).\u0275fac=function(e){return new(e||Je)(g.Pb(j),g.Pb(Ee.a),g.Pb(_e),g.Pb(A.b),g.Pb(m.g),g.Pb(m.a))},Je.\u0275cmp=g.Jb({type:Je,selectors:[["themes-appearance-panel"]],decls:9,vars:10,consts:[[3,"path","back"],[1,"appearance-panel-content"],[3,"theme",4,"ngIf","ngIfElse"],["themesList",""],[1,"overlay","overlay-partial",3,"isVisible"],[3,"theme"],["mat-raised-button","","color","accent","type","button","trans","",1,"new-theme-button",3,"click"],[1,"unstyled-list"],["class","nav-item",3,"click",4,"ngFor","ngForOf"],[1,"nav-item",3,"click"],[1,"name"],[1,"actions",3,"click"],["mat-icon-button","","type","button",3,"click"],["svgIcon","drop-custom"],["svgIcon","edit"],["svgIcon","delete"]],template:function(e,t){if(1&e&&(g.Vb(0,"appearance-panel-meta",0),g.cc("back",(function(){return t.openPreviousPanel()})),g.hc(1,"async"),g.Ub(),g.Vb(2,"div",1),g.Ic(3,Re,1,1,"css-theme-colors-panel",2),g.hc(4,"async"),g.Ic(5,Ge,5,3,"ng-template",null,3,g.Jc),g.Ub(),g.Qb(7,"loading-indicator",4),g.hc(8,"async")),2&e){var n=g.uc(6);g.mc("path",g.ic(1,4,t.path$)),g.Db(3),g.mc("ngIf",g.ic(4,6,t.selectedTheme$))("ngIfElse",n),g.Db(4),g.mc("isVisible",g.ic(8,8,t.loading$))}},directives:[Y,l.t,Fe.a,Qe,W.b,R.a,l.s,Q.a],pipes:[l.b],styles:[".new-theme-button[_ngcontent-%COMP%]{margin-bottom:15px}"],changeDetection:0}),Je),Ye=c("WvtK"),Be=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var n in d(this,e),this.type="link",this.condition=null,this.target=null,this.activeExact=!1,t)this[n]=t[n];this.id=Math.floor(999*Math.random())},Ze=c("5+WD"),et=c("f9yG"),tt=((qe=function(){function e(t,n){d(this,e),this.settings=t,this.appearance=n,this.allMenus$=new U.a([]),this.activeMenu$=new U.a(null)}return u(e,[{key:"create",value:function(){var e=o(this.allMenus$.value);this.activeMenu$.next(new et.a({name:"New Menu"})),e.push(this.activeMenu$.value),this.allMenus$.next(e),this.commitChanges()}},{key:"reorderActiveMenuItems",value:function(e,t){var n=Object.assign({},this.activeMenu$.value);Object(Ze.e)(n.items,e,t),this.activeMenu$.next(n),this.commitChanges()}},{key:"deleteActive",value:function(){var e=o(this.allMenus$.value),t=e.indexOf(this.activeMenu$.value);e.splice(t,1),this.activeMenu$.next(null),this.allMenus$.next(e),this.commitChanges()}},{key:"addItem",value:function(e){var t=Object.assign({},this.activeMenu$.value);e=this.transformLocalLinksToRoutes(e),t.items.push(e),this.activeMenu$.next(t),this.commitChanges()}},{key:"removeItem",value:function(e){var t=Object.assign({},this.activeMenu$.value),n=this.activeMenu$.value.items.indexOf(e);t.items.splice(n,1),this.activeMenu$.next(t),this.commitChanges()}},{key:"transformLocalLinksToRoutes",value:function(e){var t=this.settings.getBaseUrl();return"link"!==e.type||-1===e.action.indexOf(t)||(e.type="route",e.action=e.action.replace(this.settings.getBaseUrl(),"")),e}},{key:"commitChanges",value:function(){var e=JSON.stringify(this.allMenus$.value);this.appearance.setConfig("menus",e),this.appearance.addChanges({menus:e})}},{key:"setFromJson",value:function(e){if(e){var t=JSON.parse(e);if(t){var n=t.map((function(e){var t=new et.a(e);return t.items=t.items.map((function(e){return new Be(e)})),t}));this.allMenus$.next(n)}}}}]),e}()).\u0275fac=function(e){return new(e||qe)(g.Zb(T.a),g.Zb(j))},qe.\u0275prov=g.Lb({token:qe,factory:qe.\u0275fac,providedIn:"root"}),qe),nt=c("ZfYz"),it=c("sPnx"),at=((He=function(){function e(t){d(this,e),this.http=t}return u(e,[{key:"get",value:function(){return this.http.getWithCache("admin/appearance/menu-categories")}}]),e}()).\u0275fac=function(e){return new(e||He)(g.Zb(it.a))},He.\u0275prov=g.Lb({token:He,factory:He.\u0275fac,providedIn:"root"}),He),ot=c("7EHt");function rt(e,t){if(1&e){var n=g.Wb();g.Vb(0,"div",17),g.cc("click",(function(){g.xc(n);var e=t.$implicit;return g.gc().addRouteMenuItem(e)})),g.Kc(1),g.Ub()}if(2&e){var i=t.$implicit;g.Db(1),g.Mc("",i," ")}}function ct(e,t){if(1&e){var n=g.Wb();g.Vb(0,"div",17),g.cc("click",(function(){g.xc(n);var e=t.$implicit;return g.gc(2).addCustomMenuItem(e)})),g.Kc(1),g.Ub()}if(2&e){var i=t.$implicit;g.Db(1),g.Lc(i.label)}}function st(e,t){if(1&e&&(g.Vb(0,"mat-expansion-panel",5),g.Vb(1,"mat-expansion-panel-header"),g.Vb(2,"mat-panel-title",6),g.Kc(3),g.Ub(),g.Ub(),g.Vb(4,"div",14),g.Ic(5,ct,2,1,"div",15),g.Ub(),g.Ub()),2&e){var n=t.$implicit;g.Db(3),g.Lc(n.name),g.Db(2),g.mc("ngForOf",n.items)}}var lt,ut=((lt=function(){function e(t,n,i,a,o){d(this,e),this.editor=t,this.appearance=n,this.overlayPanelRef=i,this.fb=a,this.itemCategories=o,this.linkForm=this.fb.group({action:[""],label:[""]})}return u(e,[{key:"ngOnInit",value:function(){var e=this;this.itemCategories.get().subscribe((function(t){e.menuItemCategories=t.categories}))}},{key:"addLinkMenuItem",value:function(){this.editor.addItem(new Be({type:"link",label:this.linkForm.value.label,action:this.linkForm.value.action})),this.linkForm.reset(),this.close()}},{key:"addRouteMenuItem",value:function(e){this.editor.addItem(new Be({type:"route",label:e,action:e})),this.close()}},{key:"addCustomMenuItem",value:function(e){this.editor.addItem(new Be(e)),this.close()}},{key:"close",value:function(){this.overlayPanelRef.close()}}]),e}()).\u0275fac=function(e){return new(e||lt)(g.Pb(tt),g.Pb(j),g.Pb(nt.a),g.Pb(b.h),g.Pb(at))},lt.\u0275cmp=g.Jb({type:lt,selectors:[["add-menu-item-panel"]],decls:30,vars:3,consts:[[1,"header"],["trans","",1,"title"],["svgIcon","close",3,"click"],[1,"new-item-tabs"],["ngNativeValidate","",3,"formGroup","ngSubmit"],[1,"mat-elevation-z"],["trans",""],[1,"many-inputs","expansion-panel-content"],[1,"input-container"],["for","external-link-url","trans",""],["type","url","id","external-link-url","formControlName","action","required",""],["for","external-link-text","trans",""],["type","text","id","external-link-text","formControlName","label","required",""],["mat-button","","color","accent","type","submit","trans",""],[1,"items-list","expansion-panel-content"],["class","item",3,"click",4,"ngFor","ngForOf"],["class","mat-elevation-z",4,"ngFor","ngForOf"],[1,"item",3,"click"]],template:function(e,t){1&e&&(g.Vb(0,"div",0),g.Vb(1,"span",1),g.Kc(2,"New Menu Item"),g.Ub(),g.Vb(3,"mat-icon",2),g.cc("click",(function(){return t.close()})),g.Ub(),g.Ub(),g.Vb(4,"div",3),g.Vb(5,"mat-accordion"),g.Vb(6,"form",4),g.cc("ngSubmit",(function(){return t.addLinkMenuItem()})),g.Vb(7,"mat-expansion-panel",5),g.Vb(8,"mat-expansion-panel-header"),g.Vb(9,"mat-panel-title",6),g.Kc(10,"Link"),g.Ub(),g.Ub(),g.Vb(11,"div",7),g.Vb(12,"div",8),g.Vb(13,"label",9),g.Kc(14,"URL"),g.Ub(),g.Qb(15,"input",10),g.Ub(),g.Vb(16,"div",8),g.Vb(17,"label",11),g.Kc(18,"Link Text"),g.Ub(),g.Qb(19,"input",12),g.Ub(),g.Ub(),g.Vb(20,"mat-action-row"),g.Vb(21,"button",13),g.Kc(22,"Add"),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Vb(23,"mat-expansion-panel",5),g.Vb(24,"mat-expansion-panel-header"),g.Vb(25,"mat-panel-title",6),g.Kc(26,"Route"),g.Ub(),g.Ub(),g.Vb(27,"div",14),g.Ic(28,rt,2,1,"div",15),g.Ub(),g.Ub(),g.Ic(29,st,6,2,"mat-expansion-panel",16),g.Ub(),g.Ub()),2&e&&(g.Db(6),g.mc("formGroup",t.linkForm),g.Db(22),g.mc("ngForOf",t.appearance.config.menus.availableRoutes),g.Db(1),g.mc("ngForOf",t.menuItemCategories))},directives:[R.a,Q.a,ot.a,b.v,b.m,ot.c,ot.e,ot.f,b.d,b.u,b.k,b.F,ot.d,W.b,l.s],styles:["[_nghost-%COMP%]{background-color:var(--be-background-alternative);box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12);overflow:hidden;width:300px;border-radius:4px}.header[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:var(--be-background);padding:15px;font-size:1.7rem;font-weight:300;border-bottom:1px solid var(--be-divider-default);margin-bottom:10px}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{cursor:pointer;color:var(--be-secondary-text);margin-left:auto}.new-item-tabs[_ngcontent-%COMP%]{padding:10px}.items-list[_ngcontent-%COMP%]{overflow:auto;max-height:300px}.items-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{color:var(--be-link);padding-bottom:8px;margin-bottom:8px;border-bottom:1px solid var(--be-divider-default);cursor:pointer}.items-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover{text-decoration:underline}.mat-expansion-panel[_ngcontent-%COMP%]{border:1px solid var(--be-divider-default);margin-bottom:10px}.mat-expansion-panel-header[_ngcontent-%COMP%]{min-height:57px}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{border-bottom:1px solid var(--be-divider-default)}.expansion-panel-content[_ngcontent-%COMP%]{padding-top:25px}"],changeDetection:0}),lt);function dt(e,t){if(1&e){var n=g.Wb();g.Vb(0,"button",2),g.cc("click",(function(){g.xc(n);var e=t.$implicit;return g.gc().selectIcon(e)})),g.Qb(1,"mat-icon",3),g.Ub()}if(2&e){var i=t.$implicit;g.Db(1),g.mc("svgIcon",i)}}var bt,mt=((bt=function(){function e(t,n){d(this,e),this.http=t,this.overlayPanelRef=n,this.icons$=new U.a([]),this.loading$=new U.a(!1),this.iconSelected=new g.o}return u(e,[{key:"ngOnInit",value:function(){var e=this;this.loading$.next(!0),this.http.get("admin/icons").pipe(Object($.a)((function(){return e.loading$.next(!1)}))).subscribe((function(t){e.icons$.next(t.icons)}))}},{key:"selectIcon",value:function(e){this.iconSelected.observers.length?this.iconSelected.next(e):(this.overlayPanelRef.emitValue(e),this.overlayPanelRef.close())}}]),e}()).\u0275fac=function(e){return new(e||bt)(g.Pb(it.a),g.Pb(nt.a))},bt.\u0275cmp=g.Jb({type:bt,selectors:[["icon-selector"]],outputs:{iconSelected:"iconSelected"},decls:4,vars:6,consts:[["mat-icon-button","",3,"click",4,"ngFor","ngForOf"],[1,"overlay","overlay-partial",3,"isVisible"],["mat-icon-button","",3,"click"],[3,"svgIcon"]],template:function(e,t){1&e&&(g.Ic(0,dt,2,1,"button",0),g.hc(1,"async"),g.Qb(2,"loading-indicator",1),g.hc(3,"async")),2&e&&(g.mc("ngForOf",g.ic(1,2,t.icons$)),g.Db(2),g.mc("isVisible",g.ic(3,4,t.loading$)))},directives:[l.s,Fe.a,W.b,Q.a],pipes:[l.b],styles:["[_nghost-%COMP%]{display:block;background-color:var(--be-background);padding:15px;border-radius:4px;width:490px;max-width:90vw;min-height:390px;overflow:auto;position:relative;text-align:center;box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.mat-icon-button[_ngcontent-%COMP%]{transition:transform .1s ease-in-out}.mat-icon-button[_ngcontent-%COMP%]:hover{transform:scale(1.6)}"],changeDetection:0}),bt);function ht(e,t){if(1&e){var n=g.Wb();g.Vb(0,"mat-expansion-panel",5),g.cc("opened",(function(){g.xc(n);var e=t.$implicit;return g.gc(2).toggleMenuItem(e)}))("closed",(function(){g.xc(n);var e=t.$implicit;return g.gc(2).toggleMenuItem(e)})),g.Vb(1,"mat-expansion-panel-header"),g.Vb(2,"mat-panel-title"),g.Qb(3,"mat-icon",6),g.Vb(4,"span",7),g.Kc(5),g.Ub(),g.Ub(),g.Ub(),g.Vb(6,"div",8),g.Vb(7,"div",9),g.Vb(8,"label",10),g.Kc(9,"Label"),g.Ub(),g.Vb(10,"input",11),g.cc("ngModelChange",(function(e){return g.xc(n),t.$implicit.label=e}))("ngModelChange",(function(){return g.xc(n),g.gc(2).menus.commitChanges()})),g.Ub(),g.Ub(),g.Vb(11,"div",9),g.Vb(12,"label",10),g.Kc(13,"Type"),g.Ub(),g.Vb(14,"select",12),g.cc("ngModelChange",(function(e){return g.xc(n),t.$implicit.type=e}))("ngModelChange",(function(){return g.xc(n),g.gc(2).menus.commitChanges()})),g.Vb(15,"option",13),g.Kc(16,"Link"),g.Ub(),g.Vb(17,"option",14),g.Kc(18,"Route"),g.Ub(),g.Vb(19,"option",15),g.Kc(20,"Page"),g.Ub(),g.Ub(),g.Ub(),g.Vb(21,"div",9),g.Vb(22,"label",10),g.Kc(23,"Action"),g.Ub(),g.Vb(24,"input",11),g.cc("ngModelChange",(function(e){return g.xc(n),t.$implicit.action=e}))("ngModelChange",(function(){return g.xc(n),g.gc(2).menus.commitChanges()})),g.Ub(),g.Ub(),g.Vb(25,"div",9),g.Vb(26,"label",10),g.Kc(27,"Condition"),g.Ub(),g.Vb(28,"select",12),g.cc("ngModelChange",(function(e){return g.xc(n),t.$implicit.condition=e}))("ngModelChange",(function(){return g.xc(n),g.gc(2).menus.commitChanges()})),g.Vb(29,"option",16),g.Kc(30,"None"),g.Ub(),g.Vb(31,"option",17),g.Kc(32,"Show to Logged in Users Only"),g.Ub(),g.Vb(33,"option",18),g.Kc(34,"Show to Guest Users Only"),g.Ub(),g.Vb(35,"option",19),g.Kc(36,"Show to Admin Only"),g.Ub(),g.Ub(),g.Ub(),g.Vb(37,"div",9),g.Vb(38,"label",10),g.Kc(39,"Open link in"),g.Ub(),g.Vb(40,"select",12),g.cc("ngModelChange",(function(e){return g.xc(n),t.$implicit.target=e}))("ngModelChange",(function(){return g.xc(n),g.gc(2).menus.commitChanges()})),g.Vb(41,"option",20),g.Kc(42,"Same Window"),g.Ub(),g.Vb(43,"option",21),g.Kc(44,"New Window"),g.Ub(),g.Ub(),g.Ub(),g.Vb(45,"div",22,23),g.cc("click",(function(){g.xc(n);var e=t.$implicit,i=g.uc(46);return g.gc(2).openIconSelector(i,e)})),g.Vb(47,"label",10),g.Kc(48,"Icon"),g.Ub(),g.Vb(49,"input",24),g.cc("ngModelChange",(function(e){return g.xc(n),t.$implicit.icon=e})),g.Ub(),g.Qb(50,"mat-icon",25),g.Ub(),g.Ub(),g.Vb(51,"mat-action-row"),g.Vb(52,"button",26),g.cc("click",(function(){return g.xc(n),g.gc(2).confirmMenuItemDeletion()})),g.Kc(53,"Remove"),g.Ub(),g.Ub(),g.Ub()}if(2&e){var i=t.$implicit;g.Eb("data-id",i.id),g.Db(5),g.Lc(i.label),g.Db(3),g.nc("for",i.id+"-label"),g.Db(2),g.nc("id",i.id+"-label"),g.mc("ngModel",i.label),g.Db(2),g.nc("for",i.id+"-type"),g.Db(2),g.nc("id",i.id+"-type"),g.mc("ngModel",i.type),g.Db(8),g.nc("for",i.id+"-action"),g.Db(2),g.nc("id",i.id+"-action"),g.mc("ngModel",i.action),g.Db(2),g.nc("for",i.id+"-condition"),g.Db(2),g.nc("id",i.id+"-condition"),g.mc("ngModel",i.condition),g.Db(1),g.mc("ngValue",null),g.Db(9),g.nc("for",i.id+"-target"),g.Db(2),g.nc("id",i.id+"-target"),g.mc("ngModel",i.target),g.Db(7),g.nc("for",i.id+"-icon"),g.Db(2),g.nc("id",i.id+"-icon"),g.mc("ngModel",i.icon),g.Db(1),g.mc("svgIcon",i.icon)}}function pt(e,t){if(1&e){var n=g.Wb();g.Vb(0,"mat-accordion",3),g.cc("cdkDropListDropped",(function(e){return g.xc(n),g.gc().reorderMenuItems(e)})),g.Ic(1,ht,54,22,"mat-expansion-panel",4),g.Ub()}if(2&e){var i=t.ngIf;g.Db(1),g.mc("ngForOf",i.items)}}function ft(e,t){1&e&&(g.Vb(0,"div",27),g.Kc(1,"This menu has no items yet."),g.Ub())}var gt,vt=((gt=function(){function e(t,n,i,a){d(this,e),this.menus=t,this.modal=n,this.overlayPanel=i,this.cd=a,this.subscriptions=[]}return u(e,[{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){e&&e.unsubscribe()}))}},{key:"reorderMenuItems",value:function(e){this.menus.reorderActiveMenuItems(e.previousIndex,e.currentIndex)}},{key:"toggleMenuItem",value:function(e){this.selectedMenuItem=this.selectedMenuItem===e?null:e}},{key:"confirmMenuItemDeletion",value:function(){var e=this;this.modal.show($e.a,{title:"Delete Menu Item",body:"Are you sure you want to delete this menu item?",ok:"Delete"}).afterClosed().subscribe((function(t){t&&(e.menus.removeItem(e.selectedMenuItem),e.selectedMenuItem=null)}))}},{key:"openIconSelector",value:function(e,t){var n=this;this.overlayPanel.open(mt,{position:Ye.a,origin:new g.m(e)}).valueChanged().subscribe((function(e){t.icon=e,n.menus.commitChanges(),n.cd.detectChanges()}))}}]),e}()).\u0275fac=function(e){return new(e||gt)(g.Pb(tt),g.Pb(Ee.a),g.Pb(Le.a),g.Pb(g.i))},gt.\u0275cmp=g.Jb({type:gt,selectors:[["menu-items"]],decls:6,vars:4,consts:[["trans","",1,"title"],["cdkDropList","",3,"cdkDropListDropped",4,"ngIf","ngIfElse"],["noActiveMenu",""],["cdkDropList","",3,"cdkDropListDropped"],["class","mat-elevation-z menu-item-container","cdkDrag","",3,"opened","closed",4,"ngFor","ngForOf"],["cdkDrag","",1,"mat-elevation-z","menu-item-container",3,"opened","closed"],["cdkDragHandle","","svgIcon","drag-handle",1,"drag-handle"],[1,"name"],[1,"many-inputs","menu-item-list"],[1,"input-container"],["trans","",3,"for"],["type","text",3,"ngModel","id","ngModelChange"],[3,"ngModel","id","ngModelChange"],["value","link","trans",""],["value","route","trans",""],["value","page","trans",""],["trans","",3,"ngValue"],["value","auth","trans",""],["value","guest","trans",""],["value","admin","trans",""],["value","_self","trans",""],["value","_blank","trans",""],[1,"input-container","icon-input-container",3,"click"],["iconInput",""],["type","text","readonly","","placeholder","(Optional)","trans-placeholder","",3,"ngModel","id","ngModelChange"],[3,"svgIcon"],["mat-button","","color","warn","trans","",1,"delete-button",3,"click"],["trans","",1,"no-menu-items"]],template:function(e,t){if(1&e&&(g.Vb(0,"div",0),g.Kc(1,"Menu Items"),g.Ub(),g.Ic(2,pt,2,1,"mat-accordion",1),g.hc(3,"async"),g.Ic(4,ft,2,0,"ng-template",null,2,g.Jc)),2&e){var n=g.uc(5);g.Db(2),g.mc("ngIf",g.ic(3,2,t.menus.activeMenu$))("ngIfElse",n)}},directives:[R.a,l.t,ot.a,Ze.c,l.s,ot.c,Ze.a,ot.e,ot.f,Q.a,Ze.b,b.d,b.u,b.x,b.G,b.z,b.J,ot.d,W.b],pipes:[l.b],styles:["[_nghost-%COMP%]{display:block}.title[_ngcontent-%COMP%]{margin:35px 0 5px}.no-menu-items[_ngcontent-%COMP%]{font-size:1.6rem;font-style:italic;color:var(--be-secondary-text);margin:10px 0}.icon-input-container[_ngcontent-%COMP%]{position:relative}.icon-input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:35px}.icon-input-container[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{position:absolute;top:36px;left:8px;color:var(--be-secondary-text)}.menu-item-list[_ngcontent-%COMP%]{padding-top:25px}.mat-expansion-panel[_ngcontent-%COMP%]{margin-bottom:10px;border-radius:4px;border:1px solid var(--be-divider-default)}.mat-expansion-panel-header[_ngcontent-%COMP%]{min-height:57px}.mat-expansion-panel-header.mat-expanded[_ngcontent-%COMP%]{border-bottom:1px solid var(--be-divider-default)}.mat-action-row[_ngcontent-%COMP%]{border:none;padding:0 15px 10px}.drag-handle[_ngcontent-%COMP%]{display:block;color:var(--be-secondary-text);margin-right:8px;cursor:move}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%], .cdk-drop-list-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"],changeDetection:0}),gt);function yt(e,t){if(1&e&&(g.Vb(0,"option",15),g.Kc(1),g.Ub()),2&e){var n=t.$implicit,i=g.gc(2);g.mc("ngValue",n),g.Db(1),g.Lc(i.getDisplayName(n))}}function kt(e,t){if(1&e){var n=g.Wb();g.Vb(0,"div",4),g.Vb(1,"div",5),g.Vb(2,"div",6),g.Vb(3,"label",7),g.Kc(4,"Menu Name"),g.Ub(),g.Vb(5,"input",8),g.cc("ngModelChange",(function(e){return g.xc(n),t.ngIf.name=e}))("ngModelChange",(function(){return g.xc(n),g.gc().menus.commitChanges()})),g.Ub(),g.Ub(),g.Vb(6,"div",6),g.Vb(7,"label",9),g.Kc(8,"Menu Position"),g.Ub(),g.Vb(9,"select",10),g.cc("ngModelChange",(function(e){return g.xc(n),t.ngIf.position=e}))("ngModelChange",(function(){return g.xc(n),g.gc().menus.commitChanges()})),g.Ic(10,yt,2,2,"option",11),g.Ub(),g.Ub(),g.Ub(),g.Qb(11,"menu-items"),g.Vb(12,"div",12),g.Vb(13,"button",13),g.cc("click",(function(){return g.xc(n),g.gc().confirmMenuDeletion()})),g.Kc(14,"Delete Menu"),g.Ub(),g.Vb(15,"button",14),g.cc("click",(function(){return g.xc(n),g.gc().openAddItemPanel()})),g.Kc(16,"Add Item"),g.Ub(),g.Ub(),g.Ub()}if(2&e){var i=t.ngIf,a=g.gc();g.Db(5),g.mc("ngModel",i.name),g.Db(4),g.mc("ngModel",i.position),g.Db(1),g.mc("ngForOf",a.appearance.config.menus.positions)}}function xt(e,t){if(1&e){var n=g.Wb();g.Vb(0,"div",19),g.cc("click",(function(){g.xc(n);var e=t.$implicit;return g.gc(2).setActiveMenu(e)})),g.Vb(1,"span",20),g.Kc(2),g.Ub(),g.Qb(3,"mat-icon",21),g.Ub()}if(2&e){var i=t.$implicit;g.Db(2),g.Lc(i.name)}}function _t(e,t){if(1&e){var n=g.Wb();g.Vb(0,"div",16),g.Ic(1,xt,4,1,"div",17),g.hc(2,"async"),g.Vb(3,"div",12),g.Vb(4,"button",18),g.cc("click",(function(){return g.xc(n),g.gc().menus.create()})),g.Kc(5,"Add a Menu"),g.Ub(),g.Ub(),g.Ub()}if(2&e){var i=g.gc();g.Db(1),g.mc("ngForOf",g.ic(2,1,i.menus.allMenus$))}}var Vt,wt=function(e){return["Menus",e]},Ct=((Vt=function(){function e(t,n,i,a,o,r){d(this,e),this.appearance=t,this.menus=n,this.modal=i,this.settings=a,this.panel=o,this.el=r,this.menus.setFromJson(this.settings.get("menus"))}return u(e,[{key:"openAddItemPanel",value:function(){var e=Ye.a.slice();e[0].offsetX=10,e[1].offsetX=10,this.panel.open(ut,{position:e,origin:this.el,panelClass:"add-menu-item-panel-container"})}},{key:"openPreviousPanel",value:function(){this.menus.activeMenu$.value?this.menus.activeMenu$.next(null):this.appearance.closeActivePanel()}},{key:"setActiveMenu",value:function(e){this.menus.activeMenu$.next(e)}},{key:"confirmMenuDeletion",value:function(){var e=this;this.modal.show($e.a,{title:"Delete Menu",body:"Are you sure you want to delete this menu?",ok:"Delete"}).afterClosed().subscribe((function(t){t&&e.menus.deleteActive()}))}},{key:"getDisplayName",value:function(e){return e.replace(/-/g," ")}}]),e}()).\u0275fac=function(e){return new(e||Vt)(g.Pb(j),g.Pb(tt),g.Pb(Ee.a),g.Pb(T.a),g.Pb(Le.a),g.Pb(g.m))},Vt.\u0275cmp=g.Jb({type:Vt,selectors:[["menus-appearance-panel"]],decls:6,vars:7,consts:[[3,"path","back"],[1,"appearance-panel-content"],["class","menu-panel",4,"ngIf","ngIfElse"],["allMenuList",""],[1,"menu-panel"],[1,"many-inputs","menu-settings"],[1,"input-container"],["for","menu-name","trans",""],["type","text","id","menu-name",3,"ngModel","ngModelChange"],["for","menu-position","trans",""],["id","menu-position",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"action-buttons"],["mat-button","","color","warn","trans","",3,"click"],["mat-button","","color","accent","trans","",1,"button","flat","add-item-button",3,"click"],[3,"ngValue"],[1,"menus"],["class","menu nav-item",3,"click",4,"ngFor","ngForOf"],["mat-button","","color","accent","trans","",1,"button","primary",3,"click"],[1,"menu","nav-item",3,"click"],[1,"name"],["svgIcon","keyboard-arrow-right",1,"actions"]],template:function(e,t){if(1&e&&(g.Vb(0,"appearance-panel-meta",0),g.cc("back",(function(){return t.openPreviousPanel()})),g.Ub(),g.Vb(1,"div",1),g.Ic(2,kt,17,3,"div",2),g.hc(3,"async"),g.Ic(4,_t,6,3,"ng-template",null,3,g.Jc),g.Ub()),2&e){var n=g.uc(5);g.mc("path",g.qc(5,wt,t.menus.activeMenu$.value&&t.menus.activeMenu$.value.name)),g.Db(2),g.mc("ngIf",g.ic(3,3,t.menus.activeMenu$))("ngIfElse",n)}},directives:[Y,l.t,R.a,b.d,b.u,b.x,b.G,l.s,vt,W.b,b.z,b.J,Q.a],pipes:[l.b],styles:["[_nghost-%COMP%]{display:block}.menu-settings[_ngcontent-%COMP%]{margin:10px 0}.menu-settings[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{text-transform:capitalize}.action-buttons[_ngcontent-%COMP%]{text-align:right;margin:10px 0}"],changeDetection:0}),Vt);function Pt(e,t){if(1&e&&(g.Tb(0),g.Vb(1,"div",3),g.Vb(2,"label",4),g.Kc(3),g.Ub(),g.Qb(4,"textarea",5),g.Ub(),g.Sb()),2&e){var n=t.$implicit;g.Db(2),g.mc("for",n.key),g.Db(1),g.Lc(n.name),g.Db(1),g.mc("id",n.key)("formControlName",n.key)("placeholder",n.defaultValue)}}var It,Mt=function(){return["Seo Settings"]},Ut=((It=function(){function e(t,n){d(this,e),this.editor=t,this.fb=n,this.form=this.fb.group({})}return u(e,[{key:"ngOnInit",value:function(){var e=this;this.seoFields=this.editor.defaultSettings.seo_fields,this.seoFields.forEach((function(t){e.form.addControl(t.key,e.fb.control(t.value))})),this.form.valueChanges.subscribe((function(t){e.editor.addChanges(t)}))}}]),e}()).\u0275fac=function(e){return new(e||It)(g.Pb(j),g.Pb(b.h))},It.\u0275cmp=g.Jb({type:It,selectors:[["seo-appearance-panel"]],decls:3,vars:4,consts:[[3,"path","back"],[1,"appearance-panel-content","many-inputs",3,"formGroup"],[4,"ngFor","ngForOf"],[1,"input-container"],["trans","",3,"for"],["type","text","rows","2",3,"id","formControlName","placeholder"]],template:function(e,t){1&e&&(g.Vb(0,"appearance-panel-meta",0),g.cc("back",(function(){return t.editor.closeActivePanel()})),g.Ub(),g.Vb(1,"div",1),g.Ic(2,Pt,5,5,"ng-container",2),g.Ub()),2&e&&(g.mc("path",g.pc(3,Mt)),g.Db(1),g.mc("formGroup",t.form),g.Db(1),g.mc("ngForOf",t.seoFields))},directives:[Y,b.v,b.m,l.s,R.a,b.d,b.u,b.k],styles:["label[_ngcontent-%COMP%]{text-transform:capitalize}"],changeDetection:0}),It),Ot=c("FtGj"),Dt=c("5o4b"),St=["editor"];function $t(e,t){1&e&&(g.Vb(0,"p",11),g.Kc(1,"If entering javascript, wrap it with <script><\/script> tag."),g.Ub())}var Et,Ft,Kt=((Et=function(){function e(t,n,i){d(this,e),this.dialogRef=t,this.data=n,this.lazyLoader=i,this.loading$=new U.a(!1),this.syntaxInvalid$=new U.a(!1)}return u(e,[{key:"ngOnInit",value:function(){this.initEditor(this.data.contents,this.data.language),this.overrideDialogCloseEvents()}},{key:"confirm",value:function(){this.close(this.editor.getValue())}},{key:"close",value:function(e){this.dialogRef.close(e)}},{key:"initEditor",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"html";this.loading$.next(!0),this.lazyLoader.loadAsset("js/ace/ace.js",{type:"js"}).then((function(){t.editor=ace.edit(t.editorEl.nativeElement),t.editor.getSession().setMode("ace/mode/"+n),t.editor.setTheme("ace/theme/chrome"),t.editor.$blockScrolling=1/0,e&&t.editor.setValue(e,1),t.editor.getSession().on("changeAnnotation",(function(){var e=t.editor.getSession().getAnnotations();if(e[0]&&/doctype first/.test(e[0].text))return e.splice(0,1),void t.editor.getSession().setAnnotations(e);var n=t.editor.getSession().getAnnotations().filter((function(e){return"error"===e.type})).length>0;t.syntaxInvalid$.next(n)})),t.loading$.next(!1)}))}},{key:"overrideDialogCloseEvents",value:function(){var e=this;this.dialogRef.disableClose=!0,this.dialogRef.backdropClick().subscribe((function(){e.close()})),this.dialogRef.keydownEvents().pipe(Object(S.a)((function(e){return e.keyCode===Ot.g}))).subscribe((function(){return e.close()}))}}]),e}()).\u0275fac=function(e){return new(e||Et)(g.Pb(xe.h),g.Pb(xe.a),g.Pb(Dt.a))},Et.\u0275cmp=g.Jb({type:Et,selectors:[["code-editor-modal"]],viewQuery:function(e,t){var n;1&e&&g.Ec(St,!0),2&e&&g.tc(n=g.dc())&&(t.editorEl=n.first)},decls:18,vars:7,consts:[[1,"modal-header"],["mat-dialog-title","","trans","",1,"modal-title"],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],[1,"editor-container"],["class","info","trans","",4,"ngIf"],[1,"editor"],["editor",""],["type","button","mat-button","","trans","",3,"click"],["type","submit","mat-raised-button","","color","accent","trans","",3,"disabled","click"],[1,"overlay",3,"isVisible"],["trans","",1,"info"]],template:function(e,t){1&e&&(g.Vb(0,"div",0),g.Vb(1,"h2",1),g.Kc(2,"Code Editor"),g.Ub(),g.Vb(3,"button",2),g.cc("click",(function(){return t.close()})),g.Qb(4,"mat-icon",3),g.Ub(),g.Ub(),g.Vb(5,"mat-dialog-content"),g.Vb(6,"div",4),g.Ic(7,$t,2,0,"p",5),g.Qb(8,"div",6,7),g.Ub(),g.Ub(),g.Vb(10,"mat-dialog-actions"),g.Vb(11,"button",8),g.cc("click",(function(){return t.close()})),g.Kc(12,"Cancel"),g.Ub(),g.Vb(13,"button",9),g.cc("click",(function(){return t.confirm()})),g.hc(14,"async"),g.Kc(15,"Update"),g.Ub(),g.Ub(),g.Qb(16,"loading-indicator",10),g.hc(17,"async")),2&e&&(g.Db(7),g.mc("ngIf","html"===t.data.language),g.Db(6),g.mc("disabled",g.ic(14,3,t.syntaxInvalid$)),g.Db(3),g.mc("isVisible",g.ic(17,5,t.loading$)))},directives:[xe.i,R.a,Q.a,xe.f,l.t,xe.c,W.b,Fe.a],pipes:[l.b],styles:["[_nghost-%COMP%]{display:block;width:800px;max-width:100%}.modal-header[_ngcontent-%COMP%]{margin:0 0 15px}.editor[_ngcontent-%COMP%]{min-height:550px;border:1px solid var(--be-divider-default);font-size:1.4rem}.info[_ngcontent-%COMP%]{color:var(--be-secondary-text)}"],changeDetection:0}),Et),Tt=function(){return["Custom Code"]},Lt=((Ft=function(){function e(t,n,i,a){d(this,e),this.editor=t,this.fb=n,this.modal=i,this.toast=a,this.form=this.fb.group({"custom-code.css":[""],"custom-code.html":[""]})}return u(e,[{key:"ngOnInit",value:function(){var e=this,t={};Object.keys(this.form.controls).forEach((function(n){t[n]=e.editor.currentValue(n)})),this.form.patchValue(t)}},{key:"openModal",value:function(e){var t=this,n="custom-code."+e,i=this.form.value[n]||"";this.modal.open(Kt,{contents:this.form.value[n],language:e}).afterClosed().subscribe((function(o){if(void 0!==o&&i!==o){var r=a({},n,o);t.form.patchValue(r),t.editor.saveChanges(r).subscribe((function(){t.addCodeToPreview(e,o),t.toast.open("Custom code saved")}))}}))}},{key:"addCodeToPreview",value:function(e,t){this.editor.postMessage("css"===e?new P(t):new I(t))}}]),e}()).\u0275fac=function(e){return new(e||Ft)(g.Pb(j),g.Pb(b.h),g.Pb(Ee.a),g.Pb(A.b))},Ft.\u0275cmp=g.Jb({type:Ft,selectors:[["custom-code-appearance-panel"]],decls:12,vars:2,consts:[[3,"path","back"],[1,"appearance-panel-content"],["type","button",1,"nav-item",3,"click"],["trans","",1,"text"],["trans","",1,"actions"],[1,"nav-item",3,"click"]],template:function(e,t){1&e&&(g.Vb(0,"appearance-panel-meta",0),g.cc("back",(function(){return t.editor.closeActivePanel()})),g.Ub(),g.Vb(1,"div",1),g.Vb(2,"button",2),g.cc("click",(function(){return t.openModal("css")})),g.Vb(3,"span",3),g.Kc(4,"Custom CSS"),g.Ub(),g.Vb(5,"span",4),g.Kc(6,"Modify"),g.Ub(),g.Ub(),g.Vb(7,"button",5),g.cc("click",(function(){return t.openModal("html")})),g.Vb(8,"span",3),g.Kc(9,"Custom HTML & Javascript"),g.Ub(),g.Vb(10,"span",4),g.Kc(11,"Modify"),g.Ub(),g.Ub(),g.Ub()),2&e&&g.mc("path",g.pc(1,Tt))},directives:[Y,R.a],styles:[".actions[_ngcontent-%COMP%]{color:var(--be-link);font-size:1.3rem}"],changeDetection:0}),Ft),At=["iframe"];function jt(e,t){1&e&&(g.Vb(0,"span",15),g.Kc(1,"Save"),g.Ub())}function zt(e,t){1&e&&(g.Vb(0,"span",15),g.Kc(1,"Saved"),g.Ub())}function Nt(e,t){1&e&&g.Qb(0,"general-appearance-panel")}function Qt(e,t){1&e&&g.Qb(0,"themes-appearance-panel")}function Rt(e,t){1&e&&g.Qb(0,"menus-appearance-panel")}function Wt(e,t){1&e&&g.Qb(0,"seo-appearance-panel")}function Gt(e,t){1&e&&g.Qb(0,"custom-code-appearance-panel")}function Jt(e,t){}function qt(e,t){1&e&&g.Ic(0,Jt,0,0,"ng-template",20),2&e&&g.mc("cdkPortalOutlet",t.ngIf)}function Ht(e,t){if(1&e&&(g.Tb(0),g.Ic(1,qt,1,1,void 0,19),g.hc(2,"async"),g.Sb()),2&e){var n=g.gc(2);g.Db(1),g.mc("ngIf",g.ic(2,1,n.panelPortal$))}}function Xt(e,t){if(1&e&&(g.Tb(0),g.Tb(1,16),g.Ic(2,Nt,1,0,"general-appearance-panel",17),g.Ic(3,Qt,1,0,"themes-appearance-panel",17),g.Ic(4,Rt,1,0,"menus-appearance-panel",17),g.Ic(5,Wt,1,0,"seo-appearance-panel",17),g.Ic(6,Gt,1,0,"custom-code-appearance-panel",17),g.Ic(7,Ht,3,3,"ng-container",18),g.Sb(),g.Sb()),2&e){var n=t.ngIf;g.Db(1),g.mc("ngSwitch",n.name),g.Db(1),g.mc("ngSwitchCase","general"),g.Db(1),g.mc("ngSwitchCase","themes"),g.Db(1),g.mc("ngSwitchCase","menus"),g.Db(1),g.mc("ngSwitchCase","seo-settings"),g.Db(1),g.mc("ngSwitchCase","custom-code")}}var Yt=function(){return[]},Bt=function(e){return{panel:e}};function Zt(e,t){if(1&e&&(g.Vb(0,"a",23),g.Vb(1,"span",24),g.Kc(2),g.Ub(),g.Qb(3,"mat-icon",25),g.Ub()),2&e){var n=t.$implicit,i=g.gc(2);g.mc("routerLink",g.pc(3,Yt))("queryParams",g.qc(4,Bt,i.slugify(n.name))),g.Db(2),g.Lc(i.viewName(n.name))}}function en(e,t){if(1&e&&(g.Vb(0,"div",21),g.Ic(1,Zt,4,6,"a",22),g.Ub()),2&e){var n=g.gc();g.Db(1),g.mc("ngForOf",n.editor.config.sections)}}var tn,nn,an,on,rn,cn,sn,ln,un=((nn=function(){function e(t,n,i,a,o){d(this,e),this.editor=t,this.router=n,this.route=i,this.breakpoints=a,this.config=o,this.leftColumnIsHidden=!1,this.panelPortal$=this.editor.activePanel$.pipe(Object(f.a)((function(e){return e&&e.component?new p.d(e.component):null})))}return u(e,[{key:"ngOnInit",value:function(){var e=this;this.leftColumnIsHidden=this.breakpoints.isMobile$.value,this.editor.init(this.iframe.nativeElement,this.route.snapshot.data.defaultSettings,this.config),this.routerSub=this.route.queryParams.subscribe((function(t){e.editor.openPanel(t.panel)}))}},{key:"ngOnDestroy",value:function(){this.routerSub&&this.routerSub.unsubscribe()}},{key:"closeEditor",value:function(){this.router.navigate(["admin"])}},{key:"slugify",value:function(e){return Object(h.a)(e)}},{key:"viewName",value:function(e){return e.replace("-"," ")}},{key:"toggleLeftSidebar",value:function(){this.leftColumnIsHidden=!this.leftColumnIsHidden}}]),e}()).\u0275fac=function(e){return new(e||nn)(g.Pb(j),g.Pb(m.g),g.Pb(m.a),g.Pb(z.a),g.Pb(v,8))},nn.\u0275cmp=g.Jb({type:nn,selectors:[["appearance"]],viewQuery:function(e,t){var n;1&e&&g.Ec(At,!0),2&e&&g.tc(n=g.dc())&&(t.iframe=n.first)},decls:25,vars:17,consts:[[1,"sidebar",3,"opened","mode"],[1,"header"],[1,"back-button",3,"click"],["svgIcon","close"],["trans","",1,"title"],["mat-raised-button","","color","accent",1,"button","primary","save-button",3,"disabled","click"],["trans","",4,"ngIf","ngIfElse"],["saved",""],[4,"ngIf","ngIfElse"],["navigation",""],[1,"live-preview"],["src","about:blank"],["iframe",""],["mat-fab","",1,"sidebar-toggle-button",3,"click"],["svgIcon","edit"],["trans",""],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[4,"ngIf"],[3,"cdkPortalOutlet"],[1,"root-navigation"],["class","nav-item",3,"routerLink","queryParams",4,"ngFor","ngForOf"],[1,"nav-item",3,"routerLink","queryParams"],["trans","",1,"text"],["svgIcon","keyboard-arrow-right",1,"actions"]],template:function(e,t){if(1&e&&(g.Vb(0,"mat-sidenav-container"),g.Vb(1,"mat-sidenav",0),g.hc(2,"async"),g.Vb(3,"div",1),g.Vb(4,"div",2),g.cc("click",(function(){return t.closeEditor()})),g.Qb(5,"mat-icon",3),g.Ub(),g.Vb(6,"div",4),g.Kc(7,"Appearance Editor"),g.Ub(),g.Vb(8,"button",5),g.cc("click",(function(){return t.editor.saveChanges()})),g.hc(9,"async"),g.hc(10,"async"),g.Ic(11,jt,2,0,"span",6),g.hc(12,"async"),g.Ic(13,zt,2,0,"ng-template",null,7,g.Jc),g.Ub(),g.Ub(),g.Ic(15,Xt,8,6,"ng-container",8),g.hc(16,"async"),g.Ic(17,en,2,1,"ng-template",null,9,g.Jc),g.Ub(),g.Vb(19,"mat-sidenav-content"),g.Vb(20,"div",10),g.Qb(21,"iframe",11,12),g.Ub(),g.Ub(),g.Ub(),g.Vb(23,"button",13),g.cc("click",(function(){return t.toggleLeftSidebar()})),g.Qb(24,"mat-icon",14),g.Ub()),2&e){var n=g.uc(14),i=g.uc(18);g.Db(1),g.mc("opened",!t.leftColumnIsHidden)("mode",g.ic(2,7,t.breakpoints.isMobile$)?"over":"side"),g.Db(7),g.mc("disabled",!g.ic(9,9,t.editor.changes$)||g.ic(10,11,t.editor.loading$)),g.Db(3),g.mc("ngIf",g.ic(12,13,t.editor.changes$))("ngIfElse",n),g.Db(4),g.mc("ngIf",g.ic(16,15,t.editor.activePanel$))("ngIfElse",i)}},directives:[N.e,N.d,Q.a,R.a,W.b,l.t,N.f,l.x,l.y,l.z,ke,Xe,Ct,Ut,Lt,p.c,l.s,m.j],pipes:[l.b],styles:[".mat-sidenav-container[_ngcontent-%COMP%]{height:100vh}.sidebar-toggle-button[_ngcontent-%COMP%]{display:none;position:fixed;bottom:15px;right:15px;z-index:3}.sidebar[_ngcontent-%COMP%]{box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);width:330px;background-color:var(--be-background-alternative)}.sidebar[_ngcontent-%COMP%]   .root-navigation[_ngcontent-%COMP%]{padding:10px}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;padding-right:10px;border-bottom:1px solid var(--be-divider-default);height:50px}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding-left:10px;font-size:1.7rem;font-weight:300}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{margin-left:auto;max-height:36px;box-shadow:none}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:disabled{cursor:default}.live-preview[_ngcontent-%COMP%]{display:flex;height:100%;justify-content:center;align-items:center;flex:1 1 auto;position:relative}.live-preview[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{border:none;width:100%;height:100%}@media screen and (max-width:768px){.sidebar-toggle-button[_ngcontent-%COMP%]{display:block}}"],changeDetection:0}),nn),dn=((tn=function(){function e(t,n){d(this,e),this.editor=t,this.modal=n}return u(e,[{key:"canDeactivate",value:function(){return!this.editor.changes$.value||this.modal.show($e.a,{title:"Close Appearance Editor",body:"Are you sure you want to close appearance editor?",bodyBold:"All unsaved changes will be lost.",ok:"Close",cancel:"Stay"}).afterClosed()}}]),e}()).\u0275fac=function(e){return new(e||tn)(g.Zb(j),g.Zb(Ee.a))},tn.\u0275prov=g.Lb({token:tn,factory:tn.\u0275fac,providedIn:"root"}),tn),bn=c("0QyJ"),mn=c("JIr8"),hn=c("5+tZ"),pn=c("EY2u"),fn=c("LRne"),gn=[{path:"",component:un,data:{permissions:["appearance.update"]},resolve:{defaultSettings:(an=function(){function e(t,n){d(this,e),this.router=t,this.http=n}return u(e,[{key:"resolve",value:function(e,t){var n=this;return this.http.get("admin/appearance/values").pipe(Object(mn.a)((function(){return n.router.navigate(["/admin"]),pn.a})),Object(hn.a)((function(e){return e?Object(fn.a)(e):(n.router.navigate(["/admin"]),pn.a)})))}}]),e}(),an.\u0275fac=function(e){return new(e||an)(g.Zb(m.g),g.Zb(L.a))},an.\u0275prov=g.Lb({token:an,factory:an.\u0275fac,providedIn:"root"}),an)},canActivate:[bn.a],canDeactivate:[dn],children:[{path:""},{path:":panel"},{path:":panel/:activeItem"}]}],vn=((on=function e(){d(this,e)}).\u0275mod=g.Nb({type:on}),on.\u0275inj=g.Mb({factory:function(e){return new(e||on)},imports:[[m.k.forChild(gn)],m.k]}),on),yn=c("X3pI"),kn=((rn=function e(){d(this,e)}).\u0275mod=g.Nb({type:rn}),rn.\u0275inj=g.Mb({factory:function(e){return new(e||rn)},imports:[[l.c,yn.a,W.c,Q.b]]}),rn),xn=c("6rvT"),_n=c("MKyN"),Vn=((sn=function e(){d(this,e)}).\u0275mod=g.Nb({type:sn}),sn.\u0275inj=g.Mb({factory:function(e){return new(e||sn)},imports:[[l.c,xn.a,Q.b]]}),sn),wn=((cn=function e(){d(this,e)}).\u0275mod=g.Nb({type:cn}),cn.\u0275inj=g.Mb({factory:function(e){return new(e||cn)},providers:[{provide:v,useValue:y,multi:!0}],imports:[[vn,l.c,b.o,b.E,kn,xn.a,_n.a,yn.a,Vn,ae.c,re.b,Q.b,W.c,xe.g,ot.b,Ze.d,N.g,p.h,Ve.b]]}),cn),Cn=c("FKr1"),Pn=c("8LU1"),In=c("R1ws"),Mn=c("nLfN"),Un=c("quSY"),On=c("u47x"),Dn=c("cH1L"),Sn=["sliderWrapper"],$n=Object(Mn.f)({passive:!1}),En={provide:b.s,useExisting:Object(g.W)((function(){return Tn})),multi:!0},Fn=function e(){d(this,e)},Kn=Object(Cn.y)(Object(Cn.u)(Object(Cn.w)((function e(t){d(this,e),this._elementRef=t})),"accent")),Tn=((ln=function(n){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&e(t,n)}(a,n);var i=t(a);function a(e,t,n,o,r,c,s,l){var u;return d(this,a),(u=i.call(this,e))._focusMonitor=t,u._changeDetectorRef=n,u._dir=o,u._ngZone=c,u._animationMode=l,u._invert=!1,u._max=100,u._min=0,u._step=1,u._thumbLabel=!1,u._tickInterval=0,u._value=null,u._vertical=!1,u.change=new g.o,u.input=new g.o,u.valueChange=new g.o,u.onTouched=function(){},u._percent=0,u._isSliding=!1,u._isActive=!1,u._tickIntervalPercent=0,u._sliderDimensions=null,u._controlValueAccessorChangeFn=function(){},u._dirChangeSubscription=Un.a.EMPTY,u._pointerDown=function(e){u.disabled||u._isSliding||!Ln(e)&&0!==e.button||u._ngZone.run((function(){var t=u.value,n=An(e);u._isSliding=!0,u._lastPointerEvent=e,e.preventDefault(),u._focusHostElement(),u._onMouseenter(),u._bindGlobalEvents(e),u._focusHostElement(),u._updateValueFromPosition(n),u._valueOnSlideStart=t,t!=u.value&&u._emitInputEvent()}))},u._pointerMove=function(e){if(u._isSliding){e.preventDefault();var t=u.value;u._lastPointerEvent=e,u._updateValueFromPosition(An(e)),t!=u.value&&u._emitInputEvent()}},u._pointerUp=function(e){u._isSliding&&(e.preventDefault(),u._removeGlobalEvents(),u._isSliding=!1,u._valueOnSlideStart==u.value||u.disabled||u._emitChangeEvent(),u._valueOnSlideStart=u._lastPointerEvent=null)},u._windowBlur=function(){u._lastPointerEvent&&u._pointerUp(u._lastPointerEvent)},u._document=s,u.tabIndex=parseInt(r)||0,c.runOutsideAngular((function(){var t=e.nativeElement;t.addEventListener("mousedown",u._pointerDown,$n),t.addEventListener("touchstart",u._pointerDown,$n)})),u}return u(a,[{key:"focus",value:function(e){this._focusHostElement(e)}},{key:"blur",value:function(){this._blurHostElement()}},{key:"_shouldInvertAxis",value:function(){return this.vertical?!this.invert:this.invert}},{key:"_isMinValue",value:function(){return 0===this.percent}},{key:"_getThumbGap",value:function(){return this.disabled?7:this._isMinValue()&&!this.thumbLabel?this._isActive?10:7:0}},{key:"_getTrackBackgroundStyles",value:function(){var e=this.vertical?"1, ".concat(1-this.percent,", 1"):1-this.percent+", 1, 1";return{transform:"translate".concat(this.vertical?"Y":"X","(").concat(this._shouldInvertMouseCoords()?"-":"").concat(this._getThumbGap(),"px) scale3d(").concat(e,")")}}},{key:"_getTrackFillStyles",value:function(){var e=this.percent,t=this.vertical?"1, ".concat(e,", 1"):e+", 1, 1";return{transform:"translate".concat(this.vertical?"Y":"X","(").concat(this._shouldInvertMouseCoords()?"":"-").concat(this._getThumbGap(),"px) scale3d(").concat(t,")"),display:0===e?"none":""}}},{key:"_getTicksContainerStyles",value:function(){return{transform:"translate".concat(this.vertical?"Y":"X","(").concat(this.vertical||"rtl"!=this._getDirection()?"-":"").concat(this._tickIntervalPercent/2*100,"%)")}}},{key:"_getTicksStyles",value:function(){var e=100*this._tickIntervalPercent,t={backgroundSize:this.vertical?"2px ".concat(e,"%"):e+"% 2px",transform:"translateZ(0) translate".concat(this.vertical?"Y":"X","(").concat(this.vertical||"rtl"!=this._getDirection()?"":"-").concat(e/2,"%)").concat(this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)")};if(this._isMinValue()&&this._getThumbGap()){var n=this._shouldInvertAxis();t["padding"+(this.vertical?n?"Bottom":"Top":n?"Right":"Left")]=this._getThumbGap()+"px"}return t}},{key:"_getThumbContainerStyles",value:function(){var e=this._shouldInvertAxis();return{transform:"translate".concat(this.vertical?"Y":"X","(-").concat(100*(("rtl"!=this._getDirection()||this.vertical?e:!e)?this.percent:1-this.percent),"%)")}}},{key:"_shouldInvertMouseCoords",value:function(){var e=this._shouldInvertAxis();return"rtl"!=this._getDirection()||this.vertical?e:!e}},{key:"_getDirection",value:function(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}},{key:"ngAfterViewInit",value:function(){var e=this;this._focusMonitor.monitor(this._elementRef,!0).subscribe((function(t){e._isActive=!!t&&"keyboard"!==t,e._changeDetectorRef.detectChanges()})),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe((function(){e._changeDetectorRef.markForCheck()})))}},{key:"ngOnDestroy",value:function(){var e=this._elementRef.nativeElement;e.removeEventListener("mousedown",this._pointerDown,$n),e.removeEventListener("touchstart",this._pointerDown,$n),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}},{key:"_onMouseenter",value:function(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}},{key:"_onFocus",value:function(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}},{key:"_onBlur",value:function(){this.onTouched()}},{key:"_onKeydown",value:function(e){if(!this.disabled&&!Object(Ot.s)(e)){var t=this.value;switch(e.keyCode){case Ot.l:this._increment(10);break;case Ot.k:this._increment(-10);break;case Ot.e:this.value=this.max;break;case Ot.h:this.value=this.min;break;case Ot.i:this._increment("rtl"==this._getDirection()?1:-1);break;case Ot.p:this._increment(1);break;case Ot.m:this._increment("rtl"==this._getDirection()?-1:1);break;case Ot.d:this._increment(-1);break;default:return}t!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding=!0,e.preventDefault()}}},{key:"_onKeyup",value:function(){this._isSliding=!1}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_bindGlobalEvents",value:function(e){var t=this._document,n=Ln(e),i=n?"touchend":"mouseup";t.addEventListener(n?"touchmove":"mousemove",this._pointerMove,$n),t.addEventListener(i,this._pointerUp,$n),n&&t.addEventListener("touchcancel",this._pointerUp,$n);var a=this._getWindow();void 0!==a&&a&&a.addEventListener("blur",this._windowBlur)}},{key:"_removeGlobalEvents",value:function(){var e=this._document;e.removeEventListener("mousemove",this._pointerMove,$n),e.removeEventListener("mouseup",this._pointerUp,$n),e.removeEventListener("touchmove",this._pointerMove,$n),e.removeEventListener("touchend",this._pointerUp,$n),e.removeEventListener("touchcancel",this._pointerUp,$n);var t=this._getWindow();void 0!==t&&t&&t.removeEventListener("blur",this._windowBlur)}},{key:"_increment",value:function(e){this.value=this._clamp((this.value||0)+this.step*e,this.min,this.max)}},{key:"_updateValueFromPosition",value:function(e){if(this._sliderDimensions){var t=this._clamp(((this.vertical?e.y:e.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(t=1-t),0===t)this.value=this.min;else if(1===t)this.value=this.max;else{var n=this._calculateValue(t),i=Math.round((n-this.min)/this.step)*this.step+this.min;this.value=this._clamp(i,this.min,this.max)}}}},{key:"_emitChangeEvent",value:function(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}},{key:"_emitInputEvent",value:function(){this.input.emit(this._createChangeEvent())}},{key:"_updateTickIntervalPercent",value:function(){if(this.tickInterval&&this._sliderDimensions)if("auto"==this.tickInterval){var e=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width,t=Math.ceil(30/(e*this.step/(this.max-this.min)));this._tickIntervalPercent=t*this.step/e}else this._tickIntervalPercent=this.tickInterval*this.step/(this.max-this.min)}},{key:"_createChangeEvent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.value,t=new Fn;return t.source=this,t.value=e,t}},{key:"_calculatePercentage",value:function(e){return((e||0)-this.min)/(this.max-this.min)}},{key:"_calculateValue",value:function(e){return this.min+e*(this.max-this.min)}},{key:"_clamp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.max(t,Math.min(e,n))}},{key:"_getSliderDimensions",value:function(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}},{key:"_focusHostElement",value:function(e){this._elementRef.nativeElement.focus(e)}},{key:"_blurHostElement",value:function(){this._elementRef.nativeElement.blur()}},{key:"writeValue",value:function(e){this.value=e}},{key:"registerOnChange",value:function(e){this._controlValueAccessorChangeFn=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"invert",get:function(){return this._invert},set:function(e){this._invert=Object(Pn.c)(e)}},{key:"max",get:function(){return this._max},set:function(e){this._max=Object(Pn.f)(e,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}},{key:"min",get:function(){return this._min},set:function(e){this._min=Object(Pn.f)(e,this._min),null===this._value&&(this.value=this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}},{key:"step",get:function(){return this._step},set:function(e){this._step=Object(Pn.f)(e,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}},{key:"thumbLabel",get:function(){return this._thumbLabel},set:function(e){this._thumbLabel=Object(Pn.c)(e)}},{key:"tickInterval",get:function(){return this._tickInterval},set:function(e){this._tickInterval="auto"===e?"auto":"number"==typeof e||"string"==typeof e?Object(Pn.f)(e,this._tickInterval):0}},{key:"value",get:function(){return null===this._value&&(this.value=this._min),this._value},set:function(e){if(e!==this._value){var t=Object(Pn.f)(e);this._roundToDecimal&&(t=parseFloat(t.toFixed(this._roundToDecimal))),this._value=t,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}},{key:"vertical",get:function(){return this._vertical},set:function(e){this._vertical=Object(Pn.c)(e)}},{key:"displayValue",get:function(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}},{key:"percent",get:function(){return this._clamp(this._percent)}}]),a}(Kn)).\u0275fac=function(e){return new(e||ln)(g.Pb(g.m),g.Pb(On.h),g.Pb(g.i),g.Pb(Dn.c,8),g.ac("tabindex"),g.Pb(g.B),g.Pb(l.e),g.Pb(In.a,8))},ln.\u0275cmp=g.Jb({type:ln,selectors:[["mat-slider"]],viewQuery:function(e,t){var n;1&e&&g.Qc(Sn,!0),2&e&&g.tc(n=g.dc())&&(t._sliderWrapper=n.first)},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:28,hostBindings:function(e,t){1&e&&g.cc("focus",(function(){return t._onFocus()}))("blur",(function(){return t._onBlur()}))("keydown",(function(e){return t._onKeydown(e)}))("keyup",(function(){return t._onKeyup()}))("mouseenter",(function(){return t._onMouseenter()}))("selectstart",(function(e){return e.preventDefault()})),2&e&&(g.Yb("tabIndex",t.tabIndex),g.Eb("aria-disabled",t.disabled)("aria-valuemax",t.max)("aria-valuemin",t.min)("aria-valuenow",t.value)("aria-orientation",t.vertical?"vertical":"horizontal"),g.Hb("mat-slider-disabled",t.disabled)("mat-slider-has-ticks",t.tickInterval)("mat-slider-horizontal",!t.vertical)("mat-slider-axis-inverted",t._shouldInvertAxis())("mat-slider-invert-mouse-coords",t._shouldInvertMouseCoords())("mat-slider-sliding",t._isSliding)("mat-slider-thumb-label-showing",t.thumbLabel)("mat-slider-vertical",t.vertical)("mat-slider-min-value",t._isMinValue())("mat-slider-hide-last-tick",t.disabled||t._isMinValue()&&t._getThumbGap()&&t._shouldInvertAxis())("_mat-animation-noopable","NoopAnimations"===t._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",value:"value",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",vertical:"vertical",displayWith:"displayWith"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[g.Cb([En]),g.Ab],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(e,t){1&e&&(g.Vb(0,"div",0,1),g.Vb(2,"div",2),g.Qb(3,"div",3),g.Qb(4,"div",4),g.Ub(),g.Vb(5,"div",5),g.Qb(6,"div",6),g.Ub(),g.Vb(7,"div",7),g.Qb(8,"div",8),g.Qb(9,"div",9),g.Vb(10,"div",10),g.Vb(11,"span",11),g.Kc(12),g.Ub(),g.Ub(),g.Ub(),g.Ub()),2&e&&(g.Db(3),g.mc("ngStyle",t._getTrackBackgroundStyles()),g.Db(1),g.mc("ngStyle",t._getTrackFillStyles()),g.Db(1),g.mc("ngStyle",t._getTicksContainerStyles()),g.Db(1),g.mc("ngStyle",t._getTicksStyles()),g.Db(1),g.mc("ngStyle",t._getThumbContainerStyles()),g.Db(5),g.Lc(t.displayValue))},directives:[l.w],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:-webkit-grabbing;cursor:grabbing}.mat-slider-wrapper{position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{background-repeat:repeat;background-clip:content-box;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:-webkit-grab;cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid transparent;border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}\n'],encapsulation:2,changeDetection:0}),ln);function Ln(e){return"t"===e.type[0]}function An(e){var t=Ln(e)?e.touches[0]||e.changedTouches[0]:e;return{x:t.clientX,y:t.clientY}}var jn,zn=((jn=function e(){d(this,e)}).\u0275mod=g.Nb({type:jn}),jn.\u0275inj=g.Mb({factory:function(e){return new(e||jn)},imports:[[l.c,Cn.h],Cn.h]}),jn),Nn=c("hLX6"),Qn=c("zW5C");function Rn(e,t){if(1&e){var n=g.Wb();g.Vb(0,"div",9),g.Vb(1,"div",10),g.Vb(2,"div",11),g.Kc(3),g.hc(4,"trans"),g.Ub(),g.Vb(5,"button",12),g.cc("click",(function(){g.xc(n);var e=t.index;return g.gc(3).removeFeature("primary",e)})),g.Qb(6,"mat-icon",13),g.Ub(),g.Ub(),g.Vb(7,"div",14),g.Vb(8,"label",15),g.Kc(9,"Title"),g.Ub(),g.Qb(10,"input",16),g.Ub(),g.Vb(11,"div",14),g.Vb(12,"label",15),g.Kc(13,"Subtitle"),g.Ub(),g.Qb(14,"textarea",17),g.Ub(),g.Vb(15,"appearance-image-input",18),g.Kc(16," Image "),g.Ub(),g.Ub()}if(2&e){var i=t.$implicit,a=t.index,o=g.gc(3);g.mc("formGroup",i),g.Db(3),g.Nc("",g.ic(4,13,"Feature")," #",a+1,""),g.Db(5),g.mc("for","primary."+a+".title"),g.Db(2),g.oc("highlightInPreview",".inline-feature:nth-child(",a+1,") h3"),g.mc("id","primary."+a+".title")("placeholder",o.defaultValue("primaryFeatures."+a+".title")),g.Db(2),g.mc("for","primary."+a+".subtitle"),g.Db(2),g.oc("highlightInPreview",".inline-feature:nth-child(",a+1,") p"),g.mc("id","primary."+a+".subtitle")("placeholder",o.defaultValue("primaryFeatures."+a+".subtitle")),g.Db(1),g.oc("highlightInPreview",".inline-feature:nth-child(",a+1,") img"),g.mc("defaultValue",o.defaultValue("primaryFeatures."+a+".image"))}}function Wn(e,t){if(1&e){var n=g.Wb();g.Vb(0,"button",19),g.cc("click",(function(){return g.xc(n),g.gc(3).addFeature("primary")})),g.Kc(1,"Add"),g.Ub()}}function Gn(e,t){if(1&e&&(g.Tb(0),g.Ic(1,Rn,17,15,"div",7),g.Ic(2,Wn,2,0,"button",8),g.Sb()),2&e){var n=g.gc(2);g.Db(1),g.mc("ngForOf",n.primaryArray().controls),g.Db(1),g.mc("ngIf",n.primaryArray().length<3)}}function Jn(e,t){if(1&e){var n=g.Wb();g.Vb(0,"div",9),g.Vb(1,"div",10),g.Vb(2,"div",11),g.Kc(3),g.hc(4,"trans"),g.Ub(),g.Vb(5,"button",12),g.cc("click",(function(){g.xc(n);var e=t.index;return g.gc(3).removeFeature("secondary",e)})),g.Qb(6,"mat-icon",13),g.Ub(),g.Ub(),g.Vb(7,"div",14),g.Vb(8,"label",15),g.Kc(9,"Title"),g.Ub(),g.Qb(10,"input",16),g.Ub(),g.Vb(11,"div",14),g.Vb(12,"label",15),g.Kc(13,"Subtitle"),g.Ub(),g.Qb(14,"input",20),g.Ub(),g.Vb(15,"div",14),g.Vb(16,"label",15),g.Kc(17,"Description"),g.Ub(),g.Qb(18,"textarea",21),g.Ub(),g.Vb(19,"appearance-image-input",22),g.Kc(20,"Image "),g.Ub(),g.Ub()}if(2&e){var i=t.$implicit,a=t.index,o=g.gc(3);g.mc("formGroup",i),g.Db(3),g.Nc("",g.ic(4,17,"Feature")," #",a+1,""),g.Db(5),g.mc("for","secondary."+a+".title"),g.Db(2),g.oc("highlightInPreview",".big-feature:nth-child(",a+1,") h2"),g.mc("id","secondary."+a+".title")("placeholder",o.defaultValue("secondaryFeatures."+a+".title")),g.Db(2),g.mc("for","secondary."+a+".subtitle"),g.Db(2),g.oc("highlightInPreview",".big-feature:nth-child(",a+1,") small"),g.mc("id","secondary."+a+".subtitle")("placeholder",o.defaultValue("secondaryFeatures."+a+".subtitle")),g.Db(2),g.mc("for","secondary."+a+".description"),g.Db(2),g.oc("highlightInPreview",".big-feature:nth-child(",a+1,") p"),g.mc("id","secondary."+a+".description")("placeholder",o.defaultValue("secondaryFeatures."+a+".description")),g.Db(1),g.oc("highlightInPreview",".big-feature:nth-child(",a+1,") img"),g.mc("defaultValue",o.defaultValue("secondaryFeatures."+a+".image"))}}function qn(e,t){if(1&e){var n=g.Wb();g.Tb(0),g.Ic(1,Jn,21,19,"div",7),g.Vb(2,"button",19),g.cc("click",(function(){return g.xc(n),g.gc(2).addFeature("secondary")})),g.Kc(3,"Add"),g.Ub(),g.Sb()}if(2&e){var i=g.gc(2);g.Db(1),g.mc("ngForOf",i.secondaryArray().controls)}}function Hn(e,t){if(1&e&&(g.Vb(0,"div",23),g.Vb(1,"div",14),g.Vb(2,"label",24),g.Kc(3,"Call to Action #1"),g.Ub(),g.Qb(4,"input",25),g.Ub(),g.Vb(5,"div",14),g.Vb(6,"label",26),g.Kc(7,"Call to Action #2"),g.Ub(),g.Qb(8,"input",27),g.Ub(),g.Vb(9,"div",14),g.Vb(10,"label",28),g.Kc(11,"Call to Action #3"),g.Ub(),g.Qb(12,"input",29),g.Ub(),g.Ub()),2&e){var n=g.gc(2);g.mc("formGroup",n.form.get("actions")),g.Db(4),g.mc("placeholder",n.defaultValue("actions.cta1")),g.Db(4),g.mc("placeholder",n.defaultValue("actions.cta2")),g.Db(4),g.mc("placeholder",n.defaultValue("actions.cta3"))}}function Xn(e,t){if(1&e&&(g.Tb(0),g.Vb(1,"div",4),g.Ic(2,Gn,3,2,"ng-container",5),g.Ic(3,qn,4,1,"ng-container",5),g.Ic(4,Hn,13,4,"div",6),g.Ub(),g.Sb()),2&e){var n=t.ngIf;g.Db(1),g.mc("ngSwitch",n),g.Db(1),g.mc("ngSwitchCase","primaryFeatures"),g.Db(1),g.mc("ngSwitchCase","secondaryFeatures"),g.Db(1),g.mc("ngSwitchCase","actions")}}function Yn(e,t){if(1&e){var n=g.Wb();g.Vb(0,"div",23),g.Vb(1,"div",14),g.Vb(2,"label",30),g.Kc(3,"Header Title"),g.Ub(),g.Qb(4,"input",31),g.Ub(),g.Vb(5,"div",14),g.Vb(6,"label",32),g.Kc(7,"Header Subtitle"),g.Ub(),g.Qb(8,"textarea",33),g.Ub(),g.Vb(9,"appearance-image-input",34),g.Kc(10,"Header Image "),g.Ub(),g.Qb(11,"mat-slider",35),g.Vb(12,"color-picker-input",36),g.Kc(13,"Header Overlay Color 1"),g.Ub(),g.Vb(14,"color-picker-input",37),g.Kc(15,"Header Overlay Color 2"),g.Ub(),g.Qb(16,"div",38),g.Vb(17,"ul",39),g.Vb(18,"li",40),g.cc("click",(function(){return g.xc(n),g.gc().openSubpanel("actions")})),g.Vb(19,"span",41),g.Kc(20,"Action Buttons"),g.Ub(),g.Qb(21,"mat-icon",42),g.Ub(),g.Vb(22,"li",40),g.cc("click",(function(){return g.xc(n),g.gc().openSubpanel("primaryFeatures")})),g.Vb(23,"span",41),g.Kc(24,"Primary Features"),g.Ub(),g.Qb(25,"mat-icon",42),g.Ub(),g.Vb(26,"li",40),g.cc("click",(function(){return g.xc(n),g.gc().openSubpanel("secondaryFeatures")})),g.Vb(27,"span",41),g.Kc(28,"Secondary Features"),g.Ub(),g.Qb(29,"mat-icon",42),g.Ub(),g.Ub(),g.Qb(30,"div",38),g.Vb(31,"div",14),g.Vb(32,"label",43),g.Kc(33,"Footer Title"),g.Ub(),g.Qb(34,"input",44),g.Ub(),g.Vb(35,"div",14),g.Vb(36,"label",45),g.Kc(37,"Footer Subtitle"),g.Ub(),g.Qb(38,"textarea",46),g.Ub(),g.Vb(39,"appearance-image-input",47),g.Kc(40,"Footer Image "),g.Ub(),g.Ub()}if(2&e){var i=g.gc();g.mc("formGroup",i.form),g.Db(4),g.mc("placeholder",i.defaultValue("headerTitle")),g.Db(4),g.mc("placeholder",i.defaultValue("headerSubtitle")),g.Db(1),g.mc("defaultValue",i.defaultValue("headerImage")),g.Db(25),g.mc("placeholder",i.defaultValue("footerTitle")),g.Db(4),g.mc("placeholder",i.defaultValue("footerSubtitle")),g.Db(1),g.mc("defaultValue",i.defaultValue("footerImage"))}}var Bn,Zn,ei="homepage.appearance",ti={defaultRoute:"drive",navigationRoutes:["s","drive"],menus:{positions:["drive-navbar","drive-sidebar","homepage-navbar","admin-navbar","custom-page-navbar"],availableRoutes:["drive/shares","drive/recent","drive/starred","drive/trash","drive/workspaces"]},sections:[{name:"landing page",component:(Bn=function(){function e(t,n,i){d(this,e),this.fb=t,this.editor=n,this.settings=i,this.selectedSubpanel$=new U.a(null),this.path$=this.selectedSubpanel$.pipe(Object(f.a)((function(e){var t=["Homepage"];return e&&t.push(e),t}))),this.form=this.fb.group({headerTitle:[""],headerSubtitle:[""],headerImage:[""],headerImageOpacity:[1],headerOverlayColor1:[""],headerOverlayColor2:[""],footerTitle:[""],footerSubtitle:[""],footerImage:[""],actions:this.fb.group({cta1:[""],cta2:[""],cta3:[""]}),primaryFeatures:this.fb.array([]),secondaryFeatures:this.fb.array([])})}return u(e,[{key:"ngOnInit",value:function(){var e=this,t=this.settings.getJson(ei,{});this.defaultValues=this.editor.defaultSettings[ei]?JSON.parse(this.editor.defaultSettings[ei]):{},(t.primaryFeatures||[]).forEach((function(){e.addFeature("primary")})),(t.secondaryFeatures||[]).forEach((function(){e.addFeature("secondary")})),this.form.patchValue(t),this.form.valueChanges.subscribe((function(t){e.editor.setConfig(ei,t),e.editor.addChanges(a({},ei,t))}))}},{key:"openPreviousPanel",value:function(){this.selectedSubpanel$.value?this.openSubpanel(null):this.editor.closeActivePanel()}},{key:"openSubpanel",value:function(e){this.selectedSubpanel$.next(e)}},{key:"addFeature",value:function(e){var t=this.form.get(e+"Features"),n={title:[""],subtitle:[""],image:[""]};"secondary"===e&&(n.description=[""]),t.push(this.fb.group(n))}},{key:"removeFeature",value:function(e,t){this.form.get(e+"Features").removeAt(t)}},{key:"defaultValue",value:function(e){return Nn.pick(e,this.defaultValues)||""}},{key:"primaryArray",value:function(){return this.form.get("primaryFeatures")}},{key:"secondaryArray",value:function(){return this.form.get("secondaryFeatures")}}]),e}(),Bn.\u0275fac=function(e){return new(e||Bn)(g.Pb(b.h),g.Pb(j),g.Pb(T.a))},Bn.\u0275cmp=g.Jb({type:Bn,selectors:[["homepage-appearance-panel"]],decls:7,vars:7,consts:[[3,"path","back"],[1,"appearance-panel-content"],[4,"ngIf","ngIfElse"],["mainPanel",""],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","many-inputs",3,"formGroup",4,"ngSwitchCase"],["class","many-inputs feature-group",3,"formGroup",4,"ngFor","ngForOf"],["mat-flat-button","","color","accent","trans","",3,"click",4,"ngIf"],[1,"many-inputs","feature-group",3,"formGroup"],[1,"feature-group-header"],[1,"text"],["mat-icon-button","","color","warn",3,"click"],["svgIcon","close"],[1,"input-container"],["trans","",3,"for"],["type","text","formControlName","title","required","",3,"id","placeholder","highlightInPreview"],["formControlName","subtitle","rows","3","required","",3,"id","placeholder","highlightInPreview"],["formControlName","image","diskPrefix","homepage","trans","",3,"defaultValue","highlightInPreview"],["mat-flat-button","","color","accent","trans","",3,"click"],["type","text","formControlName","subtitle","required","",3,"id","placeholder","highlightInPreview"],["type","text","formControlName","description","rows","4","required","",3,"id","placeholder","highlightInPreview"],["diskPrefix","homepage","formControlName","image","trans","",3,"defaultValue","highlightInPreview"],[1,"many-inputs",3,"formGroup"],["for","home.actions.cta1","trans",""],["type","text","id","home.actions.cta1","formControlName","cta1","highlightInPreview",".get-started-button","required","",3,"placeholder"],["for","home.actions.cta2","trans",""],["type","text","id","home.actions.cta2","formControlName","cta2","highlightInPreview",".learn-more-button","required","",3,"placeholder"],["for","home.actions.cta3","trans",""],["type","text","id","home.actions.cta3","formControlName","cta3","highlightInPreview",".learn-more-button","required","",3,"placeholder"],["for","home.header.title","trans",""],["type","text","id","home.header.title","formControlName","headerTitle","highlightInPreview",".header-title","required","",3,"placeholder"],["for","home.header.subtitle","trans",""],["type","text","id","home.header.subtitle","formControlName","headerSubtitle","rows","4","highlightInPreview",".header-description","required","",3,"placeholder"],["highlightInPreview",".hero","diskPrefix","homepage","formControlName","headerImage","trans","",3,"defaultValue"],["min","0","max","1","step","0.1","formControlName","headerImageOpacity",1,"opacity-slider"],["formControlName","headerOverlayColor1","trans",""],["formControlName","headerOverlayColor2","trans",""],[1,"separator"],[1,"unstyled-list"],[1,"nav-item",3,"click"],["trans","",1,"text"],["svgIcon","keyboard-arrow-right",1,"actions"],["for","home.footer.title","trans",""],["type","text","id","home.footer.title","formControlName","footerTitle","highlightInPreview",".footer-title","required","",3,"placeholder"],["for","home.footer.subtitle","trans",""],["type","text","id","home.footer.subtitle","formControlName","footerSubtitle","rows","4","highlightInPreview",".footer-description","required","",3,"placeholder"],["highlightInPreview",".bottom-cta","diskPrefix","homepage","formControlName","footerImage","trans","",3,"defaultValue"]],template:function(e,t){if(1&e&&(g.Vb(0,"appearance-panel-meta",0),g.cc("back",(function(){return t.openPreviousPanel()})),g.hc(1,"async"),g.Ub(),g.Vb(2,"div",1),g.Ic(3,Xn,5,4,"ng-container",2),g.hc(4,"async"),g.Ic(5,Yn,41,7,"ng-template",null,3,g.Jc),g.Ub()),2&e){var n=g.uc(6);g.mc("path",g.ic(1,3,t.path$)),g.Db(3),g.mc("ngIf",g.ic(4,5,t.selectedSubpanel$))("ngIfElse",n)}},directives:[Y,l.t,l.x,l.y,l.s,b.v,b.m,W.b,Q.a,R.a,b.d,b.u,b.k,b.F,ve,ge,Tn,je],pipes:[l.b,Qn.a],styles:[".separator[_ngcontent-%COMP%]{height:1px;width:100%;background-color:var(--be-divider-default);margin:20px 0}.feature-group[_ngcontent-%COMP%]{padding-bottom:5px;margin-bottom:15px}.feature-group[_ngcontent-%COMP%], .feature-group-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--be-divider-default)}.feature-group-header[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:1.5rem;padding-bottom:10px;margin-bottom:10px}.feature-group-header[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{margin-left:auto}.opacity-slider[_ngcontent-%COMP%]{width:100%;margin-top:-20px}"],changeDetection:0}),Bn),position:1,route:"/"}]},ni=((Zn=function e(){d(this,e)}).\u0275mod=g.Nb({type:Zn}),Zn.\u0275inj=g.Mb({factory:function(e){return new(e||Zn)},providers:[{provide:v,useValue:ti,multi:!0}],imports:[[l.c,wn,b.E,Vn,xn.a,Q.b,W.c,xn.a,zn]]}),Zn)},WvtK:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=[{originX:"end",originY:"center",overlayX:"start",overlayY:"center",offsetX:5},{originX:"start",originY:"center",overlayX:"end",overlayY:"center",offsetX:5}]}}])}();
//# sourceMappingURL=13-es5.33664c6665b69125e2c4.js.map