!function(){function e(t,n,i){return(e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}})(t,n,i||t)}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);i=!0);}catch(c){a=!0,r=c}finally{try{i||null==s.return||s.return()}finally{if(a)throw r}}return n}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=h(e);if(t){var a=h(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"+6XX":function(e,t,n){var i=n("y1pI");e.exports=function(e){return i(this.__data__,e)>-1}},"+K+b":function(e,t,n){var i=n("JHRd");e.exports=function(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}},"+c4W":function(e,t,n){var i=n("711d"),a=n("4/ic"),r=n("9ggG"),o=n("9Nap");e.exports=function(e){return r(e)?i(o(e)):a(e)}},"+iFO":function(e,t,n){var i=n("dTAl"),a=n("LcsW"),r=n("6sVZ");e.exports=function(e){return"function"!=typeof e.constructor||r(e)?{}:i(a(e))}},"/1cH":function(e,t,n){"use strict";n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return G})),n.d(t,"c",(function(){return K})),n.d(t,"d",(function(){return J}));var a=n("u47x"),r=n("8LU1"),o=n("fXoL"),l=n("FKr1"),d=n("quSY"),p=n("XNiG"),h=n("NXyV"),f=n("VRyK"),g=n("LRne"),v=n("xgIS"),m=n("ofXK"),y=n("rDax"),k=n("vxfF"),w=n("FtGj"),x=n("nLfN"),_=n("+rOU"),O=n("3Pt+"),C=n("kmnG"),P=n("IzEk"),I=n("eIep"),j=n("pLZG"),S=n("lJxs"),D=n("vkgz"),E=n("3E0/"),U=n("cH1L"),V=["panel"];function A(e,t){if(1&e&&(o.Vb(0,"div",0,1),o.kc(2),o.Ub()),2&e){var n=o.gc();o.mc("id",n.id)("ngClass",n._classList)}}var M=["*"],T=0,F=function e(t,n){b(this,e),this.source=t,this.option=n},L=Object(l.v)((function e(){b(this,e)})),R=new o.s("mat-autocomplete-default-options",{providedIn:"root",factory:function(){return{autoActiveFirstOption:!1}}}),$=function(){var e=function(e){c(n,e);var t=u(n);function n(e,i,a){var r;return b(this,n),(r=t.call(this))._changeDetectorRef=e,r._elementRef=i,r._activeOptionChanges=d.a.EMPTY,r.showPanel=!1,r._isOpen=!1,r.displayWith=null,r.optionSelected=new o.o,r.opened=new o.o,r.closed=new o.o,r.optionActivated=new o.o,r._classList={},r.id="mat-autocomplete-"+T++,r._autoActiveFirstOption=!!a.autoActiveFirstOption,r}return s(n,[{key:"ngAfterContentInit",value:function(){var e=this;this._keyManager=new a.b(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe((function(t){e.optionActivated.emit({source:e,option:e.options.toArray()[t]||null})})),this._setVisibility()}},{key:"ngOnDestroy",value:function(){this._activeOptionChanges.unsubscribe()}},{key:"_setScrollTop",value:function(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}},{key:"_getScrollTop",value:function(){return this.panel?this.panel.nativeElement.scrollTop:0}},{key:"_setVisibility",value:function(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}},{key:"_emitSelectEvent",value:function(e){var t=new F(this,e);this.optionSelected.emit(t)}},{key:"_setVisibilityClasses",value:function(e){e[this._visibleClass]=this.showPanel,e[this._hiddenClass]=!this.showPanel}},{key:"isOpen",get:function(){return this._isOpen&&this.showPanel}},{key:"autoActiveFirstOption",get:function(){return this._autoActiveFirstOption},set:function(e){this._autoActiveFirstOption=Object(r.c)(e)}},{key:"classList",set:function(e){this._classList=e&&e.length?e.split(" ").reduce((function(e,t){return e[t.trim()]=!0,e}),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}}]),n}(L);return e.\u0275fac=function(t){return new(t||e)(o.Pb(o.i),o.Pb(o.m),o.Pb(R))},e.\u0275dir=o.Kb({type:e,viewQuery:function(e,t){var n;1&e&&(o.Ec(o.O,!0),o.Qc(V,!0)),2&e&&(o.tc(n=o.dc())&&(t.template=n.first),o.tc(n=o.dc())&&(t.panel=n.first))},inputs:{displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",classList:["class","classList"],panelWidth:"panelWidth"},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[o.Ab]}),e}(),N=function(){var e=function(e){c(n,e);var t=u(n);function n(){var e;return b(this,n),(e=t.apply(this,arguments))._visibleClass="mat-autocomplete-visible",e._hiddenClass="mat-autocomplete-hidden",e}return n}($);return e.\u0275fac=function(t){return B(t||e)},e.\u0275cmp=o.Jb({type:e,selectors:[["mat-autocomplete"]],contentQueries:function(e,t,n){var i;1&e&&(o.Ib(n,l.e,!0),o.Ib(n,l.k,!0)),2&e&&(o.tc(i=o.dc())&&(t.optionGroups=i),o.tc(i=o.dc())&&(t.options=i))},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[o.Cb([{provide:l.f,useExisting:e}]),o.Ab],ngContentSelectors:M,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(e,t){1&e&&(o.lc(),o.Ic(0,A,3,2,"ng-template"))},directives:[m.q],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),e}(),B=o.Xb(N),z=function(){var e=function e(t){b(this,e),this.elementRef=t};return e.\u0275fac=function(t){return new(t||e)(o.Pb(o.m))},e.\u0275dir=o.Kb({type:e}),e}(),K=function(){var e=function(e){c(n,e);var t=u(n);function n(){return b(this,n),t.apply(this,arguments)}return n}(z);return e.\u0275fac=function(t){return Q(t||e)},e.\u0275dir=o.Kb({type:e,selectors:[["","matAutocompleteOrigin",""]],exportAs:["matAutocompleteOrigin"],features:[o.Ab]}),e}(),Q=o.Xb(K),W=new o.s("mat-autocomplete-scroll-strategy"),H={provide:W,deps:[y.a],useFactory:function(e){return function(){return e.scrollStrategies.reposition()}}},X={provide:O.s,useExisting:Object(o.W)((function(){return J})),multi:!0},Z=function(){var e=function(){function e(t,n,a,r,o,s,c,l,u,g){var v=this;b(this,e),this._element=t,this._overlay=n,this._viewContainerRef=a,this._zone=r,this._changeDetectorRef=o,this._dir=c,this._formField=l,this._document=u,this._viewportRuler=g,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=d.a.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new p.a,this._windowBlurHandler=function(){v._canOpenOnNextFocus=v._document.activeElement!==v._element.nativeElement||v.panelOpen},this._onChange=function(){},this._onTouched=function(){},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=Object(h.a)((function(){return v.autocomplete&&v.autocomplete.options?Object(f.a).apply(void 0,i(v.autocomplete.options.map((function(e){return e.onSelectionChange})))):v._zone.onStable.pipe(Object(P.a)(1),Object(I.a)((function(){return v.optionSelections})))})),this._scrollStrategy=s}return s(e,[{key:"ngAfterViewInit",value:function(){var e=this,t=this._getWindow();void 0!==t&&this._zone.runOutsideAngular((function(){return t.addEventListener("blur",e._windowBlurHandler)}))}},{key:"ngOnChanges",value:function(e){e.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}},{key:"ngOnDestroy",value:function(){var e=this._getWindow();void 0!==e&&e.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}},{key:"openPanel",value:function(){this._attachOverlay(),this._floatLabel()}},{key:"closePanel",value:function(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this.autocomplete.closed.emit(),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}},{key:"updatePosition",value:function(){this._overlayAttached&&this._overlayRef.updatePosition()}},{key:"_getOutsideClickStream",value:function(){var e=this;return Object(f.a)(Object(v.a)(this._document,"click"),Object(v.a)(this._document,"touchend")).pipe(Object(j.a)((function(t){var n=e._isInsideShadowRoot&&t.composedPath?t.composedPath()[0]:t.target,i=e._formField?e._formField._elementRef.nativeElement:null,a=e.connectedTo?e.connectedTo.elementRef.nativeElement:null;return e._overlayAttached&&n!==e._element.nativeElement&&(!i||!i.contains(n))&&(!a||!a.contains(n))&&!!e._overlayRef&&!e._overlayRef.overlayElement.contains(n)})))}},{key:"writeValue",value:function(e){var t=this;Promise.resolve(null).then((function(){return t._setTriggerValue(e)}))}},{key:"registerOnChange",value:function(e){this._onChange=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"setDisabledState",value:function(e){this._element.nativeElement.disabled=e}},{key:"_handleKeydown",value:function(e){var t=e.keyCode;if(t===w.g&&e.preventDefault(),this.activeOption&&t===w.f&&this.panelOpen)this.activeOption._selectViaInteraction(),this._resetActiveItem(),e.preventDefault();else if(this.autocomplete){var n=this.autocomplete._keyManager.activeItem,i=t===w.p||t===w.d;this.panelOpen||t===w.o?this.autocomplete._keyManager.onKeydown(e):i&&this._canOpen()&&this.openPanel(),(i||this.autocomplete._keyManager.activeItem!==n)&&this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0)}}},{key:"_handleInput",value:function(e){var t=e.target,n=t.value;"number"===t.type&&(n=""==n?null:parseFloat(n)),this._previousValue!==n&&(this._previousValue=n,this._onChange(n),this._canOpen()&&this._document.activeElement===e.target&&this.openPanel())}},{key:"_handleFocus",value:function(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}},{key:"_floatLabel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._formField&&"auto"===this._formField.floatLabel&&(e?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}},{key:"_resetLabel",value:function(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}},{key:"_subscribeToClosingActions",value:function(){var e=this,t=this._zone.onStable.pipe(Object(P.a)(1)),n=this.autocomplete.options.changes.pipe(Object(D.a)((function(){return e._positionStrategy.reapplyLastPosition()})),Object(E.a)(0));return Object(f.a)(t,n).pipe(Object(I.a)((function(){var t=e.panelOpen;return e._resetActiveItem(),e.autocomplete._setVisibility(),e.panelOpen&&(e._overlayRef.updatePosition(),t!==e.panelOpen&&e.autocomplete.opened.emit()),e.panelClosingActions})),Object(P.a)(1)).subscribe((function(t){return e._setValueAndClose(t)}))}},{key:"_destroyPanel",value:function(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}},{key:"_setTriggerValue",value:function(e){var t=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(e):e,n=null!=t?t:"";this._formField?this._formField._control.value=n:this._element.nativeElement.value=n,this._previousValue=n}},{key:"_setValueAndClose",value:function(e){e&&e.source&&(this._clearPreviousSelectedOption(e.source),this._setTriggerValue(e.source.value),this._onChange(e.source.value),this._element.nativeElement.focus(),this.autocomplete._emitSelectEvent(e.source)),this.closePanel()}},{key:"_clearPreviousSelectedOption",value:function(e){this.autocomplete.options.forEach((function(t){t!=e&&t.selected&&t.deselect()}))}},{key:"_attachOverlay",value:function(){var e=this;null==this._isInsideShadowRoot&&(this._isInsideShadowRoot=!!Object(x.c)(this._element.nativeElement));var t=this._overlayRef;t?(this._positionStrategy.setOrigin(this._getConnectedElement()),t.updateSize({width:this._getPanelWidth()})):(this._portal=new _.i(this.autocomplete.template,this._viewContainerRef),t=this._overlay.create(this._getOverlayConfig()),this._overlayRef=t,t.keydownEvents().subscribe((function(t){(t.keyCode===w.g||t.keyCode===w.p&&t.altKey)&&(e._resetActiveItem(),e._closeKeyEventStream.next(),t.stopPropagation(),t.preventDefault())})),this._viewportSubscription=this._viewportRuler.change().subscribe((function(){e.panelOpen&&t&&t.updateSize({width:e._getPanelWidth()})}))),t&&!t.hasAttached()&&(t.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());var n=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&n!==this.panelOpen&&this.autocomplete.opened.emit()}},{key:"_getOverlayConfig",value:function(){return new y.b({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir})}},{key:"_getOverlayPosition",value:function(){var e=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(e),this._positionStrategy=e,e}},{key:"_setStrategyPositions",value:function(e){var t,n=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],i=this._aboveClass,a=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:i},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:i}];t="above"===this.position?a:"below"===this.position?n:[].concat(n,a),e.withPositions(t)}},{key:"_getConnectedElement",value:function(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}},{key:"_getPanelWidth",value:function(){return this.autocomplete.panelWidth||this._getHostWidth()}},{key:"_getHostWidth",value:function(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}},{key:"_resetActiveItem",value:function(){this.autocomplete._keyManager.setActiveItem(this.autocomplete.autoActiveFirstOption?0:-1)}},{key:"_canOpen",value:function(){var e=this._element.nativeElement;return!e.readOnly&&!e.disabled&&!this._autocompleteDisabled}},{key:"_getWindow",value:function(){var e;return(null===(e=this._document)||void 0===e?void 0:e.defaultView)||window}},{key:"_scrollToOption",value:function(e){var t=this.autocomplete,n=Object(l.s)(e,t.options,t.optionGroups);if(0===e&&1===n)t._setScrollTop(0);else{var i=t.options.toArray()[e];if(i){var a=i._getHostElement(),r=Object(l.t)(a.offsetTop,a.offsetHeight,t._getScrollTop(),t.panel.nativeElement.offsetHeight);t._setScrollTop(r)}}}},{key:"autocompleteDisabled",get:function(){return this._autocompleteDisabled},set:function(e){this._autocompleteDisabled=Object(r.c)(e)}},{key:"panelOpen",get:function(){return this._overlayAttached&&this.autocomplete.showPanel}},{key:"panelClosingActions",get:function(){var e=this;return Object(f.a)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(Object(j.a)((function(){return e._overlayAttached}))),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(Object(j.a)((function(){return e._overlayAttached}))):Object(g.a)()).pipe(Object(S.a)((function(e){return e instanceof l.m?e:null})))}},{key:"activeOption",get:function(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Pb(o.m),o.Pb(y.a),o.Pb(o.S),o.Pb(o.B),o.Pb(o.i),o.Pb(W),o.Pb(U.c,8),o.Pb(C.a,9),o.Pb(m.e,8),o.Pb(k.e))},e.\u0275dir=o.Kb({type:e,inputs:{position:["matAutocompletePosition","position"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"],autocomplete:["matAutocomplete","autocomplete"],connectedTo:["matAutocompleteConnectedTo","connectedTo"]},features:[o.Bb]}),e}(),J=function(){var e=function(e){c(n,e);var t=u(n);function n(){var e;return b(this,n),(e=t.apply(this,arguments))._aboveClass="mat-autocomplete-panel-above",e}return n}(Z);return e.\u0275fac=function(t){return q(t||e)},e.\u0275dir=o.Kb({type:e,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(e,t){1&e&&o.cc("focusin",(function(){return t._handleFocus()}))("blur",(function(){return t._onTouched()}))("input",(function(e){return t._handleInput(e)}))("keydown",(function(e){return t._handleKeydown(e)})),2&e&&o.Eb("autocomplete",t.autocompleteAttribute)("role",t.autocompleteDisabled?null:"combobox")("aria-autocomplete",t.autocompleteDisabled?null:"list")("aria-activedescendant",t.panelOpen&&t.activeOption?t.activeOption.id:null)("aria-expanded",t.autocompleteDisabled?null:t.panelOpen.toString())("aria-owns",t.autocompleteDisabled||!t.panelOpen||null==t.autocomplete?null:t.autocomplete.id)("aria-haspopup",!t.autocompleteDisabled)},exportAs:["matAutocompleteTrigger"],features:[o.Cb([X]),o.Ab]}),e}(),q=o.Xb(J),G=function(){var e=function e(){b(this,e)};return e.\u0275mod=o.Nb({type:e}),e.\u0275inj=o.Mb({factory:function(t){return new(t||e)},providers:[H],imports:[[y.d,l.l,l.h,m.c],k.b,l.l,l.h]}),e}()},"/9aa":function(e,t,n){var i=n("NykK"),a=n("ExA7");e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==i(e)}},"03A+":function(e,t,n){var i=n("JTzB"),a=n("ExA7"),r=Object.prototype,o=r.hasOwnProperty,s=r.propertyIsEnumerable,c=i(function(){return arguments}())?i:function(e){return a(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},"0Cz8":function(e,t,n){var i=n("Xi7e"),a=n("ebwN"),r=n("e4Nc");e.exports=function(e,t){var n=this.__data__;if(n instanceof i){var o=n.__data__;if(!a||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new r(o)}return n.set(e,t),this.size=n.size,this}},"0Gur":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n("ofXK"),a=n("A5z7"),r=n("NFeN"),o=n("3Pt+"),s=n("6rvT"),c=n("/1cH"),l=n("bTqV"),u=n("FKr1"),d=n("fXoL"),p=function(){var e=function e(){b(this,e)};return e.\u0275mod=d.Nb({type:e}),e.\u0275inj=d.Mb({factory:function(t){return new(t||e)},imports:[[i.c,a.e,c.b,o.E,s.a,l.c,r.b,u.q]]}),e}()},"0ycA":function(e,t){e.exports=function(){return[]}},"1+5i":function(e,t,n){var i=n("w/wX"),a=n("sEf8"),r=n("mdPL"),o=r&&r.isSet,s=o?a(o):i;e.exports=s},"1ImS":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("ofXK"),a=n("NFeN"),r=n("6rvT"),o=n("bSwM"),s=n("3Pt+"),c=n("bTqV"),l=n("A5z7"),u=n("bv9b"),d=n("0Gur"),p=n("Iysn"),h=n("fXoL"),f=function(){var e=function e(){b(this,e)};return e.\u0275mod=h.Nb({type:e}),e.\u0275inj=h.Mb({factory:function(t){return new(t||e)},imports:[[i.c,r.a,s.E,s.o,d.a,p.a,c.c,a.b,o.b,l.e,u.b],o.b]}),e}()},"1hJj":function(e,t,n){var i=n("e4Nc"),a=n("ftKO"),r=n("3A9y");function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=a,o.prototype.has=r,e.exports=o},"1jcm":function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return P}));var i=n("GU7r"),a=n("fXoL"),r=n("FKr1"),o=n("8LU1"),l=n("3Pt+"),d=n("R1ws"),p=n("u47x"),h=["thumbContainer"],f=["toggleBar"],g=["input"],v=function(){return{enterDuration:150}},m=["*"],y=new a.s("mat-slide-toggle-default-options",{providedIn:"root",factory:function(){return{disableToggleValue:!1}}}),k=0,w={provide:l.s,useExisting:Object(a.W)((function(){return O})),multi:!0},x=function e(t,n){b(this,e),this.source=t,this.checked=n},_=Object(r.y)(Object(r.u)(Object(r.v)(Object(r.w)((function e(t){b(this,e),this._elementRef=t}))),"accent")),O=function(){var e=function(e){c(n,e);var t=u(n);function n(e,i,r,o,s,c){var l;return b(this,n),(l=t.call(this,e))._focusMonitor=i,l._changeDetectorRef=r,l.defaults=s,l._animationMode=c,l._onChange=function(e){},l._onTouched=function(){},l._uniqueId="mat-slide-toggle-"+ ++k,l._required=!1,l._checked=!1,l.name=null,l.id=l._uniqueId,l.labelPosition="after",l.ariaLabel=null,l.ariaLabelledby=null,l.change=new a.o,l.toggleChange=new a.o,l.tabIndex=parseInt(o)||0,l}return s(n,[{key:"ngAfterContentInit",value:function(){var e=this;this._focusMonitor.monitor(this._elementRef,!0).subscribe((function(t){"keyboard"===t||"program"===t?e._inputElement.nativeElement.focus():t||Promise.resolve().then((function(){return e._onTouched()}))}))}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"_onChangeEvent",value:function(e){e.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}},{key:"_onInputClick",value:function(e){e.stopPropagation()}},{key:"writeValue",value:function(e){this.checked=!!e}},{key:"registerOnChange",value:function(e){this._onChange=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e,this._changeDetectorRef.markForCheck()}},{key:"focus",value:function(e){this._focusMonitor.focusVia(this._inputElement,"keyboard",e)}},{key:"toggle",value:function(){this.checked=!this.checked,this._onChange(this.checked)}},{key:"_emitChangeEvent",value:function(){this._onChange(this.checked),this.change.emit(new x(this,this.checked))}},{key:"_onLabelTextChange",value:function(){this._changeDetectorRef.detectChanges()}},{key:"required",get:function(){return this._required},set:function(e){this._required=Object(o.c)(e)}},{key:"checked",get:function(){return this._checked},set:function(e){this._checked=Object(o.c)(e),this._changeDetectorRef.markForCheck()}},{key:"inputId",get:function(){return(this.id||this._uniqueId)+"-input"}}]),n}(_);return e.\u0275fac=function(t){return new(t||e)(a.Pb(a.m),a.Pb(p.h),a.Pb(a.i),a.ac("tabindex"),a.Pb(y),a.Pb(d.a,8))},e.\u0275cmp=a.Jb({type:e,selectors:[["mat-slide-toggle"]],viewQuery:function(e,t){var n;1&e&&(a.Qc(h,!0),a.Qc(f,!0),a.Qc(g,!0)),2&e&&(a.tc(n=a.dc())&&(t._thumbEl=n.first),a.tc(n=a.dc())&&(t._thumbBarEl=n.first),a.tc(n=a.dc())&&(t._inputElement=n.first))},hostAttrs:[1,"mat-slide-toggle"],hostVars:12,hostBindings:function(e,t){2&e&&(a.Yb("id",t.id),a.Eb("tabindex",t.disabled?null:-1)("aria-label",null)("aria-labelledby",null),a.Hb("mat-checked",t.checked)("mat-disabled",t.disabled)("mat-slide-toggle-label-before","before"==t.labelPosition)("_mat-animation-noopable","NoopAnimations"===t._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[a.Cb([w]),a.Ab],ngContentSelectors:m,decls:16,vars:18,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(e,t){if(1&e&&(a.lc(),a.Vb(0,"label",0,1),a.Vb(2,"div",2,3),a.Vb(4,"input",4,5),a.cc("change",(function(e){return t._onChangeEvent(e)}))("click",(function(e){return t._onInputClick(e)})),a.Ub(),a.Vb(6,"div",6,7),a.Qb(8,"div",8),a.Vb(9,"div",9),a.Qb(10,"div",10),a.Ub(),a.Ub(),a.Ub(),a.Vb(11,"span",11,12),a.cc("cdkObserveContent",(function(){return t._onLabelTextChange()})),a.Vb(13,"span",13),a.Kc(14,"\xa0"),a.Ub(),a.kc(15),a.Ub(),a.Ub()),2&e){var n=a.uc(1),i=a.uc(12);a.Eb("for",t.inputId),a.Db(2),a.Hb("mat-slide-toggle-bar-no-side-margin",!i.textContent||!i.textContent.trim()),a.Db(2),a.mc("id",t.inputId)("required",t.required)("tabIndex",t.tabIndex)("checked",t.checked)("disabled",t.disabled),a.Eb("name",t.name)("aria-checked",t.checked.toString())("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledby),a.Db(5),a.mc("matRippleTrigger",n)("matRippleDisabled",t.disableRipple||t.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",a.pc(17,v))}},directives:[r.p,i.a],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),e}(),C=function(){var e=function e(){b(this,e)};return e.\u0275mod=a.Nb({type:e}),e.\u0275inj=a.Mb({factory:function(t){return new(t||e)}}),e}(),P=function(){var e=function e(){b(this,e)};return e.\u0275mod=a.Nb({type:e}),e.\u0275inj=a.Mb({factory:function(t){return new(t||e)},imports:[[C,r.q,r.h,i.c],C,r.h]}),e}()},"2ajD":function(e,t){e.exports=function(e){return e!=e}},"2gN3":function(e,t,n){var i=n("Kz5y");e.exports=i["__core-js_shared__"]},"2hX1":function(e,a,r){"use strict";r.d(a,"a",(function(){return E}));var o,c=r("2Vo4"),l=r("itXk"),u=r("LRne"),d=r("lJxs"),p=r("eIep"),h=r("vkgz"),f=r("fXoL"),g=r("tyNb"),v=r("LRXf"),m=r("ahrr"),y=((o=function(){function e(t,n,i){var a=this;b(this,e),this.router=t,this.http=n,this.localStorage=i,this.params$=new c.a({}),this.paginatedOnce$=new c.a(!1),this.loading$=new c.a(!1),this.response$=new c.a(null),this.dontUpdateQueryParams=!1,this.perPageCacheKey=null,this.noResults$=this.response$.pipe(Object(d.a)((function(e){return a.paginatedOnce$.value&&0===e.pagination.data.length})))}return s(e,[{key:"paginate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=this.subscription?{}:this.currentQueryParams();this.params$.next(Object.assign(Object.assign(Object.assign({},this.response$.value?{perPage:this.response$.value.pagination.per_page,page:this.response$.value.pagination.current_page}:{}),i),e)),this.subscription||this.init(t,n)}},{key:"nextPage",value:function(){var e=this.response$.value.pagination.current_page,t=this.response$.value.pagination.total,n=e+1;this.paginate(Object.assign(Object.assign({},this.params$.value),{page:!e||n>t?e:n}))}},{key:"previousPage",value:function(){var e=this.response$.value.pagination.current_page;this.paginate(Object.assign(Object.assign({},this.params$.value),{page:e-1||1}))}},{key:"changePerPage",value:function(e){var t;e!==(null===(t=this.params$.value)||void 0===t?void 0:t.perPage)&&(this.perPageCacheKey&&this.localStorage.set(this.perPageCacheKey,e),this.paginate(Object.assign(Object.assign({},this.params$.value),{perPage:e})))}},{key:"currentQueryParams",value:function(){return this.router.routerState.root.snapshot.queryParams}},{key:"init",value:function(e,t){var n=this;this.subscription=this.params$.pipe(Object(p.a)((function(i){n.loading$.next(!0);var a=!n.paginatedOnce$.value;return a&&n.perPageCacheKey&&n.localStorage.get(n.perPageCacheKey)&&(i=Object.assign({perPage:n.localStorage.get(n.perPageCacheKey)},i)),(a&&t?Object(u.a)({pagination:t}):n.http.get(e,i)).pipe(Object(h.a)((function(){n.updateQueryParams(i),n.loading$.next(!1),n.paginatedOnce$.next(!0)}),(function(){n.loading$.next(!1),n.paginatedOnce$.next(!0)})))}))).subscribe((function(e){n.response$.next(e)}))}},{key:"updateQueryParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.dontUpdateQueryParams){for(var t in e)Array.isArray(e[t])&&(e[t]=e[t].join(","));this.router.navigate([],{queryParams:e,replaceUrl:!0})}}},{key:"canLoadNextPage",value:function(){var e,t;return this.response$.value&&this.currentPage<(null===(t=null===(e=this.response$.value)||void 0===e?void 0:e.pagination)||void 0===t?void 0:t.last_page)}},{key:"params",get:function(){return this.params$.value}},{key:"currentPage",get:function(){var e,t;return null===(t=null===(e=this.response$.value)||void 0===e?void 0:e.pagination)||void 0===t?void 0:t.current_page}}]),e}()).\u0275fac=function(e){return new(e||o)(f.Zb(g.g),f.Zb(v.a),f.Zb(m.a))},o.\u0275prov=f.Lb({token:o,factory:o.\u0275fac}),o),k=r("Kj3r"),w=r("Zy1z"),x=r("pLZG"),_=r("F96W"),O=r("/RwR"),C=r("iH1U"),P=r("hLX6"),I=r("8LU1");function j(e,t){var n=P.pick(t,e);if(Object(I.a)(n)){var i=Number(n);return i<9007199254740991?i:n}return n}var S,D=r("QGXG"),E=((S=function(){function e(t,n,i,a){b(this,e),this.modal=t,this.router=n,this.http=i,this.localStorage=a,this.sort$=new c.a({}),this.filters$=new c.a({}),this.staticParams$=new c.a({}),this.paginator=new y(this.router,this.http,this.localStorage),this.ignoreNextParamChange=!1,this.originalData$=new c.a([]),this.data$=new c.a([]),this.selectedRows$=new c.a([])}return s(e,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.config=t,this.staticParams$.next(Object.assign(Object.assign({},this.staticParams$.value),t.staticParams)),t.uri?this.connectToPaginator():t.initialData&&(this.data=t.initialData),this.mainSub=Object(l.a)([this.sort$,this.filters$,this.staticParams$]).pipe(Object(k.a)(0),Object(d.a)((function(e){return Object.assign.apply(Object,[{}].concat(i(e)))}))).subscribe((function(t){if(e.ignoreNextParamChange)return e.ignoreNextParamChange=!1;t=Object(_.a)(t),Object.entries(t).forEach((function(e){var i=n(e,2),a=i[0],r=i[1];"object"==typeof r&&r.id&&(t[a+"Id"]=r.id,delete t[a])})),e.config.uri?e.paginator.paginate(t,e.config.uri,e.config.initialData):Object.keys(t).length&&e.data.length&&e.applyLocalTransforms(t)})),this}},{key:"connectToPaginator",value:function(){var e=this;this.paginatorSub=this.paginator.response$.pipe(Object(w.a)()).subscribe((function(t){var a,r=n(t,2),o=r[0],s=r[1],c=e.config.infiniteScroll&&(null===(a=null==o?void 0:o.pagination)||void 0===a?void 0:a.current_page)!==s.pagination.current_page?[].concat(i(e.data$.value),i(s.pagination.data)):s.pagination.data;e.data$.next(c)}))}},{key:"applyLocalTransforms",value:function(e){var t=i(this.originalData$.value);e.query&&(t=function(e,t){return e.filter((function(e){return function(e,t){var n=function e(t){return Object.keys(t).reduce((function(n,i){return n+(t[i]&&"object"==typeof t[i]?e(t[i]):t[i])+"\u25ec"}),"").toLowerCase()}(e),i=t.trim().toLowerCase();return-1!==n.indexOf(i)}(e,t)}))}(t,e.query)),e.orderBy&&e.orderDir&&(t=function(e,t,n){return e.sort((function(e,i){var a=j(e,t),r=j(i,t),o=typeof a,s=typeof r;o!==s&&("number"===o&&(a+=""),"number"===s&&(r+=""));var c=0;return null!=a&&null!=r?a>r?c=1:a<r&&(c=-1):null!=a?c=1:null!=r&&(c=-1),c*("asc"===n?1:-1)}))}(t,e.orderBy,e.orderDir)),this.data$.next(t)}},{key:"addFilter",value:function(e,n){this.filters$.next(Object.assign(Object.assign({},this.filters$.value),t({},e,n)))}},{key:"removeFilter",value:function(e){var t=Object.assign({},this.filters$.value);delete t[e],this.filters$.next(t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.filters$.next({}),this.sort$.next({}),this.selectedRows$.next([]),e&&this.staticParams$.next(e)}},{key:"openCrupdateResourceModal",value:function(e,t,n){var i=this;return this.modal.open(e,t,n).beforeClosed().pipe(Object(x.a)((function(e){return!!e})),Object(h.a)((function(){return i.reset()})))}},{key:"confirmResourceDeletion",value:function(e){var t=Object.assign(Object.assign({},C.a),{replacements:{resource:e}});return this.modal.open(O.a,t).afterClosed().pipe(Object(x.a)((function(e){return e})))}},{key:"getCurrentParams",value:function(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.sort$.value),this.filters$.value),this.staticParams$.value),this.paginator.params)}},{key:"destroy",value:function(){var e,t;null===(e=this.paginatorSub)||void 0===e||e.unsubscribe(),null===(t=this.mainSub)||void 0===t||t.unsubscribe()}},{key:"data",get:function(){return this.data$.value},set:function(e){var t=i(e);this.originalData$.next(t),this.data$.next(t),this.ignoreNextParamChange=!0,this.reset()}}]),e}()).\u0275fac=function(e){return new(e||S)(f.Zb(D.a),f.Zb(g.g),f.Zb(v.a),f.Zb(m.a))},S.\u0275prov=f.Lb({token:S,factory:S.\u0275fac}),S)},"3A9y":function(e,t){e.exports=function(e){return this.__data__.has(e)}},"3Fdi":function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},"4/ic":function(e,t,n){var i=n("ZWtO");e.exports=function(e){return function(t){return i(t,e)}}},"44Ds":function(e,t,n){var i=n("e4Nc");function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var i=arguments,a=t?t.apply(this,i):i[0],r=n.cache;if(r.has(a))return r.get(a);var o=e.apply(this,i);return n.cache=r.set(a,o)||r,o};return n.cache=new(a.Cache||i),n}a.Cache=i,e.exports=a},"4kuk":function(e,t,n){var i=n("SfRM"),a=n("Hvzi"),r=n("u8Dt"),o=n("ekgI"),s=n("JSQU");function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=r,c.prototype.has=o,c.prototype.set=s,e.exports=c},"4sDh":function(e,t,n){var i=n("4uTw"),a=n("03A+"),r=n("Z0cm"),o=n("wJg7"),s=n("shjB"),c=n("9Nap");e.exports=function(e,t,n){for(var l=-1,u=(t=i(t,e)).length,d=!1;++l<u;){var p=c(t[l]);if(!(d=null!=e&&n(e,p)))break;e=e[p]}return d||++l!=u?d:!!(u=null==e?0:e.length)&&s(u)&&o(p,u)&&(r(e)||a(e))}},"4uTw":function(e,t,n){var i=n("Z0cm"),a=n("9ggG"),r=n("GNiM"),o=n("dt0z");e.exports=function(e,t){return i(e)?e:a(e,t)?[e]:r(o(e))}},"5Tg0":function(e,t,n){(function(e){var i=n("Kz5y"),a=t&&!t.nodeType&&t,r=a&&"object"==typeof e&&e&&!e.nodeType&&e,o=r&&r.exports===a?i.Buffer:void 0,s=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,i=s?s(n):new e.constructor(n);return e.copy(i),i}}).call(this,n("YuTi")(e))},"5oZ4":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("nPOm"),a=n("0IaG"),r=n("fXoL"),o=n("ZfYz"),c=n("NFeN"),l=n("Rd8u"),u=n("3Pt+"),d=n("ofXK"),p=n("bTqV");function h(e,t){1&e&&r.Rb(0)}var f=function(){var e=function(){function e(t,n){b(this,e),this.data=t,this.overlayPanelRef=n}return s(e,[{key:"close",value:function(){this.overlayPanelRef.close()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Pb(i.a),r.Pb(o.a))},e.\u0275cmp=r.Jb({type:e,selectors:[["datatable-filters-panel"]],hostVars:1,hostBindings:function(e,t){2&e&&r.Hc("@dialogContainer","enter")},decls:9,vars:1,consts:[["svgIcon","filter-list"],["trans",""],[1,"body",3,"ngSubmit"],[4,"ngTemplateOutlet"],["type","button","mat-button","","color","accent","trans","",3,"click"]],template:function(e,t){1&e&&(r.Vb(0,"header"),r.Qb(1,"mat-icon",0),r.Vb(2,"span",1),r.Kc(3,"Filters"),r.Ub(),r.Ub(),r.Vb(4,"form",2),r.cc("ngSubmit",(function(){return t.close()})),r.Ic(5,h,1,0,"ng-container",3),r.Ub(),r.Vb(6,"footer"),r.Vb(7,"button",4),r.cc("click",(function(){return t.close()})),r.Kc(8,"Close"),r.Ub(),r.Ub()),2&e&&(r.Db(5),r.mc("ngTemplateOutlet",t.data.filters))},directives:[c.a,l.a,u.K,u.v,u.w,d.A,p.b],styles:["[_nghost-%COMP%]{display:block;min-width:250px;margin:auto;background-color:var(--be-background);border-radius:4px;box-shadow:0 8px 9px -5px rgba(0,0,0,.2),0 15px 22px 2px rgba(0,0,0,.14),0 6px 28px 5px rgba(0,0,0,.12)}header[_ngcontent-%COMP%]{border-bottom:1px solid var(--be-divider-default);padding:15px 20px;margin-bottom:20px;font-weight:500}header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:5px}.body[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}footer[_ngcontent-%COMP%]{border-top:1px solid var(--be-divider-default);text-align:right;margin-top:10px;padding:10px 20px}"],data:{animation:[a.j.dialogContainer]},changeDetection:0}),e}()},"6JEN":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){c(n,e);var t=u(n);function n(e,i){var a;return b(this,n),(a=t.call(this)).params=e,a.i18n=i,a.errorMessage=a.i18n.t("Only these file types are allowed: :extensions",{extensions:a.params.extensions.join(", ")}),a}return s(n,[{key:"fails",value:function(e){return!this.params.extensions.some((function(t){return t.toLowerCase()===e.extension.toLowerCase()}))}}]),n}(n("1MND").a)},"6SKC":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("4Ait"),a=n("fXoL"),r=function(){var e=function(){function e(){b(this,e)}return s(e,[{key:"transform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return isNaN(parseFloat(String(e)))||!isFinite(e)?"-":Object(i.a)(e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=a.Ob({name:"formattedFileSize",type:e,pure:!0}),e}()},"6sVZ":function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},"711d":function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},"77Zs":function(e,t,n){var i=n("Xi7e");e.exports=function(){this.__data__=new i,this.size=0}},"7GkX":function(e,t,n){var i=n("b80T"),a=n("A90E"),r=n("MMmD");e.exports=function(e){return r(e)?i(e):a(e)}},"7Ix3":function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},"7fqy":function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}},"8iTb":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=new(n("fXoL").s)("WORKSPACE_CONFIG")},"9Nap":function(e,t,n){var i=n("/9aa");e.exports=function(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},"9ggG":function(e,t,n){var i=n("Z0cm"),a=n("/9aa"),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||o.test(e)||!r.test(e)||null!=t&&e in Object(t)}},A5z7:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"b",(function(){return R})),n.d(t,"c",(function(){return F})),n.d(t,"d",(function(){return U})),n.d(t,"e",(function(){return N}));var a=n("FtGj"),r=n("fXoL"),o=n("FKr1"),l=n("8LU1"),d=n("ofXK"),h=n("R1ws"),f=n("XNiG"),g=n("VRyK"),v=n("IzEk"),m=n("1G5W"),y=n("JX91"),k=n("u47x"),w=n("0EQZ"),x=n("kmnG"),_=n("nLfN"),O=n("cH1L"),C=n("3Pt+"),P=["*"],I=new r.s("MatChipRemove"),j=new r.s("MatChipAvatar"),S=new r.s("MatChipTrailingIcon"),D=Object(o.y)(Object(o.u)(Object(o.v)((function e(t){b(this,e),this._elementRef=t})),"primary"),-1),E=function(){var e=function(e){c(n,e);var t=u(n);function n(e,i,a,s,c,l,u,d){var h;return b(this,n),(h=t.call(this,e))._elementRef=e,h._ngZone=i,h._changeDetectorRef=l,h._hasFocus=!1,h.chipListSelectable=!0,h._chipListMultiple=!1,h._chipListDisabled=!1,h._selected=!1,h._selectable=!0,h._disabled=!1,h._removable=!0,h._onFocus=new f.a,h._onBlur=new f.a,h.selectionChange=new r.o,h.destroyed=new r.o,h.removed=new r.o,h._addHostClassName(),h._chipRippleTarget=(d||document).createElement("div"),h._chipRippleTarget.classList.add("mat-chip-ripple"),h._elementRef.nativeElement.appendChild(h._chipRippleTarget),h._chipRipple=new o.r(p(h),i,h._chipRippleTarget,a),h._chipRipple.setupTriggerEvents(e),h.rippleConfig=s||{},h._animationsDisabled="NoopAnimations"===c,h.tabIndex=null!=u&&parseInt(u)||-1,h}return s(n,[{key:"_addHostClassName",value:function(){var e=this._elementRef.nativeElement;e.hasAttribute("mat-basic-chip")||"mat-basic-chip"===e.tagName.toLowerCase()?e.classList.add("mat-basic-chip"):e.classList.add("mat-standard-chip")}},{key:"ngOnDestroy",value:function(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}},{key:"select",value:function(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._markForCheck())}},{key:"deselect",value:function(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._markForCheck())}},{key:"selectViaInteraction",value:function(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._markForCheck())}},{key:"toggleSelected",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._selected=!this.selected,this._dispatchSelectionChange(e),this._markForCheck(),this.selected}},{key:"focus",value:function(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}},{key:"remove",value:function(){this.removable&&this.removed.emit({chip:this})}},{key:"_handleClick",value:function(e){this.disabled?e.preventDefault():e.stopPropagation()}},{key:"_handleKeydown",value:function(e){if(!this.disabled)switch(e.keyCode){case a.c:case a.b:this.remove(),e.preventDefault();break;case a.n:this.selectable&&this.toggleSelected(!0),e.preventDefault()}}},{key:"_blur",value:function(){var e=this;this._ngZone.onStable.pipe(Object(v.a)(1)).subscribe((function(){e._ngZone.run((function(){e._hasFocus=!1,e._onBlur.next({chip:e})}))}))}},{key:"_dispatchSelectionChange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.selectionChange.emit({source:this,isUserInput:e,selected:this._selected})}},{key:"_markForCheck",value:function(){this._changeDetectorRef&&this._changeDetectorRef.markForCheck()}},{key:"rippleDisabled",get:function(){return this.disabled||this.disableRipple||!!this.rippleConfig.disabled}},{key:"selected",get:function(){return this._selected},set:function(e){var t=Object(l.c)(e);t!==this._selected&&(this._selected=t,this._dispatchSelectionChange())}},{key:"value",get:function(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent},set:function(e){this._value=e}},{key:"selectable",get:function(){return this._selectable&&this.chipListSelectable},set:function(e){this._selectable=Object(l.c)(e)}},{key:"disabled",get:function(){return this._chipListDisabled||this._disabled},set:function(e){this._disabled=Object(l.c)(e)}},{key:"removable",get:function(){return this._removable},set:function(e){this._removable=Object(l.c)(e)}},{key:"ariaSelected",get:function(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}}]),n}(D);return e.\u0275fac=function(t){return new(t||e)(r.Pb(r.m),r.Pb(r.B),r.Pb(_.a),r.Pb(o.g,8),r.Pb(h.a,8),r.Pb(r.i),r.ac("tabindex"),r.Pb(d.e,8))},e.\u0275dir=r.Kb({type:e,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(e,t,n){var i;1&e&&(r.Ib(n,j,!0),r.Ib(n,S,!0),r.Ib(n,I,!0)),2&e&&(r.tc(i=r.dc())&&(t.avatar=i.first),r.tc(i=r.dc())&&(t.trailingIcon=i.first),r.tc(i=r.dc())&&(t.removeIcon=i.first))},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(e,t){1&e&&r.cc("click",(function(e){return t._handleClick(e)}))("keydown",(function(e){return t._handleKeydown(e)}))("focus",(function(){return t.focus()}))("blur",(function(){return t._blur()})),2&e&&(r.Eb("tabindex",t.disabled?null:t.tabIndex)("disabled",t.disabled||null)("aria-disabled",t.disabled.toString())("aria-selected",t.ariaSelected),r.Hb("mat-chip-selected",t.selected)("mat-chip-with-avatar",t.avatar)("mat-chip-with-trailing-icon",t.trailingIcon||t.removeIcon)("mat-chip-disabled",t.disabled)("_mat-animation-noopable",t._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[r.Ab]}),e}(),U=function(){var e=function(){function e(t,n){b(this,e),this._parentChip=t,n&&"BUTTON"===n.nativeElement.nodeName&&n.nativeElement.setAttribute("type","button")}return s(e,[{key:"_handleClick",value:function(e){var t=this._parentChip;t.removable&&!t.disabled&&t.remove(),e.stopPropagation()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Pb(E),r.Pb(r.m))},e.\u0275dir=r.Kb({type:e,selectors:[["","matChipRemove",""]],hostAttrs:[1,"mat-chip-remove","mat-chip-trailing-icon"],hostBindings:function(e,t){1&e&&r.cc("click",(function(e){return t._handleClick(e)}))},features:[r.Cb([{provide:I,useExisting:e}])]}),e}(),V=new r.s("mat-chips-default-options"),A=Object(o.x)((function e(t,n,i,a){b(this,e),this._defaultErrorStateMatcher=t,this._parentForm=n,this._parentFormGroup=i,this.ngControl=a})),M=0,T=function e(t,n){b(this,e),this.source=t,this.value=n},F=function(){var e=function(e){c(n,e);var t=u(n);function n(e,i,a,o,s,c,l){var u;return b(this,n),(u=t.call(this,c,o,s,l))._elementRef=e,u._changeDetectorRef=i,u._dir=a,u.ngControl=l,u.controlType="mat-chip-list",u._lastDestroyedChipIndex=null,u._destroyed=new f.a,u._uid="mat-chip-list-"+M++,u._tabIndex=0,u._userTabIndex=null,u._onTouched=function(){},u._onChange=function(){},u._multiple=!1,u._compareWith=function(e,t){return e===t},u._required=!1,u._disabled=!1,u.ariaOrientation="horizontal",u._selectable=!0,u.change=new r.o,u.valueChange=new r.o,u.ngControl&&(u.ngControl.valueAccessor=p(u)),u}return s(n,[{key:"ngAfterContentInit",value:function(){var e=this;this._keyManager=new k.g(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe(Object(m.a)(this._destroyed)).subscribe((function(t){return e._keyManager.withHorizontalOrientation(t)})),this._keyManager.tabOut.pipe(Object(m.a)(this._destroyed)).subscribe((function(){e._allowFocusEscape()})),this.chips.changes.pipe(Object(y.a)(null),Object(m.a)(this._destroyed)).subscribe((function(){e.disabled&&Promise.resolve().then((function(){e._syncChipsState()})),e._resetChips(),e._initializeSelection(),e._updateTabIndex(),e._updateFocusForDestroyedChips(),e.stateChanges.next()}))}},{key:"ngOnInit",value:function(){this._selectionModel=new w.c(this.multiple,void 0,!1),this.stateChanges.next()}},{key:"ngDoCheck",value:function(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}},{key:"registerInput",value:function(e){this._chipInput=e,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",e.id)}},{key:"setDescribedByIds",value:function(e){this._ariaDescribedby=e.join(" ")}},{key:"writeValue",value:function(e){this.chips&&this._setSelectionByValue(e,!1)}},{key:"registerOnChange",value:function(e){this._onChange=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e,this.stateChanges.next()}},{key:"onContainerClick",value:function(e){this._originatesFromChip(e)||this.focus()}},{key:"focus",value:function(e){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(e),this.stateChanges.next()))}},{key:"_focusInput",value:function(e){this._chipInput&&this._chipInput.focus(e)}},{key:"_keydown",value:function(e){var t=e.target;e.keyCode===a.b&&this._isInputEmpty(t)?(this._keyManager.setLastItemActive(),e.preventDefault()):t&&t.classList.contains("mat-chip")&&(this._keyManager.onKeydown(e),this.stateChanges.next())}},{key:"_updateTabIndex",value:function(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}},{key:"_updateFocusForDestroyedChips",value:function(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){var e=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(e)}else this.focus();this._lastDestroyedChipIndex=null}},{key:"_isValidIndex",value:function(e){return e>=0&&e<this.chips.length}},{key:"_isInputEmpty",value:function(e){return!(!e||"input"!==e.nodeName.toLowerCase()||e.value)}},{key:"_setSelectionByValue",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this._clearSelection(),this.chips.forEach((function(e){return e.deselect()})),Array.isArray(e))e.forEach((function(e){return t._selectValue(e,n)})),this._sortValues();else{var i=this._selectValue(e,n);i&&n&&this._keyManager.setActiveItem(i)}}},{key:"_selectValue",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.chips.find((function(n){return null!=n.value&&t._compareWith(n.value,e)}));return i&&(n?i.selectViaInteraction():i.select(),this._selectionModel.select(i)),i}},{key:"_initializeSelection",value:function(){var e=this;Promise.resolve().then((function(){(e.ngControl||e._value)&&(e._setSelectionByValue(e.ngControl?e.ngControl.value:e._value,!1),e.stateChanges.next())}))}},{key:"_clearSelection",value:function(e){this._selectionModel.clear(),this.chips.forEach((function(t){t!==e&&t.deselect()})),this.stateChanges.next()}},{key:"_sortValues",value:function(){var e=this;this._multiple&&(this._selectionModel.clear(),this.chips.forEach((function(t){t.selected&&e._selectionModel.select(t)})),this.stateChanges.next())}},{key:"_propagateChanges",value:function(e){var t;t=Array.isArray(this.selected)?this.selected.map((function(e){return e.value})):this.selected?this.selected.value:e,this._value=t,this.change.emit(new T(this,t)),this.valueChange.emit(t),this._onChange(t),this._changeDetectorRef.markForCheck()}},{key:"_blur",value:function(){var e=this;this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout((function(){e.focused||e._markAsTouched()})):this._markAsTouched())}},{key:"_markAsTouched",value:function(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}},{key:"_allowFocusEscape",value:function(){var e=this;-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout((function(){e._tabIndex=e._userTabIndex||0,e._changeDetectorRef.markForCheck()})))}},{key:"_resetChips",value:function(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}},{key:"_dropSubscriptions",value:function(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}},{key:"_listenToChipsSelection",value:function(){var e=this;this._chipSelectionSubscription=this.chipSelectionChanges.subscribe((function(t){t.source.selected?e._selectionModel.select(t.source):e._selectionModel.deselect(t.source),e.multiple||e.chips.forEach((function(t){!e._selectionModel.isSelected(t)&&t.selected&&t.deselect()})),t.isUserInput&&e._propagateChanges()}))}},{key:"_listenToChipsFocus",value:function(){var e=this;this._chipFocusSubscription=this.chipFocusChanges.subscribe((function(t){var n=e.chips.toArray().indexOf(t.chip);e._isValidIndex(n)&&e._keyManager.updateActiveItem(n),e.stateChanges.next()})),this._chipBlurSubscription=this.chipBlurChanges.subscribe((function(){e._blur(),e.stateChanges.next()}))}},{key:"_listenToChipsRemoved",value:function(){var e=this;this._chipRemoveSubscription=this.chipRemoveChanges.subscribe((function(t){var n=t.chip,i=e.chips.toArray().indexOf(t.chip);e._isValidIndex(i)&&n._hasFocus&&(e._lastDestroyedChipIndex=i)}))}},{key:"_originatesFromChip",value:function(e){for(var t=e.target;t&&t!==this._elementRef.nativeElement;){if(t.classList.contains("mat-chip"))return!0;t=t.parentElement}return!1}},{key:"_hasFocusedChip",value:function(){return this.chips&&this.chips.some((function(e){return e._hasFocus}))}},{key:"_syncChipsState",value:function(){var e=this;this.chips&&this.chips.forEach((function(t){t._chipListDisabled=e._disabled,t._chipListMultiple=e.multiple}))}},{key:"selected",get:function(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}},{key:"role",get:function(){return this.empty?null:"listbox"}},{key:"multiple",get:function(){return this._multiple},set:function(e){this._multiple=Object(l.c)(e),this._syncChipsState()}},{key:"compareWith",get:function(){return this._compareWith},set:function(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}},{key:"value",get:function(){return this._value},set:function(e){this.writeValue(e),this._value=e}},{key:"id",get:function(){return this._chipInput?this._chipInput.id:this._uid}},{key:"required",get:function(){return this._required},set:function(e){this._required=Object(l.c)(e),this.stateChanges.next()}},{key:"placeholder",get:function(){return this._chipInput?this._chipInput.placeholder:this._placeholder},set:function(e){this._placeholder=e,this.stateChanges.next()}},{key:"focused",get:function(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}},{key:"empty",get:function(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}},{key:"shouldLabelFloat",get:function(){return!this.empty||this.focused}},{key:"disabled",get:function(){return this.ngControl?!!this.ngControl.disabled:this._disabled},set:function(e){this._disabled=Object(l.c)(e),this._syncChipsState()}},{key:"selectable",get:function(){return this._selectable},set:function(e){var t=this;this._selectable=Object(l.c)(e),this.chips&&this.chips.forEach((function(e){return e.chipListSelectable=t._selectable}))}},{key:"tabIndex",set:function(e){this._userTabIndex=e,this._tabIndex=e}},{key:"chipSelectionChanges",get:function(){return Object(g.a).apply(void 0,i(this.chips.map((function(e){return e.selectionChange}))))}},{key:"chipFocusChanges",get:function(){return Object(g.a).apply(void 0,i(this.chips.map((function(e){return e._onFocus}))))}},{key:"chipBlurChanges",get:function(){return Object(g.a).apply(void 0,i(this.chips.map((function(e){return e._onBlur}))))}},{key:"chipRemoveChanges",get:function(){return Object(g.a).apply(void 0,i(this.chips.map((function(e){return e.destroyed}))))}}]),n}(A);return e.\u0275fac=function(t){return new(t||e)(r.Pb(r.m),r.Pb(r.i),r.Pb(O.c,8),r.Pb(C.w,8),r.Pb(C.m,8),r.Pb(o.b),r.Pb(C.t,10))},e.\u0275cmp=r.Jb({type:e,selectors:[["mat-chip-list"]],contentQueries:function(e,t,n){var i;1&e&&r.Ib(n,E,!0),2&e&&r.tc(i=r.dc())&&(t.chips=i)},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(e,t){1&e&&r.cc("focus",(function(){return t.focus()}))("blur",(function(){return t._blur()}))("keydown",(function(e){return t._keydown(e)})),2&e&&(r.Yb("id",t._uid),r.Eb("tabindex",t.disabled?null:t._tabIndex)("aria-describedby",t._ariaDescribedby||null)("aria-required",t.role?t.required:null)("aria-disabled",t.disabled.toString())("aria-invalid",t.errorState)("aria-multiselectable",t.multiple)("role",t.role)("aria-orientation",t.ariaOrientation),r.Hb("mat-chip-list-disabled",t.disabled)("mat-chip-list-invalid",t.errorState)("mat-chip-list-required",t.required))},inputs:{ariaOrientation:["aria-orientation","ariaOrientation"],multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",selectable:"selectable",tabIndex:"tabIndex",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[r.Cb([{provide:x.b,useExisting:e}]),r.Ab],ngContentSelectors:P,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(e,t){1&e&&(r.lc(),r.Vb(0,"div",0),r.kc(1),r.Ub())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;transform:translateZ(0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove.mat-icon{width:18px;height:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),e}(),L=0,R=function(){var e=function(){function e(t,n){b(this,e),this._elementRef=t,this._defaultOptions=n,this.focused=!1,this._addOnBlur=!1,this.separatorKeyCodes=this._defaultOptions.separatorKeyCodes,this.chipEnd=new r.o,this.placeholder="",this.id="mat-chip-list-input-"+L++,this._disabled=!1,this._inputElement=this._elementRef.nativeElement}return s(e,[{key:"ngOnChanges",value:function(){this._chipList.stateChanges.next()}},{key:"_keydown",value:function(e){e&&e.keyCode===a.o&&!Object(a.s)(e,"shiftKey")&&this._chipList._allowFocusEscape(),this._emitChipEnd(e)}},{key:"_blur",value:function(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipList.focused||this._chipList._blur(),this._chipList.stateChanges.next()}},{key:"_focus",value:function(){this.focused=!0,this._chipList.stateChanges.next()}},{key:"_emitChipEnd",value:function(e){!this._inputElement.value&&e&&this._chipList._keydown(e),e&&!this._isSeparatorKey(e)||(this.chipEnd.emit({input:this._inputElement,value:this._inputElement.value}),e&&e.preventDefault())}},{key:"_onInput",value:function(){this._chipList.stateChanges.next()}},{key:"focus",value:function(e){this._inputElement.focus(e)}},{key:"_isSeparatorKey",value:function(e){return!Object(a.s)(e)&&new Set(this.separatorKeyCodes).has(e.keyCode)}},{key:"chipList",set:function(e){e&&(this._chipList=e,this._chipList.registerInput(this))}},{key:"addOnBlur",get:function(){return this._addOnBlur},set:function(e){this._addOnBlur=Object(l.c)(e)}},{key:"disabled",get:function(){return this._disabled||this._chipList&&this._chipList.disabled},set:function(e){this._disabled=Object(l.c)(e)}},{key:"empty",get:function(){return!this._inputElement.value}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Pb(r.m),r.Pb(V))},e.\u0275dir=r.Kb({type:e,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-chip-input","mat-input-element"],hostVars:5,hostBindings:function(e,t){1&e&&r.cc("keydown",(function(e){return t._keydown(e)}))("blur",(function(){return t._blur()}))("focus",(function(){return t._focus()}))("input",(function(){return t._onInput()})),2&e&&(r.Yb("id",t.id),r.Eb("disabled",t.disabled||null)("placeholder",t.placeholder||null)("aria-invalid",t._chipList&&t._chipList.ngControl?t._chipList.ngControl.invalid:null)("aria-required",t._chipList&&t._chipList.required||null))},inputs:{separatorKeyCodes:["matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",chipList:["matChipInputFor","chipList"],addOnBlur:["matChipInputAddOnBlur","addOnBlur"],disabled:"disabled"},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],features:[r.Bb]}),e}(),$={separatorKeyCodes:[a.f]},N=function(){var e=function e(){b(this,e)};return e.\u0275mod=r.Nb({type:e}),e.\u0275inj=r.Mb({factory:function(t){return new(t||e)},providers:[o.b,{provide:V,useValue:$}]}),e}()},A90E:function(e,t,n){var i=n("6sVZ"),a=n("V6Ve"),r=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return a(e);var t=[];for(var n in Object(e))r.call(e,n)&&"constructor"!=n&&t.push(n);return t}},AP2z:function(e,t,n){var i=n("nmnc"),a=Object.prototype,r=a.hasOwnProperty,o=a.toString,s=i?i.toStringTag:void 0;e.exports=function(e){var t=r.call(e,s),n=e[s];try{e[s]=void 0;var i=!0}catch(c){}var a=o.call(e);return i&&(t?e[s]=n:delete e[s]),a}},B8du:function(e,t){e.exports=function(){return!1}},BkRI:function(e,t,n){var i=n("OBhP");e.exports=function(e){return i(e,5)}},CH3K:function(e,t){e.exports=function(e,t){for(var n=-1,i=t.length,a=e.length;++n<i;)e[a+n]=t[n];return e}},CMye:function(e,t,n){var i=n("GoyQ");e.exports=function(e){return e==e&&!i(e)}},CZoQ:function(e,t){e.exports=function(e,t,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===t)return i;return-1}},Cwc5:function(e,t,n){var i=n("NKxu"),a=n("Npjl");e.exports=function(e,t){var n=a(e,t);return i(n)?n:void 0}},DSRE:function(e,t,n){(function(e){var i=n("Kz5y"),a=n("B8du"),r=t&&!t.nodeType&&t,o=r&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===r?i.Buffer:void 0;e.exports=(s?s.isBuffer:void 0)||a}).call(this,n("YuTi")(e))},"Dw+G":function(e,t,n){var i=n("juv8"),a=n("mTTR");e.exports=function(e,t){return e&&i(t,a(t),e)}},DzUk:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("fXoL"),a=n("Lm4C"),r=function(){var e=function(){function e(t){b(this,e),this.el=t,this.config={},this.filesSelected=new i.o}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.el.nativeElement.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation(),Object(a.a)(e.config).then((function(t){t&&t.length&&e.filesSelected.emit(t)}))}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Pb(i.m))},e.\u0275dir=i.Kb({type:e,selectors:[["","uploadButton",""]],inputs:{config:["uploadButton","config"]},outputs:{filesSelected:"filesSelected"}}),e}()},E2jh:function(e,t,n){var i,a=n("2gN3"),r=(i=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";e.exports=function(e){return!!r&&r in e}},EAOp:function(e,t,n){"use strict";n.d(t,"a",(function(){return U}));var i=n("fXoL"),a=[{originX:"start",originY:"center",overlayX:"end",overlayY:"center",offsetX:50},{originX:"end",originY:"center",overlayX:"start",overlayY:"center",offsetX:50}],r=n("5oZ4"),o=n("lJxs"),c=n("F96W"),l=n("2hX1"),u=n("dz5c"),d=n("ofXK"),p=n("bv9b"),h=n("bmro"),f=n("A5z7"),g=n("bTqV"),v=n("NFeN"),m=n("zW5C"),y=["tableFilters"],k=["filterButton"];function w(e,t){1&e&&i.Qb(0,"mat-progress-bar",7)}function x(e,t){1&e&&(i.Vb(0,"div",8),i.kc(1),i.Ub())}var _=function(e,t){return{count:e,resource:t}};function O(e,t){if(1&e&&(i.Vb(0,"div",9),i.Kc(1),i.hc(2,"trans"),i.Ub()),2&e){var n=i.gc();i.Db(1),i.Mc(" ",i.jc(2,1,":count :resource selected",i.rc(4,_,n.numberOfRowsSelected,n.pluralResourceName))," ")}}function C(e,t){if(1&e){var n=i.Wb();i.Vb(0,"mat-chip",18),i.cc("removed",(function(){i.xc(n);var e=t.$implicit;return i.gc(3).datatable.removeFilter(e.key)})),i.Kc(1),i.hc(2,"trans"),i.Qb(3,"mat-icon",19),i.Ub()}if(2&e){var a=t.$implicit,r=i.gc(3);i.mc("removable",!0)("selectable",!1),i.Db(1),i.Nc(" ",i.ic(2,4,a.key),": ",r.isModel(a.value)?a.value.name||a.value.display_name:a.value," ")}}function P(e,t){if(1&e){var n=i.Wb();i.Tb(0),i.Vb(1,"mat-chip-list",13),i.Ic(2,C,4,6,"mat-chip",14),i.hc(3,"keyvalue"),i.hc(4,"async"),i.Ub(),i.Vb(5,"button",15,16),i.cc("click",(function(){return i.xc(n),i.gc(2).openFiltersPanel()})),i.Qb(7,"mat-icon",17),i.Ub(),i.Sb()}if(2&e){var a=i.gc(2);i.Db(2),i.mc("ngForOf",i.ic(3,3,i.ic(4,5,a.filters$))),i.Db(3),i.Hb("active",a.filterPanelRef)}}function I(e,t){if(1&e&&(i.Vb(0,"div",10),i.Ic(1,P,8,7,"ng-container",11),i.Qb(2,"datatable-header-search-input",12),i.Ub()),2&e){var n=i.gc();i.Db(1),i.mc("ngIf",n.filterPanelTemplate),i.Db(1),i.oc("placeholder","Search ",n.pluralResourceName,"")}}function j(e,t){1&e&&(i.Vb(0,"div",20),i.kc(1,1),i.Ub())}var S,D=[[["","leftContent",""]],[["","rightContent",""]]],E=["[leftContent]","[rightContent]"],U=((S=function(){function e(t,n,i){b(this,e),this.datatable=t,this.cd=n,this.overlayPanel=i,this.showSelectedActions=!0,this.subscriptions=[],this.filters$=this.datatable.filters$.pipe(Object(o.a)((function(e){var t=Object(c.a)(e);return delete t.query,t})))}return s(e,[{key:"ngOnInit",value:function(){var e=this,t=this.datatable.filters$.subscribe((function(){e.filterPanelRef&&e.filterPanelRef.close()})),n=this.datatable.selectedRows$.subscribe((function(t){e.numberOfRowsSelected=t.length,e.cd.markForCheck()}));this.subscriptions=[t,n]}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"openFiltersPanel",value:function(){var e=this;if(this.filterPanelRef)this.filterPanelRef.close();else{var t=a.slice();t[0].offsetY=40,t[1].offsetY=40,this.filterPanelRef=this.overlayPanel.open(r.a,{origin:this.filterButton,position:t,mobilePosition:"center",data:{filters:this.filterPanelTemplate},maxWidth:"90%"}),this.filterButton.nativeElement.classList.add("active"),this.filterPanelRef.afterClosed().subscribe((function(){e.filterPanelRef=null,e.filterButton.nativeElement.classList.remove("active")}))}}},{key:"isModel",value:function(e){return"object"==typeof e&&e.id}}]),e}()).\u0275fac=function(e){return new(e||S)(i.Pb(l.a),i.Pb(i.i),i.Pb(u.a))},S.\u0275cmp=i.Jb({type:S,selectors:[["datatable-header"]],contentQueries:function(e,t,n){var a;1&e&&i.Ib(n,y,!0),2&e&&i.tc(a=i.dc())&&(t.filterPanelTemplate=a.first)},viewQuery:function(e,t){var n;1&e&&i.Qc(k,!0,i.m),2&e&&i.tc(n=i.dc())&&(t.filterButton=n.first)},hostVars:2,hostBindings:function(e,t){2&e&&i.Hb("rows-selected",t.numberOfRowsSelected)},inputs:{pluralResourceName:"pluralResourceName",showSelectedActions:"showSelectedActions"},ngContentSelectors:E,decls:8,vars:7,consts:[["mode","indeterminate","color","accent",4,"ngIf"],[1,"left-column"],["class","default-left-content",4,"ngIf"],["class","selected-left-content capitalize",4,"ngIf"],[1,"right-column"],["class","default-right-content",4,"ngIf"],["class","selected-right-actions",4,"ngIf"],["mode","indeterminate","color","accent"],[1,"default-left-content"],[1,"selected-left-content","capitalize"],[1,"default-right-content"],[4,"ngIf"],[3,"placeholder"],["aria-label","Active Filters",1,"filter-chip-list"],[3,"removable","selectable","removed",4,"ngFor","ngForOf"],["mat-icon-button","",1,"filter-button",3,"click"],["filterButton",""],["svgIcon","filter-list"],[3,"removable","selectable","removed"],["matChipRemove","","svgIcon","cancel"],[1,"selected-right-actions"]],template:function(e,t){1&e&&(i.lc(D),i.Ic(0,w,1,0,"mat-progress-bar",0),i.hc(1,"async"),i.Vb(2,"div",1),i.Ic(3,x,2,0,"div",2),i.Ic(4,O,3,7,"div",3),i.Ub(),i.Vb(5,"div",4),i.Ic(6,I,3,2,"div",5),i.Ic(7,j,2,0,"div",6),i.Ub()),2&e&&(i.mc("ngIf",i.ic(1,5,t.datatable.paginator&&t.datatable.paginator.loading$)),i.Db(3),i.mc("ngIf",!t.showSelectedActions||!t.numberOfRowsSelected),i.Db(1),i.mc("ngIf",t.showSelectedActions&&t.numberOfRowsSelected),i.Db(2),i.mc("ngIf",!t.showSelectedActions||!t.numberOfRowsSelected),i.Db(1),i.mc("ngIf",t.showSelectedActions&&t.numberOfRowsSelected))},directives:[d.t,p.a,h.a,f.c,d.s,g.b,v.a,f.a,f.d],pipes:[d.b,m.a,d.l],styles:[".rows-selected[_nghost-%COMP%], .rows-selected   [_nghost-%COMP%]{background-color:var(--be-accent-emphasis);color:var(--be-secondary-text);font-size:1.5rem;border-color:var(--be-divider-default)}[_nghost-%COMP%]{display:flex;align-items:center;height:85px;padding:15px;border-bottom:1px solid transparent;position:relative}.mat-progress-bar[_ngcontent-%COMP%]{position:absolute;top:0;left:0}.left-column[_ngcontent-%COMP%]{margin-right:auto}.right-column[_ngcontent-%COMP%]{margin-left:25px}.default-right-content[_ngcontent-%COMP%]{display:flex;align-items:center}.filter-button[_ngcontent-%COMP%]{margin-right:10px}.active[_ngcontent-%COMP%]{color:var(--be-accent-default)}.mat-chip[_ngcontent-%COMP%]{text-transform:capitalize}  datatable-header info-popover{margin-left:10px}"],changeDetection:0}),S)},EEGq:function(e,t,n){var i=n("juv8"),a=n("oCl/");e.exports=function(e,t){return i(e,a(e),t)}},EpBk:function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},ExA7:function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},F96W:function(e,t,n){"use strict";function i(e){var t=Object.assign({},e);return Object.keys(t).forEach((function(e){return(null==t[e]||""===t[e])&&delete t[e]})),t}n.d(t,"a",(function(){return i}))},G6z8:function(e,t,n){var i=n("fR/l"),a=n("oCl/"),r=n("mTTR");e.exports=function(e){return i(e,r,a)}},GDhZ:function(e,t,n){var i=n("wF/u"),a=n("mwIZ"),r=n("hgQt"),o=n("9ggG"),s=n("CMye"),c=n("IOzZ"),l=n("9Nap");e.exports=function(e,t){return o(e)&&s(t)?c(l(e),t):function(n){var o=a(n,e);return void 0===o&&o===t?r(n,e):i(t,o,3)}}},GNiM:function(e,t,n){var i=n("I01J"),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,o=i((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,(function(e,n,i,a){t.push(i?a.replace(r,"$1"):n||e)})),t}));e.exports=o},GSRO:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("ofXK"),a=n("bTqV"),r=n("NFeN"),o=n("bv9b"),s=n("fXoL"),c=function(){var e=function e(){b(this,e)};return e.\u0275mod=s.Nb({type:e}),e.\u0275inj=s.Mb({factory:function(t){return new(t||e)},imports:[[i.c,a.c,o.b,r.b]]}),e}()},Gi0A:function(e,t,n){var i=n("QqLw"),a=n("ExA7");e.exports=function(e){return a(e)&&"[object Map]"==i(e)}},GoyQ:function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},H8j4:function(e,t,n){var i=n("QkVE");e.exports=function(e,t){var n=i(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},HDyB:function(e,t,n){var i=n("nmnc"),a=n("JHRd"),r=n("ljhN"),o=n("or5M"),s=n("7fqy"),c=n("rEGp"),l=i?i.prototype:void 0,u=l?l.valueOf:void 0;e.exports=function(e,t,n,i,l,d,p){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return r(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":if(h||(h=c),e.size!=t.size&&!(1&i))return!1;var b=p.get(e);if(b)return b==t;i|=2,p.set(e,t);var f=o(h(e),h(t),i,l,d,p);return p.delete(e),f;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},HOxn:function(e,t,n){var i=n("Cwc5")(n("Kz5y"),"Promise");e.exports=i},Hvzi:function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},I01J:function(e,t,n){var i=n("44Ds");e.exports=function(e){var t=i(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},I3oe:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var a=n("3Pt+"),r=n("2Vo4"),o=n("LRne"),c=n("Kj3r"),l=n("/uUt"),u=n("eIep"),d=n("JIr8"),p=n("fXoL"),h=n("A5z7"),f=n("ofXK"),g=n("/1cH"),v=n("NFeN"),m=n("FKr1"),y=n("zW5C"),k=["auto"],w=["inputEl"],x=["selectModeTemplate"];function _(e,t){if(1&e){var n=p.Wb();p.Vb(0,"mat-chip",8),p.cc("removed",(function(){p.xc(n);var e=t.index;return p.gc().remove(e)})),p.Kc(1),p.Qb(2,"mat-icon",9),p.Ub()}if(2&e){var i=t.$implicit,a=p.gc();p.mc("selectable",!1)("removable",!a.selectMode),p.Db(1),p.Mc(" ",a.displayChipValue(i)," ")}}var O=function(e){return{elementRef:e}};function C(e,t){if(1&e){var n=p.Wb();p.Vb(0,"input",10,11),p.cc("matChipInputTokenEnd",(function(e){return p.xc(n),p.gc().addFromChipInput(e.value)})),p.hc(2,"trans"),p.Ub()}if(2&e){var i=p.gc(),a=p.uc(1),r=p.uc(6);p.mc("placeholder",p.ic(2,7,i.placeholder))("type",i.type)("matChipInputFor",a)("matChipInputAddOnBlur",!0)("matAutocomplete",r)("matAutocompleteConnectedTo",p.qc(9,O,i.el))("formControl",i.formControl)}}function P(e,t){if(1&e&&(p.Vb(0,"mat-option",12),p.Kc(1),p.Ub()),2&e){var n=t.$implicit,i=p.gc();p.mc("value",n),p.Db(1),p.Lc(i.displayChipValue(n))}}function I(e,t){if(1&e&&(p.Vb(0,"mat-option",12),p.Kc(1),p.Ub()),2&e){var n=t.$implicit,i=p.gc(2);p.mc("value",n),p.Db(1),p.Lc(i.displayChipValue(n))}}function j(e,t){1&e&&p.Ic(0,I,2,2,"mat-option",6),2&e&&p.mc("ngForOf",t.suggestions)}var S=function(){var e=function(){function e(t){b(this,e),this.el=t,this.type="text",this.emailsInput=!1,this.selectMode=!1,this.formControl=new a.i,this.items$=new r.a([]),this.suggestedValues$=new r.a([])}return s(e,[{key:"ngOnInit",value:function(){this.suggestFn&&this.bindToSearchControl()}},{key:"ngAfterViewInit",value:function(){this.emailsInput&&this.parseEmailsOnPaste()}},{key:"remove",value:function(e){var t=i(this.items$.value);t.splice(e,1),this.items$.next(t),this.propagateChange(this.items$.value)}},{key:"addFromChipInput",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!e||this.matAutocomplete.isOpen||this.selectMode||this.add(e,t)}},{key:"addFromAutocomplete",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.add(e,t)}},{key:"add",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e="string"==typeof e?e.trim():e;var n=this.findValueIndex(e)>-1;e&&!n&&(this.items$.next([].concat(i(this.items$.value),[e])),t&&this.propagateChange(this.items$.value)),this.inputEl&&(this.inputEl.nativeElement.value=""),this.formControl.setValue(null),this.suggestedValues$.next([])}},{key:"findValueIndex",value:function(e){return"string"==typeof e?this.items$.value.indexOf(e):this.items$.value.findIndex((function(t){return t.id===e.id}))}},{key:"writeValue",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(t&&t.length)t.forEach((function(t){return e.add(t,!1)}));else if(this.items$.value.length)for(;0!==this.items$.value.length;)this.remove(0)}},{key:"registerOnChange",value:function(e){this.propagateChange=e}},{key:"registerOnTouched",value:function(){}},{key:"bindToSearchControl",value:function(){var e=this;this.formControl.valueChanges.pipe(Object(c.a)(150),Object(l.a)(),Object(u.a)((function(t){return t?e.suggestFn(t):Object(o.a)([])})),Object(d.a)((function(){return Object(o.a)([])}))).subscribe((function(t){var n=t.filter((function(t){return-1===e.findValueIndex(t)}));e.suggestedValues$.next(n)}))}},{key:"displayChipValue",value:function(e){return"object"==typeof e?e.name:e}},{key:"parseEmailsOnPaste",value:function(){var e=this;this.inputEl.nativeElement.addEventListener("paste",(function(t){var n=(t.clipboardData||window.clipboardData).getData("text").match(/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi);if(n){t.preventDefault();var i=window.getSelection();i.rangeCount&&(i.deleteFromDocument(),n.forEach((function(t){return e.add(t)})))}}))}},{key:"suggestedValues",set:function(e){this.suggestedValues$.next(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(p.Pb(p.m))},e.\u0275cmp=p.Jb({type:e,selectors:[["chip-input"]],viewQuery:function(e,t){var n;1&e&&(p.Qc(k,!0),p.Qc(w,!0),p.Qc(x,!0)),2&e&&(p.tc(n=p.dc())&&(t.matAutocomplete=n.first),p.tc(n=p.dc())&&(t.inputEl=n.first),p.tc(n=p.dc())&&(t.selectModeTemplate=n.first))},hostVars:2,hostBindings:function(e,t){2&e&&p.Hb("select-mode",t.selectMode)},inputs:{placeholder:"placeholder",type:"type",emailsInput:"emailsInput",suggestFn:"suggestFn",selectMode:"selectMode",suggestedValues:"suggestedValues"},features:[p.Cb([{provide:a.s,useExisting:e,multi:!0}])],decls:11,vars:9,consts:[[3,"selectable"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["class","mat-chip-input mat-input-element",3,"placeholder","type","matChipInputFor","matChipInputAddOnBlur","matAutocomplete","matAutocompleteConnectedTo","formControl","matChipInputTokenEnd",4,"ngIf"],[1,"chip-input-autocomplete-panel",3,"autoActiveFirstOption","optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["selectModeTemplate",""],[3,"selectable","removable","removed"],["matChipRemove","","svgIcon","cancel"],[1,"mat-chip-input","mat-input-element",3,"placeholder","type","matChipInputFor","matChipInputAddOnBlur","matAutocomplete","matAutocompleteConnectedTo","formControl","matChipInputTokenEnd"],["inputEl",""],[3,"value"]],template:function(e,t){1&e&&(p.Vb(0,"mat-chip-list",0,1),p.Ic(2,_,3,3,"mat-chip",2),p.hc(3,"async"),p.Ic(4,C,3,11,"input",3),p.Ub(),p.Vb(5,"mat-autocomplete",4,5),p.cc("optionSelected",(function(e){return t.addFromAutocomplete(e.option.value)})),p.Ic(7,P,2,2,"mat-option",6),p.hc(8,"async"),p.Ub(),p.Ic(9,j,1,1,"ng-template",null,7,p.Jc)),2&e&&(p.mc("selectable",!1),p.Db(2),p.mc("ngForOf",p.ic(3,5,t.items$)),p.Db(2),p.mc("ngIf",!t.selectMode),p.Db(1),p.mc("autoActiveFirstOption",!0),p.Db(2),p.mc("ngForOf",p.ic(8,7,t.suggestedValues$)))},directives:[h.c,f.s,f.t,g.a,h.a,v.a,h.d,h.b,g.d,a.d,a.u,a.j,m.k],pipes:[f.b,y.a],styles:["chip-input{display:block;min-height:46px}chip-input .mat-chip-list-wrapper{width:100%;height:100%;color:inherit;border:1px solid var(--be-divider-default);padding:6px;line-height:normal;font-size:1.4rem;font-family:inherit;background-color:inherit;box-sizing:border-box;border-radius:2px;margin:0}chip-input .mat-chip-input{height:24px;font:inherit;background:0 0;color:currentColor;border:none;outline:0;padding:0;margin:0;width:0;max-width:100%;vertical-align:bottom;text-align:inherit}chip-input .mat-chip-input:focus{outline:none;box-shadow:none}.chip-input-select-panel{background-color:var(--be-background);min-width:180px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}"],encapsulation:2,changeDetection:0}),e}()},IOzZ:function(e,t){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},Ivca:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n("fXoL"),a=n("2hX1"),r=n("bSwM"),o=["table-header-checkbox",""],c=function(){var e=function(){function e(t,n){b(this,e),this.datatable=t,this.cd=n}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.changeRef=this.datatable.selectedRows$.subscribe((function(){e.cd.markForCheck()}))}},{key:"ngOnDestroy",value:function(){this.changeRef.unsubscribe()}},{key:"anyRowsSelected",value:function(){return!!this.datatable.selectedRows$.value.length}},{key:"allRowsSelected",value:function(){var e;return this.datatable.selectedRows$.value.length&&this.datatable.selectedRows$.value.length===(null===(e=this.datatable.data$.value)||void 0===e?void 0:e.length)}},{key:"toggleAllRows",value:function(){this.allRowsSelected()?this.datatable.selectedRows$.next([]):this.datatable.selectedRows$.next(this.datatable.data$.value.map((function(e){return e.id})))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Pb(a.a),i.Pb(i.i))},e.\u0275cmp=i.Jb({type:e,selectors:[["","table-header-checkbox",""]],hostAttrs:[1,"table-checkbox"],attrs:o,decls:1,vars:2,consts:[[3,"checked","indeterminate","change"]],template:function(e,t){1&e&&(i.Vb(0,"mat-checkbox",0),i.cc("change",(function(e){return e?t.toggleAllRows():null})),i.Ub()),2&e&&i.mc("checked",t.allRowsSelected())("indeterminate",t.anyRowsSelected()&&!t.allRowsSelected())},directives:[r.a],encapsulation:2,changeDetection:0}),e}()},JHRd:function(e,t,n){var i=n("Kz5y");e.exports=i.Uint8Array},JHgL:function(e,t,n){var i=n("QkVE");e.exports=function(e){return i(this,e).get(e)}},JSQU:function(e,t,n){var i=n("YESw");e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?"__lodash_hash_undefined__":t,this}},JTzB:function(e,t,n){var i=n("NykK"),a=n("ExA7");e.exports=function(e){return a(e)&&"[object Arguments]"==i(e)}},Juji:function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},JxJJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("fXoL"),a=n("L317"),r=function(){var e=function(){function e(t){b(this,e),this.theme=t,this.animation="wave",this.variant="text",this.dark=this.theme.isDarkMode()}return s(e,[{key:"pulsate",get:function(){return"pulsate"===this.animation}},{key:"wave",get:function(){return"wave"===this.animation}},{key:"avatar",get:function(){return"avatar"===this.variant}},{key:"text",get:function(){return"text"===this.variant}},{key:"rect",get:function(){return"rect"===this.variant}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Pb(a.a))},e.\u0275cmp=i.Jb({type:e,selectors:[["skeleton"]],hostAttrs:["aria-busy","true","aria-valuemin","0","aria-valuemax","100","aria-valuetext","Loading...","role","progressbar"],hostVars:12,hostBindings:function(e,t){2&e&&i.Hb("dark",t.dark)("pulsate",t.pulsate)("wave",t.wave)("avatar",t.avatar)("text",t.text)("rect",t.rect)},inputs:{animation:"animation",variant:"variant"},decls:0,vars:0,template:function(e,t){},styles:['@charset "UTF-8";[_nghost-%COMP%]{display:inline-block;overflow:hidden;position:relative;background-color:var(--be-divider-lighter);background-repeat:no-repeat;border-radius:4px;width:100%;height:100%;will-change:transform}.wave[_nghost-%COMP%]{-webkit-animation:wave 2s ease-in-out infinite;animation:wave 2s ease-in-out infinite;background-size:200px 100%;background-image:linear-gradient(90deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.6),hsla(0,0%,100%,0))}.wave.dark[_nghost-%COMP%]{background-image:linear-gradient(90deg,transparent,rgba(0,0,0,.2),transparent)}.pulsate[_nghost-%COMP%]{-webkit-animation:pulse 1.5s ease-in-out infinite;animation:pulse 1.5s ease-in-out infinite;-webkit-animation-delay:.5s;animation-delay:.5s}.avatar[_nghost-%COMP%]{width:40px;height:40px;margin-right:10px;border-radius:4px;flex-shrink:0}.circle[_nghost-%COMP%]{border-radius:50%}.text[_nghost-%COMP%]{height:1.4rem;vertical-align:middle}.text[_nghost-%COMP%]:before{content:"\xa0"}@-webkit-keyframes wave{0%{background-position:-200px 0}to{background-position:calc(200px + 100%) 0}}@keyframes wave{0%{background-position:-200px 0}to{background-position:calc(200px + 100%) 0}}@-webkit-keyframes pulse{0%{opacity:1}50%{opacity:.4}to{opacity:1}}@keyframes pulse{0%{opacity:1}50%{opacity:.4}to{opacity:1}}'],changeDetection:0}),e}()},KMkd:function(e,t){e.exports=function(){this.__data__=[],this.size=0}},KfNM:function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},KwMD:function(e,t){e.exports=function(e,t,n,i){for(var a=e.length,r=n+(i?1:-1);i?r--:++r<a;)if(t(e[r],r,e))return r;return-1}},Kz5y:function(e,t,n){var i=n("WFqU"),a="object"==typeof self&&self&&self.Object===Object&&self,r=i||a||Function("return this")();e.exports=r},L8xA:function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},LGYb:function(e,t,n){var i=n("1hJj"),a=n("jbM+"),r=n("Xt/L"),o=n("xYSL"),s=n("dQpi"),c=n("rEGp");e.exports=function(e,t,n){var l=-1,u=a,d=e.length,p=!0,h=[],b=h;if(n)p=!1,u=r;else if(d>=200){var f=t?null:s(e);if(f)return c(f);p=!1,u=o,b=new i}else b=t?[]:h;e:for(;++l<d;){var g=e[l],v=t?t(g):g;if(g=n||0!==g?g:0,p&&v==v){for(var m=b.length;m--;)if(b[m]===v)continue e;t&&b.push(v),h.push(g)}else u(b,v,n)||(b!==h&&b.push(v),h.push(g))}return h}},LXxW:function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,a=0,r=[];++n<i;){var o=e[n];t(o,n,e)&&(r[a++]=o)}return r}},LcsW:function(e,t,n){var i=n("kekF")(Object.getPrototypeOf,Object);e.exports=i},MMmD:function(e,t,n){var i=n("lSCD"),a=n("shjB");e.exports=function(e){return null!=e&&a(e.length)&&!i(e)}},MrPd:function(e,t,n){var i=n("hypo"),a=n("ljhN"),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var o=e[t];r.call(e,t)&&a(o,n)&&(void 0!==n||t in e)||i(e,t,n)}},MvSz:function(e,t,n){var i=n("LXxW"),a=n("0ycA"),r=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols;e.exports=o?function(e){return null==e?[]:(e=Object(e),i(o(e),(function(t){return r.call(e,t)})))}:a},NKxu:function(e,t,n){var i=n("lSCD"),a=n("E2jh"),r=n("GoyQ"),o=n("3Fdi"),s=/^\[object .+?Constructor\]$/,c=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!r(e)||a(e))&&(i(e)?c:s).test(o(e))}},"Nk+Q":function(e,t,n){"use strict";function i(e,t){return e in t}n.d(t,"a",(function(){return i}))},Npjl:function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},NykK:function(e,t,n){var i=n("nmnc"),a=n("AP2z"),r=n("KfNM"),o=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?a(e):r(e)}},O0oS:function(e,t,n){var i=n("Cwc5"),a=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=a},O7RO:function(e,t,n){var i=n("CMye"),a=n("7GkX");e.exports=function(e){for(var t=a(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,i(o)]}return t}},OBhP:function(e,t,n){var i=n("fmRc"),a=n("gFfm"),r=n("MrPd"),o=n("WwFo"),s=n("Dw+G"),c=n("5Tg0"),l=n("Q1l4"),u=n("VOtZ"),d=n("EEGq"),p=n("qZTm"),h=n("G6z8"),b=n("QqLw"),f=n("yHx3"),g=n("wrZu"),v=n("+iFO"),m=n("Z0cm"),y=n("DSRE"),k=n("zEVN"),w=n("GoyQ"),x=n("1+5i"),_=n("7GkX"),O=n("mTTR"),C={};C["[object Arguments]"]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object DataView]"]=C["[object Boolean]"]=C["[object Date]"]=C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Map]"]=C["[object Number]"]=C["[object Object]"]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object Symbol]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C["[object Error]"]=C["[object Function]"]=C["[object WeakMap]"]=!1,e.exports=function e(t,n,P,I,j,S){var D,E=1&n,U=2&n,V=4&n;if(P&&(D=j?P(t,I,j,S):P(t)),void 0!==D)return D;if(!w(t))return t;var A=m(t);if(A){if(D=f(t),!E)return l(t,D)}else{var M=b(t),T="[object Function]"==M||"[object GeneratorFunction]"==M;if(y(t))return c(t,E);if("[object Object]"==M||"[object Arguments]"==M||T&&!j){if(D=U||T?{}:v(t),!E)return U?d(t,s(D,t)):u(t,o(D,t))}else{if(!C[M])return j?t:{};D=g(t,M,E)}}S||(S=new i);var F=S.get(t);if(F)return F;S.set(t,D),x(t)?t.forEach((function(i){D.add(e(i,n,P,i,t,S))})):k(t)&&t.forEach((function(i,a){D.set(a,e(i,n,P,a,t,S))}));var L=A?void 0:(V?U?h:p:U?O:_)(t);return a(L||t,(function(i,a){L&&(i=t[a=i]),r(D,a,e(i,n,P,a,t,S))})),D}},"Of+w":function(e,t,n){var i=n("Cwc5")(n("Kz5y"),"WeakMap");e.exports=i},PUEP:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){c(n,e);var t=u(n);function n(e,i){var a;return b(this,n),(a=t.call(this)).params=e,a.i18n=i,a.errorMessage=a.i18n.t("These file types are not allowed: :extensions",{extensions:a.params.extensions.join(", ")}),a}return s(n,[{key:"fails",value:function(e){return this.params.extensions.some((function(t){return t===e.extension}))}}]),n}(n("1MND").a)},Q1l4:function(e,t){e.exports=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}},QcOe:function(e,t,n){var i=n("GoyQ"),a=n("6sVZ"),r=n("7Ix3"),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return r(e);var t=a(e),n=[];for(var s in e)("constructor"!=s||!t&&o.call(e,s))&&n.push(s);return n}},QkVE:function(e,t,n){var i=n("EpBk");e.exports=function(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}},QoRX:function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}},QqLw:function(e,t,n){var i=n("tadb"),a=n("ebwN"),r=n("HOxn"),o=n("yGk4"),s=n("Of+w"),c=n("NykK"),l=n("3Fdi"),u=l(i),d=l(a),p=l(r),h=l(o),b=l(s),f=c;(i&&"[object DataView]"!=f(new i(new ArrayBuffer(1)))||a&&"[object Map]"!=f(new a)||r&&"[object Promise]"!=f(r.resolve())||o&&"[object Set]"!=f(new o)||s&&"[object WeakMap]"!=f(new s))&&(f=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,i=n?l(n):"";if(i)switch(i){case u:return"[object DataView]";case d:return"[object Map]";case p:return"[object Promise]";case h:return"[object Set]";case b:return"[object WeakMap]"}return t}),e.exports=f},"R/W3":function(e,t,n){var i=n("KwMD"),a=n("2ajD"),r=n("CZoQ");e.exports=function(e,t,n){return t==t?r(e,t,n):i(e,a,n)}},SfRM:function(e,t,n){var i=n("YESw");e.exports=function(){this.__data__=i?i(null):{},this.size=0}},Sn2F:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("fXoL"),a=n("ofXK");function r(e,t){if(1&e&&(i.Tb(0),i.Qb(1,"img",1),i.Vb(2,"div",2),i.Vb(3,"div"),i.Kc(4),i.Ub(),i.Vb(5,"div",3),i.Kc(6),i.Ub(),i.Ub(),i.Sb()),2&e){var n=i.gc();i.Db(1),i.mc("src",n.user.avatar,i.Ac),i.Db(3),i.Lc(n.user.display_name),i.Db(2),i.Lc(n.user.email)}}var o=function(){var e=function e(){b(this,e),this.showEmail=!1};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Jb({type:e,selectors:[["user-column"]],hostAttrs:[1,"column-with-image"],inputs:{user:"user",showEmail:"showEmail"},decls:1,vars:1,consts:[[4,"ngIf"],["alt","",3,"src"],[1,"content"],[1,"email","secondary"]],template:function(e,t){1&e&&i.Ic(0,r,7,3,"ng-container",0),2&e&&i.mc("ngIf",t.user)},directives:[a.t],styles:[""],changeDetection:0}),e}()},"UNi/":function(e,t){e.exports=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}},Um6Z:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("pLZG"),a=n("FtGj"),r=n("WAq7"),o=n("fXoL"),c=n("2hX1"),l=n("u47x"),u=n("ofXK"),d=n("NFeN"),p=["columnName"],h=["table-sort-header",""],f=["*"],g=function(){var e=function(){function e(t,n,i,a){b(this,e),this.datable=t,this.cd=n,this.focusMonitor=i,this.el=a,this.orderDir=null,this.arrowVisible=!1,this.arrowDirection="down"}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.orderBy||(this.orderBy=Object(r.a)(this.columnName.nativeElement.textContent,"_")),this.sortSub=this.datable.sort$.pipe(Object(i.a)((function(t){return t.orderBy!==e.orderBy}))).subscribe((function(){e.orderDir=null,e.onMouseLeave(),e.cd.markForCheck()}))}},{key:"ngAfterViewInit",value:function(){this.focusMonitor.monitor(this.el).subscribe()}},{key:"ngOnDestroy",value:function(){this.sortSub.unsubscribe(),this.focusMonitor.stopMonitoring(this.el)}},{key:"changeSort",value:function(){this.datable.sort$.next({orderBy:this.orderBy,orderDir:this.getDirection(this.orderDir)})}},{key:"getDirection",value:function(e){switch(e){case"asc":return this.arrowVisible=!1,this.orderDir=null;case"desc":return this.arrowVisible=!0,this.arrowDirection="up",this.orderDir="asc";default:return this.arrowVisible=!0,this.arrowDirection="down",this.orderDir="desc"}}},{key:"onMouseEnter",value:function(){var e;(null===(e=this.datable.config)||void 0===e?void 0:e.disableSort)||(this.arrowVisible=!0)}},{key:"onMouseLeave",value:function(){this.arrowVisible=!1,this.orderDir||(this.arrowDirection="down")}},{key:"handleClick",value:function(){var e;(null===(e=this.datable.config)||void 0===e?void 0:e.disableSort)||this.changeSort()}},{key:"handleKeydown",value:function(e){var t;(null===(t=this.datable.config)||void 0===t?void 0:t.disableSort)||e.keyCode!==a.n&&e.keyCode!==a.f||(e.preventDefault(),this.changeSort())}},{key:"sortDisabled",get:function(){var e;return null===(e=this.datable.config)||void 0===e?void 0:e.disableSort}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Pb(c.a),o.Pb(o.i),o.Pb(l.h),o.Pb(o.m))},e.\u0275cmp=o.Jb({type:e,selectors:[["","table-sort-header",""]],viewQuery:function(e,t){var n;1&e&&o.Ec(p,!0),2&e&&o.tc(n=o.dc())&&(t.columnName=n.first)},hostAttrs:["tabindex","0"],hostVars:4,hostBindings:function(e,t){1&e&&o.cc("click",(function(){return t.handleClick()}))("keydown",(function(e){return t.handleKeydown(e)}))("mouseenter",(function(){return t.onMouseEnter()}))("mouseleave",(function(){return t.onMouseLeave()})),2&e&&o.Hb("active",t.orderDir)("sort-disabled",t.sortDisabled)},inputs:{orderBy:["table-sort-header","orderBy"]},attrs:h,ngContentSelectors:f,decls:5,vars:3,consts:[[1,"text"],["columnName",""],[1,"icon-wrapper",3,"ngClass"],["svgIcon","arrow-downward",1,"sort-icon"]],template:function(e,t){1&e&&(o.lc(),o.Vb(0,"span",0,1),o.kc(2),o.Ub(),o.Vb(3,"span",2),o.Qb(4,"mat-icon",3),o.Ub()),2&e&&(o.Db(3),o.mc("ngClass",t.arrowDirection),o.Db(1),o.Hb("hint-visible",t.arrowVisible))},directives:[u.q,d.a],styles:["[_nghost-%COMP%]{outline:none}[_nghost-%COMP%]:not(.sort-disabled){cursor:pointer}.active[_nghost-%COMP%]   .sort-icon[_ngcontent-%COMP%]{color:var(--be-text);opacity:1;transform:translate(0)}.cdk-keyboard-focused[_nghost-%COMP%]   .text[_ngcontent-%COMP%]{border-bottom:1px solid}.text[_ngcontent-%COMP%]{display:inline-block}.sort-icon[_ngcontent-%COMP%], .text[_ngcontent-%COMP%]{vertical-align:middle}.sort-icon[_ngcontent-%COMP%]{width:15px;height:15px;transition:all 225ms cubic-bezier(.4,0,.2,1);transform:translateY(25%);opacity:0}.icon-wrapper[_ngcontent-%COMP%]{display:inline-block;margin-left:4px;transition:transform 225ms cubic-bezier(.4,0,.2,1)}.icon-wrapper[_ngcontent-%COMP%]:not(.down){transform:rotate(180deg)}.hint-visible[_ngcontent-%COMP%]{opacity:1;transform:translate(0)}"],changeDetection:0}),e}()},V6Ve:function(e,t,n){var i=n("kekF")(Object.keys,Object);e.exports=i},VOtZ:function(e,t,n){var i=n("juv8"),a=n("MvSz");e.exports=function(e,t){return i(e,a(e),t)}},VaNO:function(e,t){e.exports=function(e){return this.__data__.has(e)}},VxIU:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a,r=n("vkgz"),o=n("pLZG"),c=n("2Vo4"),l=n("Nk+Q"),u=n("VfAk"),d=n("fXoL"),p=n("LRXf"),h=n("twBr"),f=n("KFqD"),g=n("f+iI"),v=n("i2dy"),m={name:"Default",default:!0,id:null},y=((a=function(){function e(t,n,i,a,r){b(this,e),this.http=t,this.currentUser=n,this.cookie=i,this.notifications=a,this.toast=r,this.available$=new c.a([m]),this.activeId$=new c.a(this.getIdFromCookie()),this.activeWorkspace$=new c.a(this.getIdFromCookie()?null:m)}return s(e,[{key:"currentUserCan",value:function(e){var t,n=null===(t=this.activeWorkspace$.value)||void 0===t?void 0:t.currentUser;return n&&(n.is_owner||n.permissions.findIndex((function(t){return t.name===e}))>-1)}},{key:"select",value:function(e){var t=this;e!==this.activeId$.value&&(this.cookie.set(this.cookieName(),e),this.activeId$.next(e));var n=this.available$.value.find((function(e){return e.id===t.activeId$.value}));this.activeWorkspace$.next(n||this.available$.value[0])}},{key:"pushAndSelect",value:function(e){this.available$.next([].concat(i(this.available$.value),[e])),this.select(e.id)}},{key:"replace",value:function(e){var t=i(this.available$.value),n=t.findIndex((function(t){return t.id===e.id}));n&&(t[n]=e),this.available$.next(t)}},{key:"remove",value:function(e){var t=i(this.available$.value);e.forEach((function(e){var n=t.findIndex((function(t){return t.id===e}));n&&t.splice(n,1)})),this.available$.next(t),e.includes(this.activeId$.value)&&this.select(null)}},{key:"index",value:function(t){var n=this;return this.http.get(""+e.BASE_URI,t).pipe(Object(r.a)((function(e){n.available$.next([].concat(i(n.available$.value),i(e.pagination.data))),n.select(n.activeId$.value)})))}},{key:"get",value:function(t){return this.http.get("".concat(e.BASE_URI,"/").concat(t))}},{key:"delete",value:function(t){var n=this;return this.http.delete("".concat(e.BASE_URI,"/").concat(t)).pipe(Object(r.a)((function(){n.remove(t)})))}},{key:"create",value:function(t){var n=this;return this.http.post(""+e.BASE_URI,t).pipe(Object(r.a)((function(e){return n.pushAndSelect(e.workspace)})))}},{key:"update",value:function(t,n){var i=this;return this.http.put("".concat(e.BASE_URI,"/").concat(t),n).pipe(Object(r.a)((function(e){return i.replace(e.workspace)})))}},{key:"invitePeople",value:function(t,n){return this.http.post("".concat(e.BASE_URI,"/").concat(t,"/invite"),n)}},{key:"resendInvite",value:function(t,n){return this.http.post("".concat(e.BASE_URI,"/").concat(t,"/").concat(n,"/resend"))}},{key:"deleteMember",value:function(t,n){var i=this;return this.http.delete("".concat(e.BASE_URI,"/").concat(t,"/member/").concat(n)).pipe(Object(r.a)((function(){n===i.currentUser.get("id")&&i.remove([t])})))}},{key:"deleteInvite",value:function(t){return this.http.delete("".concat(e.BASE_URI,"/invite/").concat(t))}},{key:"changeRole",value:function(t,n,i){var a=Object(l.a)("member_id",n)?n.member_id:n.id;return this.http.post("".concat(e.BASE_URI,"/").concat(t,"/").concat(n.model_type,"/").concat(a,"/change-role"),{roleId:i})}},{key:"join",value:function(e){return this.http.get("workspace/join/"+e)}},{key:"bindToNotificationClick",value:function(){var e=this;return this.notifications.clickedOnNotification$.pipe(Object(o.a)((function(e){return"Common\\Workspaces\\Notifications\\WorkspaceInvitation"===e.notification.type}))).subscribe((function(t){var n=t.notification.data.inviteId;"join"===t.action.action?e.join(n).subscribe((function(n){e.notifications.delete([t.notification]).subscribe(),e.pushAndSelect(n.workspace),e.toast.open("Joined workspace.")}),(function(n){e.handleWorkspaceInviteClickError(n,t.notification)})):"decline"===t.action.action&&e.deleteInvite(n).subscribe((function(){e.notifications.delete([t.notification]).subscribe(),e.toast.open("Declined workspace invite.")}),(function(n){e.handleWorkspaceInviteClickError(n,t.notification)}))}))}},{key:"handleWorkspaceInviteClickError",value:function(e,t){404===e.status?(this.notifications.delete([t]).subscribe(),this.toast.open("That invite is no longer valid.")):this.toast.open(u.a.Default)}},{key:"getIdFromCookie",value:function(){var e=this.cookie.get(this.cookieName());return"string"==typeof e?parseInt(e):e}},{key:"cookieName",value:function(){return this.currentUser.get("id")+"_activeWorkspace"}}]),e}()).BASE_URI="workspace",a.\u0275fac=function(e){return new(e||a)(d.Zb(p.a),d.Zb(h.a),d.Zb(f.a),d.Zb(g.a),d.Zb(v.b))},a.\u0275prov=d.Lb({token:a,factory:a.\u0275fac,providedIn:"root"}),a)},WFqU:function(e,t){var n="object"==typeof global&&global&&global.Object===Object&&global;e.exports=n},WwFo:function(e,t,n){var i=n("juv8"),a=n("7GkX");e.exports=function(e,t){return e&&i(t,a(t),e)}},XYm9:function(e,t,n){var i=n("+K+b");e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},XhcP:function(e,t,n){"use strict";n.d(t,"a",(function(){return Y})),n.d(t,"b",(function(){return ee})),n.d(t,"c",(function(){return G})),n.d(t,"d",(function(){return ne})),n.d(t,"e",(function(){return ae})),n.d(t,"f",(function(){return te})),n.d(t,"g",(function(){return oe}));var i=n("nLfN"),a=n("vxfF"),r=n("ofXK"),o=n("fXoL"),l=n("FKr1"),d=n("8LU1"),p=n("FtGj"),h=n("XNiG"),f=n("xgIS"),g=n("VRyK"),v=n("pLZG"),m=n("lJxs"),y=n("7o/Q");function k(e){return function(t){return t.lift(new w(e))}}var w=function(){function e(t){b(this,e),this.value=t}return s(e,[{key:"call",value:function(e,t){return t.subscribe(new x(e,this.value))}}]),e}(),x=function(e){c(n,e);var t=u(n);function n(e,i){var a;return b(this,n),(a=t.call(this,e)).value=i,a}return s(n,[{key:"_next",value:function(e){this.destination.next(this.value)}}]),n}(y.a),_=n("1G5W"),O=n("/uUt"),C=n("IzEk"),P=n("JX91"),I=n("Kj3r"),j=n("R0Ic"),S=n("R1ws"),D=n("u47x"),E=n("cH1L"),U=["*"];function V(e,t){if(1&e){var n=o.Wb();o.Vb(0,"div",2),o.cc("click",(function(){return o.xc(n),o.gc()._onBackdropClicked()})),o.Ub()}if(2&e){var i=o.gc();o.Hb("mat-drawer-shown",i._isShowingBackdrop())}}function A(e,t){1&e&&(o.Vb(0,"mat-drawer-content"),o.kc(1,2),o.Ub())}var M=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],T=["mat-drawer","mat-drawer-content","*"];function F(e,t){if(1&e){var n=o.Wb();o.Vb(0,"div",2),o.cc("click",(function(){return o.xc(n),o.gc()._onBackdropClicked()})),o.Ub()}if(2&e){var i=o.gc();o.Hb("mat-drawer-shown",i._isShowingBackdrop())}}function L(e,t){1&e&&(o.Vb(0,"mat-sidenav-content",3),o.kc(1,2),o.Ub())}var R,$,N,B,z,K,Q,W=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],H=["mat-sidenav","mat-sidenav-content","*"],X=".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n",Z={transformDrawer:Object(j.m)("transform",[Object(j.j)("open, open-instant",Object(j.k)({transform:"none",visibility:"visible"})),Object(j.j)("void",Object(j.k)({"box-shadow":"none",visibility:"hidden"})),Object(j.l)("void => open-instant",Object(j.e)("0ms")),Object(j.l)("void <=> open, open-instant => void",Object(j.e)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},J=new o.s("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),q=new o.s("MAT_DRAWER_CONTAINER"),G=((z=function(e){c(n,e);var t=u(n);function n(e,i,a,r,o){var s;return b(this,n),(s=t.call(this,a,r,o))._changeDetectorRef=e,s._container=i,s}return s(n,[{key:"ngAfterContentInit",value:function(){var e=this;this._container._contentMarginChanges.subscribe((function(){e._changeDetectorRef.markForCheck()}))}}]),n}(a.a)).\u0275fac=function(e){return new(e||z)(o.Pb(o.i),o.Pb(Object(o.W)((function(){return ee}))),o.Pb(o.m),o.Pb(a.c),o.Pb(o.B))},z.\u0275cmp=o.Jb({type:z,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,t){2&e&&o.Fc("margin-left",t._container._contentMargins.left,"px")("margin-right",t._container._contentMargins.right,"px")},features:[o.Ab],ngContentSelectors:U,decls:1,vars:0,template:function(e,t){1&e&&(o.lc(),o.kc(0))},encapsulation:2,changeDetection:0}),z),Y=((B=function(){function e(t,n,i,a,r,s,c){var l=this;b(this,e),this._elementRef=t,this._focusTrapFactory=n,this._focusMonitor=i,this._platform=a,this._ngZone=r,this._doc=s,this._container=c,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new h.a,this._animationEnd=new h.a,this._animationState="void",this.openedChange=new o.o(!0),this._openedStream=this.openedChange.pipe(Object(v.a)((function(e){return e})),Object(m.a)((function(){}))),this.openedStart=this._animationStarted.pipe(Object(v.a)((function(e){return e.fromState!==e.toState&&0===e.toState.indexOf("open")})),k(void 0)),this._closedStream=this.openedChange.pipe(Object(v.a)((function(e){return!e})),Object(m.a)((function(){}))),this.closedStart=this._animationStarted.pipe(Object(v.a)((function(e){return e.fromState!==e.toState&&"void"===e.toState})),k(void 0)),this._destroyed=new h.a,this.onPositionChanged=new o.o,this._modeChanged=new h.a,this.openedChange.subscribe((function(e){e?(l._doc&&(l._elementFocusedBeforeDrawerWasOpened=l._doc.activeElement),l._takeFocus()):l._isFocusWithinDrawer()&&l._restoreFocus()})),this._ngZone.runOutsideAngular((function(){Object(f.a)(l._elementRef.nativeElement,"keydown").pipe(Object(v.a)((function(e){return e.keyCode===p.g&&!l.disableClose&&!Object(p.s)(e)})),Object(_.a)(l._destroyed)).subscribe((function(e){return l._ngZone.run((function(){l.close(),e.stopPropagation(),e.preventDefault()}))}))})),this._animationEnd.pipe(Object(O.a)((function(e,t){return e.fromState===t.fromState&&e.toState===t.toState}))).subscribe((function(e){var t=e.fromState,n=e.toState;(0===n.indexOf("open")&&"void"===t||"void"===n&&0===t.indexOf("open"))&&l.openedChange.emit(l._opened)}))}return s(e,[{key:"_takeFocus",value:function(){var e=this;this.autoFocus&&this._focusTrap&&this._focusTrap.focusInitialElementWhenReady().then((function(t){t||"function"!=typeof e._elementRef.nativeElement.focus||e._elementRef.nativeElement.focus()}))}},{key:"_restoreFocus",value:function(){this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}},{key:"_isFocusWithinDrawer",value:function(){var e,t=null===(e=this._doc)||void 0===e?void 0:e.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}},{key:"ngAfterContentInit",value:function(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}},{key:"ngAfterContentChecked",value:function(){this._platform.isBrowser&&(this._enableAnimations=!0)}},{key:"ngOnDestroy",value:function(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}},{key:"open",value:function(e){return this.toggle(!0,e)}},{key:"close",value:function(){return this.toggle(!1)}},{key:"_closeViaBackdropClick",value:function(){return this._setOpen(!1,!0)}},{key:"toggle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.opened,t=arguments.length>1?arguments[1]:void 0;return this._setOpen(e,!e&&this._isFocusWithinDrawer(),t)}},{key:"_setOpen",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"program";return this._opened=e,e?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=i):(this._animationState="void",t&&this._restoreFocus()),this._updateFocusTrapState(),new Promise((function(e){n.openedChange.pipe(Object(C.a)(1)).subscribe((function(t){return e(t?"open":"close")}))}))}},{key:"_getWidth",value:function(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}},{key:"_updateFocusTrapState",value:function(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}},{key:"_animationStartListener",value:function(e){this._animationStarted.next(e)}},{key:"_animationDoneListener",value:function(e){this._animationEnd.next(e)}},{key:"position",get:function(){return this._position},set:function(e){(e="end"===e?"end":"start")!=this._position&&(this._position=e,this.onPositionChanged.emit())}},{key:"mode",get:function(){return this._mode},set:function(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}},{key:"disableClose",get:function(){return this._disableClose},set:function(e){this._disableClose=Object(d.c)(e)}},{key:"autoFocus",get:function(){var e=this._autoFocus;return null==e?"side"!==this.mode:e},set:function(e){this._autoFocus=Object(d.c)(e)}},{key:"opened",get:function(){return this._opened},set:function(e){this.toggle(Object(d.c)(e))}}]),e}()).\u0275fac=function(e){return new(e||B)(o.Pb(o.m),o.Pb(D.i),o.Pb(D.h),o.Pb(i.a),o.Pb(o.B),o.Pb(r.e,8),o.Pb(q,8))},B.\u0275cmp=o.Jb({type:B,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,t){1&e&&o.Gc("@transform.start",(function(e){return t._animationStartListener(e)}))("@transform.done",(function(e){return t._animationDoneListener(e)})),2&e&&(o.Eb("align",null),o.Hc("@transform",t._animationState),o.Hb("mat-drawer-end","end"===t.position)("mat-drawer-over","over"===t.mode)("mat-drawer-push","push"===t.mode)("mat-drawer-side","side"===t.mode)("mat-drawer-opened",t.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:U,decls:2,vars:0,consts:[[1,"mat-drawer-inner-container"]],template:function(e,t){1&e&&(o.lc(),o.Vb(0,"div",0),o.kc(1),o.Ub())},encapsulation:2,data:{animation:[Z.transformDrawer]},changeDetection:0}),B),ee=((N=function(){function e(t,n,i,a,r){var s=this,c=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6?arguments[6]:void 0;b(this,e),this._dir=t,this._element=n,this._ngZone=i,this._changeDetectorRef=a,this._animationMode=l,this._drawers=new o.F,this.backdropClick=new o.o,this._destroyed=new h.a,this._doCheckSubject=new h.a,this._contentMargins={left:null,right:null},this._contentMarginChanges=new h.a,t&&t.change.pipe(Object(_.a)(this._destroyed)).subscribe((function(){s._validateDrawers(),s.updateContentMargins()})),r.change().pipe(Object(_.a)(this._destroyed)).subscribe((function(){return s.updateContentMargins()})),this._autosize=c}return s(e,[{key:"ngAfterContentInit",value:function(){var e=this;this._allDrawers.changes.pipe(Object(P.a)(this._allDrawers),Object(_.a)(this._destroyed)).subscribe((function(t){e._drawers.reset(t.filter((function(t){return!t._container||t._container===e}))),e._drawers.notifyOnChanges()})),this._drawers.changes.pipe(Object(P.a)(null)).subscribe((function(){e._validateDrawers(),e._drawers.forEach((function(t){e._watchDrawerToggle(t),e._watchDrawerPosition(t),e._watchDrawerMode(t)})),(!e._drawers.length||e._isDrawerOpen(e._start)||e._isDrawerOpen(e._end))&&e.updateContentMargins(),e._changeDetectorRef.markForCheck()})),this._ngZone.runOutsideAngular((function(){e._doCheckSubject.pipe(Object(I.a)(10),Object(_.a)(e._destroyed)).subscribe((function(){return e.updateContentMargins()}))}))}},{key:"ngOnDestroy",value:function(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}},{key:"open",value:function(){this._drawers.forEach((function(e){return e.open()}))}},{key:"close",value:function(){this._drawers.forEach((function(e){return e.close()}))}},{key:"updateContentMargins",value:function(){var e=this,t=0,n=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){var i=this._left._getWidth();t+=i,n-=i}if(this._right&&this._right.opened)if("side"==this._right.mode)n+=this._right._getWidth();else if("push"==this._right.mode){var a=this._right._getWidth();n+=a,t-=a}n=n||null,(t=t||null)===this._contentMargins.left&&n===this._contentMargins.right||(this._contentMargins={left:t,right:n},this._ngZone.run((function(){return e._contentMarginChanges.next(e._contentMargins)})))}},{key:"ngDoCheck",value:function(){var e=this;this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular((function(){return e._doCheckSubject.next()}))}},{key:"_watchDrawerToggle",value:function(e){var t=this;e._animationStarted.pipe(Object(v.a)((function(e){return e.fromState!==e.toState})),Object(_.a)(this._drawers.changes)).subscribe((function(e){"open-instant"!==e.toState&&"NoopAnimations"!==t._animationMode&&t._element.nativeElement.classList.add("mat-drawer-transition"),t.updateContentMargins(),t._changeDetectorRef.markForCheck()})),"side"!==e.mode&&e.openedChange.pipe(Object(_.a)(this._drawers.changes)).subscribe((function(){return t._setContainerClass(e.opened)}))}},{key:"_watchDrawerPosition",value:function(e){var t=this;e&&e.onPositionChanged.pipe(Object(_.a)(this._drawers.changes)).subscribe((function(){t._ngZone.onMicrotaskEmpty.pipe(Object(C.a)(1)).subscribe((function(){t._validateDrawers()}))}))}},{key:"_watchDrawerMode",value:function(e){var t=this;e&&e._modeChanged.pipe(Object(_.a)(Object(g.a)(this._drawers.changes,this._destroyed))).subscribe((function(){t.updateContentMargins(),t._changeDetectorRef.markForCheck()}))}},{key:"_setContainerClass",value:function(e){var t=this._element.nativeElement.classList,n="mat-drawer-container-has-open";e?t.add(n):t.remove(n)}},{key:"_validateDrawers",value:function(){var e=this;this._start=this._end=null,this._drawers.forEach((function(t){"end"==t.position?e._end=t:e._start=t})),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}},{key:"_isPushed",value:function(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}},{key:"_onBackdropClicked",value:function(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}},{key:"_closeModalDrawersViaBackdrop",value:function(){var e=this;[this._start,this._end].filter((function(t){return t&&!t.disableClose&&e._canHaveBackdrop(t)})).forEach((function(e){return e._closeViaBackdropClick()}))}},{key:"_isShowingBackdrop",value:function(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}},{key:"_canHaveBackdrop",value:function(e){return"side"!==e.mode||!!this._backdropOverride}},{key:"_isDrawerOpen",value:function(e){return null!=e&&e.opened}},{key:"start",get:function(){return this._start}},{key:"end",get:function(){return this._end}},{key:"autosize",get:function(){return this._autosize},set:function(e){this._autosize=Object(d.c)(e)}},{key:"hasBackdrop",get:function(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride},set:function(e){this._backdropOverride=null==e?null:Object(d.c)(e)}},{key:"scrollable",get:function(){return this._userContent||this._content}}]),e}()).\u0275fac=function(e){return new(e||N)(o.Pb(E.c,8),o.Pb(o.m),o.Pb(o.B),o.Pb(o.i),o.Pb(a.e),o.Pb(J),o.Pb(S.a,8))},N.\u0275cmp=o.Jb({type:N,selectors:[["mat-drawer-container"]],contentQueries:function(e,t,n){var i;1&e&&(o.Ib(n,G,!0),o.Ib(n,Y,!0)),2&e&&(o.tc(i=o.dc())&&(t._content=i.first),o.tc(i=o.dc())&&(t._allDrawers=i))},viewQuery:function(e,t){var n;1&e&&o.Qc(G,!0),2&e&&o.tc(n=o.dc())&&(t._userContent=n.first)},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,t){2&e&&o.Hb("mat-drawer-container-explicit-backdrop",t._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[o.Cb([{provide:q,useExisting:N}])],ngContentSelectors:T,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,t){1&e&&(o.lc(M),o.Ic(0,V,1,2,"div",0),o.kc(1),o.kc(2,1),o.Ic(3,A,2,0,"mat-drawer-content",1)),2&e&&(o.mc("ngIf",t.hasBackdrop),o.Db(3),o.mc("ngIf",!t._content))},directives:[r.t,G],styles:[X],encapsulation:2,changeDetection:0}),N),te=(($=function(e){c(n,e);var t=u(n);function n(e,i,a,r,o){return b(this,n),t.call(this,e,i,a,r,o)}return n}(G)).\u0275fac=function(e){return new(e||$)(o.Pb(o.i),o.Pb(Object(o.W)((function(){return ae}))),o.Pb(o.m),o.Pb(a.c),o.Pb(o.B))},$.\u0275cmp=o.Jb({type:$,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,t){2&e&&o.Fc("margin-left",t._container._contentMargins.left,"px")("margin-right",t._container._contentMargins.right,"px")},features:[o.Ab],ngContentSelectors:U,decls:1,vars:0,template:function(e,t){1&e&&(o.lc(),o.kc(0))},encapsulation:2,changeDetection:0}),$),ne=((R=function(e){c(n,e);var t=u(n);function n(){var e;return b(this,n),(e=t.apply(this,arguments))._fixedInViewport=!1,e._fixedTopGap=0,e._fixedBottomGap=0,e}return s(n,[{key:"fixedInViewport",get:function(){return this._fixedInViewport},set:function(e){this._fixedInViewport=Object(d.c)(e)}},{key:"fixedTopGap",get:function(){return this._fixedTopGap},set:function(e){this._fixedTopGap=Object(d.f)(e)}},{key:"fixedBottomGap",get:function(){return this._fixedBottomGap},set:function(e){this._fixedBottomGap=Object(d.f)(e)}}]),n}(Y)).\u0275fac=function(e){return ie(e||R)},R.\u0275cmp=o.Jb({type:R,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,t){2&e&&(o.Eb("align",null),o.Fc("top",t.fixedInViewport?t.fixedTopGap:null,"px")("bottom",t.fixedInViewport?t.fixedBottomGap:null,"px"),o.Hb("mat-drawer-end","end"===t.position)("mat-drawer-over","over"===t.mode)("mat-drawer-push","push"===t.mode)("mat-drawer-side","side"===t.mode)("mat-drawer-opened",t.opened)("mat-sidenav-fixed",t.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[o.Ab],ngContentSelectors:U,decls:2,vars:0,consts:[[1,"mat-drawer-inner-container"]],template:function(e,t){1&e&&(o.lc(),o.Vb(0,"div",0),o.kc(1),o.Ub())},encapsulation:2,data:{animation:[Z.transformDrawer]},changeDetection:0}),R),ie=o.Xb(ne),ae=((K=function(e){c(n,e);var t=u(n);function n(){return b(this,n),t.apply(this,arguments)}return n}(ee)).\u0275fac=function(e){return re(e||K)},K.\u0275cmp=o.Jb({type:K,selectors:[["mat-sidenav-container"]],contentQueries:function(e,t,n){var i;1&e&&(o.Ib(n,te,!0),o.Ib(n,ne,!0)),2&e&&(o.tc(i=o.dc())&&(t._content=i.first),o.tc(i=o.dc())&&(t._allDrawers=i))},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,t){2&e&&o.Hb("mat-drawer-container-explicit-backdrop",t._backdropOverride)},exportAs:["matSidenavContainer"],features:[o.Cb([{provide:q,useExisting:K}]),o.Ab],ngContentSelectors:H,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(e,t){1&e&&(o.lc(W),o.Ic(0,F,1,2,"div",0),o.kc(1),o.kc(2,1),o.Ic(3,L,2,0,"mat-sidenav-content",1)),2&e&&(o.mc("ngIf",t.hasBackdrop),o.Db(3),o.mc("ngIf",!t._content))},directives:[r.t,te,a.a],styles:[X],encapsulation:2,changeDetection:0}),K),re=o.Xb(ae),oe=((Q=function e(){b(this,e)}).\u0275mod=o.Nb({type:Q}),Q.\u0275inj=o.Mb({factory:function(e){return new(e||Q)},imports:[[r.c,l.h,i.b,a.b],a.b,l.h]}),Q)},Xi7e:function(e,t,n){var i=n("KMkd"),a=n("adU4"),r=n("tMB7"),o=n("+6XX"),s=n("Z8oC");function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=r,c.prototype.has=o,c.prototype.set=s,e.exports=c},"Xt/L":function(e,t){e.exports=function(e,t,n){for(var i=-1,a=null==e?0:e.length;++i<a;)if(n(t,e[i]))return!0;return!1}},"Y+p1":function(e,t,n){var i=n("wF/u");e.exports=function(e,t){return i(e,t)}},YESw:function(e,t,n){var i=n("Cwc5")(Object,"create");e.exports=i},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},Z0cm:function(e,t){e.exports=Array.isArray},Z8oC:function(e,t,n){var i=n("y1pI");e.exports=function(e,t){var n=this.__data__,a=i(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},ZCpW:function(e,t,n){var i=n("lm/5"),a=n("O7RO"),r=n("IOzZ");e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?r(t[0][0],t[0][1]):function(n){return n===e||i(n,e,t)}}},ZWtO:function(e,t,n){var i=n("4uTw"),a=n("9Nap");e.exports=function(e,t){for(var n=0,r=(t=i(t,e)).length;null!=e&&n<r;)e=e[a(t[n++])];return n&&n==r?e:void 0}},adU4:function(e,t,n){var i=n("y1pI"),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=i(t,e);return!(n<0||(n==t.length-1?t.pop():a.call(t,n,1),--this.size,0))}},b2z7:function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},b80T:function(e,t,n){var i=n("UNi/"),a=n("03A+"),r=n("Z0cm"),o=n("DSRE"),s=n("wJg7"),c=n("c6wG"),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=r(e),u=!n&&a(e),d=!n&&!u&&o(e),p=!n&&!u&&!d&&c(e),h=n||u||d||p,b=h?i(e.length,String):[],f=b.length;for(var g in e)!t&&!l.call(e,g)||h&&("length"==g||d&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,f))||b.push(g);return b}},bmro:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n("3Pt+"),a=n("Kj3r"),r=n("/uUt"),o=n("fXoL"),c=n("2hX1"),l=n("tyNb"),u=n("ofXK"),d=n("NFeN"),p=n("zW5C");function h(e,t){1&e&&o.Qb(0,"mat-icon",3)}var f=function(){var e=function(){function e(t,n){b(this,e),this.datatable=t,this.route=n,this.searchControl=new i.i(this.route.snapshot.queryParams.query),this.hideIcon=!1}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.searchControl.valueChanges.pipe(Object(a.a)(400),Object(r.a)()).subscribe((function(t){e.datatable.addFilter("query",t)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Pb(c.a),o.Pb(l.a))},e.\u0275cmp=o.Jb({type:e,selectors:[["datatable-header-search-input"]],inputs:{placeholder:"placeholder",hideIcon:"hideIcon"},decls:4,vars:5,consts:[[1,"input-container","search-input-container"],["type","text",1,"search-input",3,"placeholder","formControl"],["svgIcon","search",4,"ngIf"],["svgIcon","search"]],template:function(e,t){1&e&&(o.Vb(0,"div",0),o.Qb(1,"input",1),o.hc(2,"trans"),o.Ic(3,h,1,0,"mat-icon",2),o.Ub()),2&e&&(o.Db(1),o.mc("placeholder",o.ic(2,3,t.placeholder))("formControl",t.searchControl),o.Db(2),o.mc("ngIf",!t.hideIcon))},directives:[i.d,i.u,i.j,u.t,d.a],pipes:[p.a],styles:[".input-container[_ngcontent-%COMP%]{min-width:250px;position:relative;flex-shrink:0}.input-container[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 12px);right:5px;color:var(--be-secondary-text)}.icon-left[_nghost-%COMP%]   .mat-icon[_ngcontent-%COMP%], .icon-left   [_nghost-%COMP%]   .mat-icon[_ngcontent-%COMP%]{left:10px;right:0}"],changeDetection:0}),e}()},c6wG:function(e,t,n){var i=n("dD9F"),a=n("sEf8"),r=n("mdPL"),o=r&&r.isTypedArray,s=o?a(o):i;e.exports=s},dD9F:function(e,t,n){var i=n("NykK"),a=n("shjB"),r=n("ExA7"),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return r(e)&&a(e.length)&&!!o[i(e)]}},dQpi:function(e,t,n){var i=n("yGk4"),a=n("vN+2"),r=n("rEGp"),o=i&&1/r(new i([,-0]))[1]==1/0?function(e){return new i(e)}:a;e.exports=o},dTAl:function(e,t,n){var i=n("GoyQ"),a=Object.create,r=function(){function e(){}return function(t){if(!i(t))return{};if(a)return a(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=r},dt0z:function(e,t,n){var i=n("zoYe");e.exports=function(e){return null==e?"":i(e)}},e4Nc:function(e,t,n){var i=n("fGT3"),a=n("k+1r"),r=n("JHgL"),o=n("pSRY"),s=n("H8j4");function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=r,c.prototype.has=o,c.prototype.set=s,e.exports=c},e5cp:function(e,t,n){var i=n("fmRc"),a=n("or5M"),r=n("HDyB"),o=n("seXi"),s=n("QqLw"),c=n("Z0cm"),l=n("DSRE"),u=n("c6wG"),d="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,h,b,f){var g=c(e),v=c(t),m=g?"[object Array]":s(e),y=v?"[object Array]":s(t),k=(m="[object Arguments]"==m?d:m)==d,w=(y="[object Arguments]"==y?d:y)==d,x=m==y;if(x&&l(e)){if(!l(t))return!1;g=!0,k=!1}if(x&&!k)return f||(f=new i),g||u(e)?a(e,t,n,h,b,f):r(e,t,m,n,h,b,f);if(!(1&n)){var _=k&&p.call(e,"__wrapped__"),O=w&&p.call(t,"__wrapped__");if(_||O){var C=_?e.value():e,P=O?t.value():t;return f||(f=new i),b(C,P,n,h,f)}}return!!x&&(f||(f=new i),o(e,t,n,h,b,f))}},"eKg+":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("fXoL"),r=n("2hX1"),o=n("bSwM"),c=["table-body-checkbox",""],l=function(){var e=function(){function e(t,n){b(this,e),this.datatable=t,this.cd=n}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.changeRef=this.datatable.selectedRows$.subscribe((function(t){e.cd.markForCheck()}))}},{key:"ngOnDestroy",value:function(){this.changeRef.unsubscribe()}},{key:"isRowSelected",value:function(e){return this.datatable.selectedRows$.value.indexOf(e)>-1}},{key:"toggleRow",value:function(e){if(this.isRowSelected(e)){var t=this.datatable.selectedRows$.value.slice(),n=this.datatable.selectedRows$.value.indexOf(e);t.splice(n,1),this.datatable.selectedRows$.next(t)}else this.datatable.selectedRows$.next([].concat(i(this.datatable.selectedRows$.value),[e]))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Pb(r.a),a.Pb(a.i))},e.\u0275cmp=a.Jb({type:e,selectors:[["","table-body-checkbox",""]],hostAttrs:[1,"table-checkbox"],inputs:{rowId:["table-body-checkbox","rowId"]},attrs:c,decls:1,vars:1,consts:[[3,"checked","click","change"]],template:function(e,t){1&e&&(a.Vb(0,"mat-checkbox",0),a.cc("click",(function(e){return e.stopPropagation()}))("change",(function(e){return e?t.toggleRow(t.rowId):null})),a.Ub()),2&e&&a.mc("checked",t.isRowSelected(t.rowId))},directives:[o.a],encapsulation:2,changeDetection:0}),e}()},eUgh:function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,a=Array(i);++n<i;)a[n]=t(e[n],n,e);return a}},ebwN:function(e,t,n){var i=n("Cwc5")(n("Kz5y"),"Map");e.exports=i},ekgI:function(e,t,n){var i=n("YESw"),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return i?void 0!==t[e]:a.call(t,e)}},fGT3:function(e,t,n){var i=n("4kuk"),a=n("Xi7e"),r=n("ebwN");e.exports=function(){this.size=0,this.__data__={hash:new i,map:new(r||a),string:new i}}},"fR/l":function(e,t,n){var i=n("CH3K"),a=n("Z0cm");e.exports=function(e,t,n){var r=t(e);return a(e)?r:i(r,n(e))}},fmRc:function(e,t,n){var i=n("Xi7e"),a=n("77Zs"),r=n("L8xA"),o=n("gCq4"),s=n("VaNO"),c=n("0Cz8");function l(e){var t=this.__data__=new i(e);this.size=t.size}l.prototype.clear=a,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=s,l.prototype.set=c,e.exports=l},ftKO:function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},gCq4:function(e,t){e.exports=function(e){return this.__data__.get(e)}},gFfm:function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}},gcYM:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("7o/Q"),a=n("D0XW");n("zx2A");var r={leading:!0,trailing:!1};function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;return function(i){return i.lift(new l(e,t,n.leading,n.trailing))}}var l=function(){function e(t,n,i,a){b(this,e),this.duration=t,this.scheduler=n,this.leading=i,this.trailing=a}return s(e,[{key:"call",value:function(e,t){return t.subscribe(new d(e,this.duration,this.scheduler,this.leading,this.trailing))}}]),e}(),d=function(e){c(n,e);var t=u(n);function n(e,i,a,r,o){var s;return b(this,n),(s=t.call(this,e)).duration=i,s.scheduler=a,s.leading=r,s.trailing=o,s._hasTrailingValue=!1,s._trailingValue=null,s}return s(n,[{key:"_next",value:function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(p,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))}},{key:"_complete",value:function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}},{key:"clearThrottle",value:function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)}}]),n}(i.a);function p(e){e.subscriber.clearThrottle()}},h586:function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var i,a,r=n("XNiG"),o=n("2Vo4"),l=n("jtHE"),d=n("oJgS"),p=function(){function e(t,n){b(this,e),this.canceled$=new r.a,this.processing$=new o.a(!1),this.uploadedResponse$=new l.a(1),this.progress$=new o.a({percentage:0}),this.error$=new o.a(null),this.customData={},this.uploadedFile=t,this.id=n||Object(d.a)()}return s(e,[{key:"cancel",value:function(){this.canceled$.next(!0),this.finalize()}},{key:"complete",value:function(){this.setProgress({percentage:100,eta:null}),this.finalize()}},{key:"finalize",value:function(){this.uploadedResponse$.complete(),this.canceled$.complete(),this.progress$.complete()}},{key:"finishProcessing",value:function(){this.processing$.next(!1),this.processing$.complete()}},{key:"addError",value:function(e){this.error$.next(e)}},{key:"setProgress",value:function(e){this.progress$.next(Object.assign(Object.assign({},this.progress$.value),e))}},{key:"completed",get:function(){return!this.processing$.value&&100===this.progress$.value.percentage}},{key:"inProgress",get:function(){return!this.error$.value&&!this.completed}}]),e}(),h=n("Cfvw"),f=n("z6cu"),g=n("EY2u"),v=n("5+tZ"),m=n("JIr8"),y=n("1G5W"),k=n("lJxs"),w=n("pLZG"),x=n("JfjL"),_=n("VfAk"),O=n("fXoL"),C=n("oVOl"),P=n("sJvS"),I=n("tU2R"),j=n("6JEN"),S=n("PUEP"),D=n("PCqb"),E=((i=function(e){c(n,e);var t=u(n);function n(){var e;return b(this,n),(e=t.apply(this,arguments)).DEFAULT_MAX_FILE_SIZE_MB=8,e.showToast=!0,e}return s(n,[{key:"initValidations",value:function(){this.validations.push(new I.a({maxSize:this.getMaxFileSize()},this.i18n));var e=this.getAllowedExtensions(),t=this.getBlockedExtensions();e&&e.length&&this.validations.push(new j.a({extensions:e},this.i18n)),t&&t.length&&this.validations.push(new S.a({extensions:t},this.i18n))}},{key:"getMaxFileSize",value:function(){return this.settings.get("uploads.max_size",Object(D.a)(this.DEFAULT_MAX_FILE_SIZE_MB,"MB"))}},{key:"getAllowedExtensions",value:function(){return this.settings.getJson("uploads.allowed_extensions")}},{key:"getBlockedExtensions",value:function(){return this.settings.getJson("uploads.blocked_extensions")}}]),n}(P.a)).\u0275fac=function(e){return U(e||i)},i.\u0275prov=O.Lb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),U=O.Xb(E),V=n("i2dy"),A=n("twBr"),M=n("kmQS"),T=((a=function(){function e(t,n,i,a,s){b(this,e),this.api=t,this.defaultValidator=n,this.toast=i,this.currentUser=a,this.settings=s,this.uploads$=new o.a([]),this.totalProgress$=new l.a(1),this.uploadsAdded$=new r.a,this.count$=new o.a({pending:0,completed:0})}return s(e,[{key:"isEmpty",value:function(){return!this.uploads$.value.length}},{key:"getAllCompleted",value:function(){return this.uploads$.value.filter((function(e){return e.completed})).map((function(e){return e.fileEntry}))}},{key:"updateTotalProgress",value:function(){var e=this.uploads$.value.map((function(e){return e.progress$.value.percentage||0}));this.totalProgress$.next(e.reduce((function(e,t){return e+t}),0)/e.length)}},{key:"totalProgress",value:function(){return this.totalProgress$.asObservable()}},{key:"start",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.validator||this.defaultValidator,a=[];if(Array.isArray(e))a=this.transformUploads(e,i),this.uploads$.next(this.uploads$.value.concat(a)),this.uploadsAdded$.next(a);else{var r=this.uploads$.value.map((function(n){if(e[n.id]){var r=t.transformUploads([e[n.id]],i,n.id)[0];return a.push(r),r}return n}));this.uploads$.next(r)}return this.updateCount(),Object(h.a)(a.filter((function(e){return!e.error$.value}))).pipe(Object(v.a)((function(e){return t.api.upload(e.uploadedFile,n).pipe(Object(m.a)((function(a){return t.handleUploadFailure(a,e,i),n.bubbleError?Object(f.a)(a):g.a})),Object(y.a)(e.canceled$),Object(k.a)((function(i){return t.handleUploadEvent(i,e,n.willProcessFiles),i.name===x.a.COMPLETED&&(i.body.queueItemId=e.id),i})))}),1),Object(w.a)((function(e){return e.name===x.a.COMPLETED})),Object(k.a)((function(e){return e.body})))}},{key:"updateProgress",value:function(e,t){var n=this.find(e);n&&(n.setProgress({eta:t.eta,speed:t.speed,percentage:t.progress,totalBytes:t.totalBytes,completedBytes:t.completedBytes}),this.updateTotalProgress())}},{key:"completeUpload",value:function(e,t){var n=this.find(e);n&&(n.uploadedResponse$.next(t),n.fileEntry=t.fileEntry,n.complete(),this.updateTotalProgress())}},{key:"errorUpload",value:function(e,t){this.find(e).addError(t)}},{key:"reset",value:function(){this.uploads$.value.forEach((function(e){return e.cancel()})),this.uploads$.next([])}},{key:"remove",value:function(e){var t=this.uploads$.value.findIndex((function(t){return t.id===e})),n=this.uploads$.value[t];n.completed?n.finalize():n.cancel(),this.uploads$.value.splice(t,1),this.uploads$.next(this.uploads$.value)}},{key:"find",value:function(e){return this.uploads$.value.find((function(t){return t.id===e}))}},{key:"transformUploads",value:function(e,t,n){return e.map((function(e){var i=new p(e,n);if(t){var a=t.validate(e);a.failed&&i.addError(a.errorMessage)}return i}))}},{key:"handleUploadEvent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.name===x.a.PROGRESS?(100===e.progress&&(e=Object.assign(Object.assign({},e),{progress:99}),n&&t.processing$.next(!0)),this.updateProgress(t.id,e)):e.name===x.a.COMPLETED&&(this.completeUpload(t.id,e.body),this.updateCount())}},{key:"handleUploadFailure",value:function(e,t,n){var i,a=null===(i=null==e?void 0:e.errors)||void 0===i?void 0:i.file,r=null;a||(a=_.a.DefaultUpload,r=this.currentUser.isAdmin()&&!this.settings.get("site.hide_docs_buttons")),this.errorUpload(t.id,a),this.updateCount(),this.updateTotalProgress(),n.showToast&&this.toast.open(a,{action:r?"Learn More":null}).onAction().subscribe((function(){window.open(_.b)}))}},{key:"updateCount",value:function(){var e=this.uploads$.value.filter((function(e){return e.inProgress})).length;this.count$.next({pending:e,completed:this.uploads$.value.length-e})}}]),e}()).\u0275fac=function(e){return new(e||a)(O.Zb(C.a),O.Zb(E),O.Zb(V.b),O.Zb(A.a),O.Zb(M.a))},a.\u0275prov=O.Lb({token:a,factory:a.\u0275fac,providedIn:"root"}),a)},hgQt:function(e,t,n){var i=n("Juji"),a=n("4sDh");e.exports=function(e,t){return null!=e&&a(e,t,i)}},hypo:function(e,t,n){var i=n("O0oS");e.exports=function(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},iH1U:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i={title:"Delete :resource",body:"Are you sure you want to delete selected :resource?",ok:"Delete"}},"jbM+":function(e,t,n){var i=n("R/W3");e.exports=function(e,t){return!(null==e||!e.length)&&i(e,t,0)>-1}},juv8:function(e,t,n){var i=n("MrPd"),a=n("hypo");e.exports=function(e,t,n,r){var o=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var l=t[s],u=r?r(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),o?a(n,l,u):i(n,l,u)}return n}},"k+1r":function(e,t,n){var i=n("QkVE");e.exports=function(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}},kekF:function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},kmnG:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l}));var i=n("GU7r"),a=n("ofXK"),r=n("fXoL"),o=n("FKr1");n("8LU1"),n("XNiG"),n("VRyK"),n("xgIS"),n("JX91"),n("1G5W"),n("IzEk"),n("R0Ic"),n("R1ws"),n("cH1L"),n("nLfN");var s=function(){var e=function e(){b(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.Kb({type:e}),e}(),c=new r.s("MatFormField"),l=function(){var e=function e(){b(this,e)};return e.\u0275mod=r.Nb({type:e}),e.\u0275inj=r.Mb({factory:function(t){return new(t||e)},imports:[[a.c,o.h,i.c],o.h]}),e}()},lSCD:function(e,t,n){var i=n("NykK"),a=n("GoyQ");e.exports=function(e){if(!a(e))return!1;var t=i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},ljhN:function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},"lm/5":function(e,t,n){var i=n("fmRc"),a=n("wF/u");e.exports=function(e,t,n,r){var o=n.length,s=o,c=!r;if(null==e)return!s;for(e=Object(e);o--;){var l=n[o];if(c&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<s;){var u=(l=n[o])[0],d=e[u],p=l[1];if(c&&l[2]){if(void 0===d&&!(u in e))return!1}else{var h=new i;if(r)var b=r(d,p,u,e,t,h);if(!(void 0===b?a(p,d,3,r,h):b))return!1}}return!0}},losq:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("ofXK"),a=n("fXoL"),r=function(){var e=function e(){b(this,e)};return e.\u0275mod=a.Nb({type:e}),e.\u0275inj=a.Mb({factory:function(t){return new(t||e)},imports:[[i.c]]}),e}()},mTTR:function(e,t,n){var i=n("b80T"),a=n("QcOe"),r=n("MMmD");e.exports=function(e){return r(e)?i(e,!0):a(e)}},mdPL:function(e,t,n){(function(e){var i=n("WFqU"),a=t&&!t.nodeType&&t,r=a&&"object"==typeof e&&e&&!e.nodeType&&e,o=r&&r.exports===a&&i.process,s=function(){try{return r&&r.require&&r.require("util").types||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=s}).call(this,n("YuTi")(e))},mwIZ:function(e,t,n){var i=n("ZWtO");e.exports=function(e,t,n){var a=null==e?void 0:i(e,t);return void 0===a?n:a}},nmnc:function(e,t,n){var i=n("Kz5y");e.exports=i.Symbol},"oCl/":function(e,t,n){var i=n("CH3K"),a=n("LcsW"),r=n("MvSz"),o=n("0ycA");e.exports=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)i(t,r(e)),e=a(e);return t}:o},or5M:function(e,t,n){var i=n("1hJj"),a=n("QoRX"),r=n("xYSL");e.exports=function(e,t,n,o,s,c){var l=1&n,u=e.length,d=t.length;if(u!=d&&!(l&&d>u))return!1;var p=c.get(e),h=c.get(t);if(p&&h)return p==t&&h==e;var b=-1,f=!0,g=2&n?new i:void 0;for(c.set(e,t),c.set(t,e);++b<u;){var v=e[b],m=t[b];if(o)var y=l?o(m,v,b,t,e,c):o(v,m,b,e,t,c);if(void 0!==y){if(y)continue;f=!1;break}if(g){if(!a(t,(function(e,t){if(!r(g,t)&&(v===e||s(v,e,n,o,c)))return g.push(t)}))){f=!1;break}}else if(v!==m&&!s(v,m,n,o,c)){f=!1;break}}return c.delete(e),c.delete(t),f}},"otv/":function(e,t,n){var i=n("nmnc"),a=i?i.prototype:void 0,r=a?a.valueOf:void 0;e.exports=function(e){return r?Object(r.call(e)):{}}},pSRY:function(e,t,n){var i=n("QkVE");e.exports=function(e){return i(this,e).has(e)}},qPyV:function(e,t,n){var i=n("ut/Y"),a=n("LGYb");e.exports=function(e,t){return e&&e.length?a(e,i(t,2)):[]}},qZTm:function(e,t,n){var i=n("fR/l"),a=n("MvSz"),r=n("7GkX");e.exports=function(e){return i(e,r,a)}},rEGp:function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},rG4v:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n("eNwd"),a=n("gcYM"),r=n("fXoL"),o=n("h586"),c=n("bv9b"),l=function(){var e=function(){function e(t,n,r){var o=this;b(this,e),this.el=t,this.uploadQueue=n,this.cd=r,this.hidden=!0,this.subscription=this.uploadQueue.totalProgress().pipe(Object(a.a)(260,i.a,{leading:!0,trailing:!0})).subscribe((function(e){o.progress=e,o.hidden=100===e||0===o.uploadQueue.count$.value.pending,o.cd.markForCheck()}))}return s(e,[{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Pb(r.m),r.Pb(o.a),r.Pb(r.i))},e.\u0275cmp=r.Jb({type:e,selectors:[["upload-progress-bar"]],hostVars:2,hostBindings:function(e,t){2&e&&r.Hb("hidden",t.hidden)},decls:1,vars:1,consts:[["mode","determinate","color","accent",3,"value"]],template:function(e,t){1&e&&r.Qb(0,"mat-progress-bar",0),2&e&&r.mc("value",t.progress)},directives:[c.a],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0}),e}()},rcZy:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n("3Pt+"),a=n("pLZG"),r=n("lJxs"),o=n("fXoL"),c=n("2hX1"),l=n("ofXK"),u=n("bTqV"),d=n("NFeN"),p=n("Rd8u"),h=n("zW5C");function f(e,t){if(1&e&&(o.Vb(0,"div",6),o.Vb(1,"div",7),o.Kc(2,"Items per page"),o.Ub(),o.Vb(3,"div",8),o.Vb(4,"select",9),o.Vb(5,"option",10),o.Kc(6,"10"),o.Ub(),o.Vb(7,"option",10),o.Kc(8,"15"),o.Ub(),o.Vb(9,"option",10),o.Kc(10,"20"),o.Ub(),o.Vb(11,"option",10),o.Kc(12,"50"),o.Ub(),o.Vb(13,"option",10),o.Kc(14,"100"),o.Ub(),o.Ub(),o.Ub(),o.Ub()),2&e){var n=o.gc();o.Db(4),o.mc("formControl",n.perPageControl),o.Db(1),o.mc("ngValue",10),o.Db(2),o.mc("ngValue",15),o.Db(2),o.mc("ngValue",20),o.Db(2),o.mc("ngValue",50),o.Db(2),o.mc("ngValue",100)}}function g(e,t){if(1&e&&(o.Vb(0,"div",11),o.Kc(1),o.hc(2,"trans"),o.Ub()),2&e){var n=o.gc();o.Db(1),o.Pc(" ",n.from," - ",n.to," ",o.ic(2,4,"of")," ",n.totalRecords," ")}}var v=function(){var e=function(){function e(t,n){b(this,e),this.datable=t,this.cd=n,this.hidePerPage=!1,this.perPageControl=new i.i(15)}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.changeRef=this.datable.paginator.response$.pipe(Object(a.a)((function(e){return!!(null==e?void 0:e.pagination)})),Object(r.a)((function(e){return e.pagination}))).subscribe((function(t){e.to=t.per_page*t.current_page,e.from=e.to-t.per_page||1,e.totalRecords=t.total,e.havePrevious=t.current_page>1,e.haveNext=t.current_page<t.last_page,e.perPageControl.setValue(parseInt(""+t.per_page),{emitEvent:!1}),e.cd.markForCheck()})),this.perPageControl.valueChanges.subscribe((function(t){e.datable.paginator.changePerPage(t)}))}},{key:"ngOnDestroy",value:function(){this.changeRef.unsubscribe(),this.datable.destroy()}},{key:"previousPage",value:function(){this.datable.paginator.previousPage()}},{key:"nextPage",value:function(){this.datable.paginator.nextPage()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Pb(c.a),o.Pb(o.i))},e.\u0275cmp=o.Jb({type:e,selectors:[["datatable-footer"]],inputs:{hidePerPage:"hidePerPage"},decls:9,vars:8,consts:[["class","page-size",4,"ngIf"],[1,"range-actions"],["class","range-label",4,"ngIf"],["type","button","mat-icon-button","",1,"range-button",3,"disabled","click"],["svgIcon","chevron-left"],["svgIcon","chevron-right"],[1,"page-size"],["trans","",1,"page-size-label"],[1,"input-container"],[1,"page-size-input",3,"formControl"],[3,"ngValue"],[1,"range-label"]],template:function(e,t){1&e&&(o.Ic(0,f,15,6,"div",0),o.Vb(1,"div",1),o.Ic(2,g,3,6,"div",2),o.Vb(3,"button",3),o.cc("click",(function(){return t.previousPage()})),o.hc(4,"async"),o.Qb(5,"mat-icon",4),o.Ub(),o.Vb(6,"button",3),o.cc("click",(function(){return t.nextPage()})),o.hc(7,"async"),o.Qb(8,"mat-icon",5),o.Ub(),o.Ub()),2&e&&(o.mc("ngIf",!t.hidePerPage),o.Db(2),o.mc("ngIf",t.from&&t.to&&t.totalRecords),o.Db(1),o.mc("disabled",!t.havePrevious||o.ic(4,4,t.datable.paginator.loading$)),o.Db(3),o.mc("disabled",!t.haveNext||o.ic(7,6,t.datable.paginator.loading$)))},directives:[l.t,u.b,d.a,p.a,i.G,i.u,i.j,i.z,i.J],pipes:[l.b,h.a],styles:["[_nghost-%COMP%]{padding:0 8px;justify-content:flex-end;flex-wrap:wrap-reverse;width:100%;height:56px}.page-size[_ngcontent-%COMP%], [_nghost-%COMP%]{display:flex;align-items:center}.page-size[_ngcontent-%COMP%]{margin-right:8px}.page-size-label[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--be-secondary-text);margin:0 4px}.input-container[_ngcontent-%COMP%]{width:auto}.page-size-input[_ngcontent-%COMP%]{width:60px;height:33px;padding:4px;margin:0 4px}.range-actions[_ngcontent-%COMP%]{display:flex;align-items:center}.range-label[_ngcontent-%COMP%]{margin:0 32px 0 24px;font-size:1.2rem}.range-button[_ngcontent-%COMP%], .range-label[_ngcontent-%COMP%]{color:var(--be-secondary-text)}.range-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:28px;height:28px;line-height:28px}"],changeDetection:0}),e}()},sEf8:function(e,t){e.exports=function(e){return function(t){return e(t)}}},sTxL:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i,a=n("XFMS"),r=n("fXoL"),o=((i=function(){function e(){b(this,e)}return s(e,[{key:"transform",value:function(e){return e?e.includes("youtube")?"https://www.youtube.com/s/desktop/ca54e1bd/img/favicon.ico":function(e){return e?(Object(a.a)(e)||(e=window.location.protocol+"//"+window.location.host),"https://www.google.com/s2/favicons?domain="+new URL(e).origin):null}(e):null}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275pipe=r.Ob({name:"favicon",type:i,pure:!0}),i)},seXi:function(e,t,n){var i=n("qZTm"),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,r,o,s){var c=1&n,l=i(e),u=l.length;if(u!=i(t).length&&!c)return!1;for(var d=u;d--;){var p=l[d];if(!(c?p in t:a.call(t,p)))return!1}var h=s.get(e),b=s.get(t);if(h&&b)return h==t&&b==e;var f=!0;s.set(e,t),s.set(t,e);for(var g=c;++d<u;){var v=e[p=l[d]],m=t[p];if(r)var y=c?r(m,v,p,t,e,s):r(v,m,p,e,t,s);if(!(void 0===y?v===m||o(v,m,n,r,s):y)){f=!1;break}g||(g="constructor"==p)}if(f&&!g){var k=e.constructor,w=t.constructor;k==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof k&&k instanceof k&&"function"==typeof w&&w instanceof w||(f=!1)}return s.delete(e),s.delete(t),f}},shjB:function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},tMB7:function(e,t,n){var i=n("y1pI");e.exports=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}},tadb:function(e,t,n){var i=n("Cwc5")(n("Kz5y"),"DataView");e.exports=i},u8Dt:function(e,t,n){var i=n("YESw"),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(i){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0}},"ut/Y":function(e,t,n){var i=n("ZCpW"),a=n("GDhZ"),r=n("zZ0H"),o=n("Z0cm"),s=n("+c4W");e.exports=function(e){return"function"==typeof e?e:null==e?r:"object"==typeof e?o(e)?a(e[0],e[1]):i(e):s(e)}},"vN+2":function(e,t){e.exports=function(){}},vqOm:function(a,r,o){"use strict";o.r(r),o.d(r,"STATE_HANDLERS",(function(){return xd})),o.d(r,"DriveModule",(function(){return _d}));var l,d,p,f,g,v,m,y,k,w,x,_,O,C,P=o("ofXK"),I=o("tyNb"),j=o("mrSG"),S=o("fXoL"),D=o("AcyG"),E=o("vkgz"),U=o("nYR2"),V=o("TkeJ"),A=o("Y+p1"),M=o.n(A),T=function(){var e=function e(){b(this,e)};return e.type="[Drive] Load User Folders",e}(),F=function(){var e=function e(){b(this,e)};return e.type="[Drive] Load User Space Usage",e}(),L=function(){var e=function e(t){b(this,e),this.folders=t};return e.type="[Drive] Build Folder Tree",e}(),R=function(){var e=function e(t){b(this,e),this.folder=t};return e.type="[Drive] Open Folder",e}(),$=function(){var e=function e(t){b(this,e),this.queryParams=t};return e.type="[Drive] Open Search Page",e}(),N=function(){var e=function e(t){b(this,e),this.entries=t};return e.type="[Drive] Select Entries",e}(),B=function(){var e=function e(){b(this,e)};return e.type="[Drive] Select All Entries",e}(),z=function(){var e=function e(){b(this,e)};return e.type="[Drive] Deselect All Entries",e}(),K=function(){var e=function e(){b(this,e)};return e.type="[Drive] Delete Selected Entries",e}(),Q=function(){var e=function e(){b(this,e)};return e.type="[Drive] Open UploadsApiService Panel",e}(),W=function(){var e=function e(){b(this,e)};return e.type="[Drive] Close UploadsApiService Panel",e}(),H=function(){var e=function e(t){b(this,e),this.entries=t};return e.type="[Drive] Add Entries",e}(),X=function(){var e=function e(t,n){b(this,e),this.destination=t,this.entries=n};return e.type="[Drive API] Move Entries",e}(),Z=function(){var e=function e(t,n,i){b(this,e),this.dialog=t,this.data=n,this.config=i};return e.type="[Drive] Open Dialog",e}(),J=function(){var e=function e(t,n){b(this,e),this.data=t,this.confirmAction=n};return e.type="[Drive] Open Confirm Dialog",e}(),q=function(){var e=function e(t){b(this,e),this.mode=t};return e.type="[Drive] Set View Mode",e}(),G=function(){var e=function e(){b(this,e)};return e.type="[Drive] Toggle Details",e}(),Y=function(){var e=function e(){b(this,e)};return e.type="[Drive] Toggle Sidebar",e}(),ee=function(){var e=function e(t){b(this,e),this.files=t};return e.type="[Drive] Upload Files",e}(),te=function(){var e=function e(t){b(this,e),this.entries=t};return e.type="[Drive] Restore Trashed Entries",e}(),ne=function(){var e=function e(){b(this,e)};return e.type="[Drive] Delete Trashed Entries Forever",e}(),ie=function(){var e=function e(){b(this,e)};return e.type="[Drive] Empty Trash",e}(),ae=function(){var e=function e(t){b(this,e),this.entries=t};return e.type="[Drive] Open File Preview Overlay",e}(),re=function(){var e=function e(t,n,i){b(this,e),this.entries=t,this.link=n,this.password=i};return e.type="[Drive] Download Files",e}(),oe=function(){var e=function e(t){b(this,e),this.entries=t};return e.type="[Drive] Add a Star",e}(),se=function(){var e=function e(t){b(this,e),this.entries=t};return e.type="[Drive] Remove Star",e}(),ce=function(){var e=function e(t){b(this,e),this.entries=t};return e.type="[Drive] Remove Entries",e}(),le=function(){var e=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};b(this,e),this.queryParams=t,this.loadMore=!0};return e.type="[Drive Infinite Scroll] Load More Entries",e}(),ue=function(){var e=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;b(this,e),this.queryParams=t,this.page=n};return e.type="[Drive] Reload Page Entries",e}(),de=function(){var e=function e(){b(this,e)};return e.type="[Drive] Copy Selected Entries",e}(),pe=function(){var e=function e(t){b(this,e),this.type=t};return e.type="[Drive] Open Upload Window",e}(),he=function(){var e=function e(t){b(this,e),this.message=t};return e.type="[Drive] Show Loading Toast",e}(),be=function(){var e=function e(){b(this,e)};return e.type="[Drive] Hide Loading Toast",e}(),fe=function(){var e=function e(){b(this,e)};return e.type="[Drive] Reset State",e}(),ge=function(){var e=function e(t){b(this,e),this.entries=t};return e.type="[Drive] Update Entries",e}(),ve=function(){var e=function e(t){b(this,e),this.user=t};return e.type="[Drive] Set Current User",e}(),me=function(){var e=function e(t){b(this,e),this.workspace=t};return e.type="[Drive] Set Workspace",e}(),ye=function(){var e=function e(t,n){b(this,e),this.entry=t,this.description=n};return e.type="[Drive] Update Entry Description",e}(),ke=function e(t){var n=this;b(this,e),this.name=null,this.viewName=null,this.folder=null,this.folderHash=null,this.hasActions=!1,this.sortColumn="updated_at",this.sortDirection="desc",this.queryParams={},Object.keys(t).forEach((function(e){n[e]=t[e]}))},we=new ke({name:"recent",viewName:"Recent",disableSort:!0,sortColumn:"created_at",sortDirection:"desc",queryParams:{recentOnly:!0}}),xe=new ke({name:"search",viewName:"Search results"}),_e=new ke({name:"shares",viewName:"Shared",queryParams:{sharedOnly:!0}}),Oe=new ke({name:"trash",viewName:"Trash",hasActions:!0,queryParams:{deletedOnly:!0}}),Ce=new ke({name:"workspaces",viewName:"Workspaces"}),Pe=new ke({name:"starred",viewName:"Starred",queryParams:{starredOnly:!0}}),Ie=function(e){c(n,e);var t=u(n);function n(e){return b(this,n),t.call(this,{name:"folder",viewName:null==e?void 0:e.name,folder:e,folderHash:null==e?void 0:e.hash,hasActions:!0})}return n}(ke),je=((m=function e(){b(this,e),this.page=we,this.queryParams={orderBy:"created_at",recentOnly:!0}}).type="[Drive] Recent Entries Page Opened",m),Se=((v=function e(t){b(this,e),this.queryParams={},this.page=new Ie({hash:t})}).type="[Drive] Folder Page Opened",v),De=((g=function e(){b(this,e),this.page=_e,this.queryParams={sharedOnly:!0}}).type="[Drive] Shared folder opened",g),Ee=((f=function e(){b(this,e),this.page=Oe,this.queryParams={deletedOnly:!0}}).type="[Drive] Trash Page Opened",f),Ue=((p=function e(){b(this,e),this.page=Ce}).type="[Drive] Workspaces Index Page Opened",p),Ve=((d=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};b(this,e),this.queryParams=t,this.page=xe}).type="[Drive] Search Page Opened",d),Ae=((l=function e(){b(this,e),this.page=Pe,this.queryParams={starredOnly:!0}}).type="[Drive] Starred Entries Page Opened",l),Me=function(){var e=function e(t){b(this,e),this.entries=t};return e.type="[Drive] Entries Selected Via Drag",e}(),Te=function(){var e=function e(t){b(this,e),this.entries=t};return e.type="[Drive] File Selected Via ContextMenu",e}(),Fe=function(){var e=function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];b(this,e),this.entry=t,this.ctrlKey=n};return e.type="[Drive] User Tapped File",e}(),Le=function(){var e=function e(t){b(this,e),this.entry=t};return e.type="[Drive] User Double Tapped Entry",e}(),Re=function(){var e=function e(t){b(this,e),this.deletedFiles=t};return e.type="[Drive] Successfully Deleted Files",e}(),$e=function(){var e=function e(t){b(this,e),this.entry=t};return e.type="[Drive] Entry Context Menu Opened",e}(),Ne=function(){var e=function e(t){b(this,e),this.folder=t};return e.type="[Drive] New Folder Created",e}(),Be=function(){var e=function e(t,n){b(this,e),this.entry=t,this.newName=n};return e.type="[Drive] Entry Renamed",e}(),ze=function(){var e=function e(){b(this,e)};return e.type="[Drive] Started Dragging",e}(),Ke=function(){var e=function e(){b(this,e)};return e.type="[Drive] Stopped Dragging",e}(),Qe=function(){var e=function e(t,n,i){b(this,e),this.destination=t,this.oldLocation=n,this.entries=i};return e.type="[Drive API] Move Entries Success",e}(),We=function(){var e=function e(t){b(this,e),this.messages=t};return e.type="[Drive API] Move Entries Failed",e}(),He=function(){var e=function e(t){b(this,e),this.entries=t};return e.type="[Drive API] Trashed Entries Delete Forever Success",e}(),Xe=function(){var e=function e(t){b(this,e),this.entries=t};return e.type="[Drive API] Trashed Entries Restore Success",e}(),Ze=function(){var e=function e(){b(this,e)};return e.type="[Drive] Not Enough Space Error",e}(),Je=function(){var e=function e(){b(this,e)};return e.type="[Drive] User Space Usage Changed",e}(),qe=function(){var e=function e(t){b(this,e),this.status=t};return e.type="[Drive] BreakpointChanged",e}(),Ge={isMobile:!1,activePage:null,folderTree:[],flatFolders:[],userFoldersLoaded:!1,entries:[],selectedEntries:[],dragging:!1,loading:!1,uploadsPanelOpen:!1,viewMode:"grid",detailsVisible:!0,sidebarOpen:!0,currentUser:null,activeWorkspace:null,spaceUsage:{available:null,used:null},meta:{sortColumn:"updated_at",sortDirection:"desc",currentPage:0,lastPage:0}},Ye=o("Lm4C"),et=function(e){return e.copyEntries="Copying items...",e.emptyTrash="Emptying trash...",e.moveEntries="Moving items...",e}({}),tt=new S.s("DRIVE_UPLOAD_INPUT_CONFIG"),nt=o("Nk+Q"),it=function(e){return e.GET_ALL="drive/folders",e.CREATE="drive/folders",e}({}),at=o("LRXf"),rt=o("twBr"),ot=((w=function(){function e(t,n){b(this,e),this.http=t,this.currentUser=n}return s(e,[{key:"getAll",value:function(e){return this.http.get(it.GET_ALL,e)}},{key:"getAllForCurrentUser",value:function(){return this.http.get("drive/users/"+this.currentUser.get("id")+"/folders")}},{key:"create",value:function(e){return this.http.post(it.CREATE,e)}},{key:"getByHash",value:function(e){return this.http.get("drive/folders/find",{hash:e})}}]),e}()).\u0275fac=function(e){return new(e||w)(S.Zb(at.a),S.Zb(rt.a))},w.\u0275prov=S.Lb({token:w,factory:w.\u0275fac,providedIn:"root"}),w),st=((k=function(){function e(t,n){b(this,e),this.http=t,this.currentUser=n}return s(e,[{key:"getEntriesForFolder",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.get("drive/entries",e)}},{key:"getCurrentUserEntries",value:function(e){return e.userId=this.currentUser.get("id"),this.http.get("drive/entries",e)}},{key:"update",value:function(e,t){return this.http.put("uploads/"+e,t)}},{key:"delete",value:function(e){return this.http.delete("drive/entries",e)}},{key:"copy",value:function(e){return this.http.post("drive/entries/copy",e)}},{key:"restore",value:function(e){return this.http.post("drive/entries/restore",e)}},{key:"emptyTrash",value:function(){return this.delete({emptyTrash:!0})}},{key:"moveEntries",value:function(e){return this.http.post("drive/entries/move",e)}},{key:"addStar",value:function(e){return this.http.post("drive/entries/star",{entryIds:e})}},{key:"removeStar",value:function(e){return this.http.post("drive/entries/unstar",{entryIds:e})}},{key:"getSpaceUsage",value:function(){return this.http.get("drive/user/space-usage")}}]),e}()).\u0275fac=function(e){return new(e||k)(S.Zb(at.a),S.Zb(rt.a))},k.\u0275prov=S.Lb({token:k,factory:k.\u0275fac,providedIn:"root"}),k),ct=((y=function(){function e(){b(this,e)}return s(e,[{key:"driveRoot",value:function(){return"/drive"}},{key:"folder",value:function(e){return(null==e?void 0:e.id)?"/drive/folders/"+e.hash:this.driveRoot()}}]),e}()).\u0275fac=function(e){return new(e||y)},y.\u0275prov=S.Lb({token:y,factory:y.\u0275fac,providedIn:"root"}),y),lt=o("h586"),ut=o("ahrr"),dt=o("sJvS"),pt=o("tU2R"),ht=o("PCqb"),bt=o("6JEN"),ft=o("PUEP"),gt=((x=function(e){c(n,e);var t=u(n);function n(){var e;return b(this,n),(e=t.apply(this,arguments)).DEFAULT_MAX_FILE_SIZE_MB=8,e}return s(n,[{key:"initValidations",value:function(){this.validations.push(new pt.a({maxSize:this.getMaxFileSize()},this.i18n));var e=this.getAllowedExtensions(),t=this.getBlockedExtensions();e&&e.length&&this.validations.push(new bt.a({extensions:e},this.i18n)),t&&t.length&&this.validations.push(new ft.a({extensions:t},this.i18n))}},{key:"getMaxFileSize",value:function(){return this.settings.get("uploads.max_size",Object(ht.a)(this.DEFAULT_MAX_FILE_SIZE_MB,"MB"))}},{key:"getAllowedExtensions",value:function(){return this.settings.getJson("uploads.allowed_extensions")}},{key:"getBlockedExtensions",value:function(){return this.settings.getJson("uploads.blocked_extensions")}}]),n}(dt.a)).\u0275fac=function(e){return vt(e||x)},x.\u0275prov=S.Lb({token:x,factory:x.\u0275fac,providedIn:"root"}),x),vt=S.Xb(gt),mt=o("VxIU"),yt=o("i2dy"),kt=((O=_=function(){function e(t,n,i,a,r,o,s,c,l,u,d){b(this,e),this.foldersApi=t,this.entriesApi=n,this.router=i,this.driveUrls=a,this.uploads=r,this.store=o,this.localStore=s,this.validator=c,this.workspaces=l,this.toast=u,this.uploadInputConfig=d}return s(e,[{key:"loadUserFolders",value:function(e){return this.foldersApi.getAllForCurrentUser().pipe(Object(E.a)((function(t){return e.patchState({rootFolder:t.rootFolder}),e.dispatch(new L(t.folders))})))}},{key:"buildFolderTree",value:function(e,t){var n=t.folders||e.getState().flatFolders,i=function(e){for(var t={},n=[],i=0,a=e.length;i<a;i++){var r=e[i];r.children=[],t[r.id]=r}for(var o in t)if(t.hasOwnProperty(o)){var s=t[o];if(s.parent_id){var c=t[s.parent_id];c&&c.children.push(s)}else n.push(s)}return n}(n);e.patchState({folderTree:i,flatFolders:n,userFoldersLoaded:!0})}},{key:"workspacesIndexPageOpened",value:function(e,t){e.patchState({activePage:t.page})}},{key:"loadDriveEntries",value:function(e,t){var n=e.getState(),i={loading:!0,meta:Object.assign({},n.meta)};i.activePage=t.page?t.page:n.activePage,i.meta.sortColumn=t.queryParams.orderBy||n.meta.sortColumn||i.activePage.sortColumn,i.meta.sortDirection=t.queryParams.orderDir||n.meta.sortDirection||i.activePage.sortDirection,"search"!==i.activePage.name&&(i.meta.query=null,i.meta.type=null),i.meta.query=t.queryParams.query||i.meta.query,i.meta.type=t.queryParams.type||i.meta.type,e.patchState(i);var a=this.transformQueryParams(Object.assign(Object.assign({},t.queryParams),i.activePage.queryParams));return this.entriesApi.getEntriesForFolder(a).pipe(Object(E.a)((function(a){var r={entries:(t.loadMore?n.entries:[]).concat(a.data),meta:Object.assign(Object.assign({},i.meta),{lastPage:a.last_page,currentPage:a.current_page}),loading:!1};return r.activePage=Object.assign(Object.assign({},i.activePage),{folder:a.folder}),e.patchState(r)}),(function(){return e.patchState({loading:!1})})))}},{key:"openFolder",value:function(e,t){var n=e.getState().activePage.folder;if(!n||t.folder.id!==n.id)return t.folder&&t.folder.deleted_at?e.dispatch(new J({title:"Folder is in trash",body:"To view this folder, you need to restore it first.",ok:"Restore"},new te([t.folder]))):(e.patchState({loading:!0}),this.router.navigate([this.driveUrls.folder(t.folder)]))}},{key:"openSearchPage",value:function(e,t){var n=this.store.selectSnapshot(V.d.state).root.queryParams;if(!M()(n,t.queryParams))return e.patchState({loading:!0}),this.router.navigate(["/drive/search"],{queryParams:t.queryParams})}},{key:"selectEntries",value:function(e,t){e.patchState({selectedEntries:t.entries})}},{key:"deselectAllEntries",value:function(e){e.getState().selectedEntries.length&&e.patchState({selectedEntries:[]})}},{key:"SelectAllEntries",value:function(e){e.patchState({selectedEntries:e.getState().entries.slice()})}},{key:"entryTapped",value:function(e,t){var n=e.getState().selectedEntries.slice(),a=!1,r=n.findIndex((function(e){return e.id===t.entry.id}));r>-1&&(n.splice(r,1),a=!0),e.patchState(t.ctrlKey?a?{selectedEntries:n}:{selectedEntries:[].concat(i(n),[t.entry])}:{selectedEntries:[t.entry]}),e.getState().isMobile&&this.entryDoubleTapped(e,t)}},{key:"entryDoubleTapped",value:function(e,t){return e.dispatch("folder"===t.entry.type?new R(t.entry):new ae([t.entry]))}},{key:"deleteSelectedEntries",value:function(e){var t=this,n=this.store.selectSnapshot(_.selectedEntries),i=this.store.selectSnapshot(_.selectedEntryIds),a=this.store.selectSnapshot(_.flatFolders),r=e.getState().activePage;return this.entriesApi.delete({entryIds:i}).pipe(Object(E.a)((function(){var o={entries:e.getState().entries.filter((function(e){return-1===i.indexOf(e.id)}))},s=[new Re(n)];o.selectedEntries=[],r.folder&&i.indexOf(r.folder.id)>-1&&t.store.dispatch(new R(t.store.selectSnapshot(_.selectedEntryParent)));var c=n.filter((function(e){return"folder"===e.type}));return c.length&&(c.forEach((function(e){return delete a[e.id]})),o.flatFolders=a,s.push(new L)),e.patchState(o),e.dispatch(s)})))}},{key:"fileContextMenuOpened",value:function(e,t){var n;if(null===(n=null==t?void 0:t.entry)||void 0===n?void 0:n.id)return e.getState().selectedEntries.find((function(e){return e.id===t.entry.id}))?void 0:e.dispatch(new Te([t.entry]))}},{key:"newFolderCreated",value:function(e,t){var n=e.getState(),a={flatFolders:[].concat(i(n.flatFolders),[t.folder])};return t.folder.parent_id===n.activePage.folder.id&&(a.entries=[t.folder].concat(i(n.entries))),e.patchState(a),e.dispatch(new L)}},{key:"entryRenamed",value:function(e,t){var n=e.getState(),i={entries:n.entries.slice()},a=i.entries.findIndex((function(e){return e.id===t.entry.id}));if(a>-1&&(i.entries[a]=Object.assign(Object.assign({},i.entries[a]),{name:t.newName})),i.selectedEntries=[Object.assign(Object.assign({},n.selectedEntries[0]),{name:t.newName})],n.activePage.folder&&n.activePage.folder.id===t.entry.id&&(i.activePage=Object.assign(Object.assign({},n.activePage),{folder:t.entry})),"folder"===t.entry.type){var r=Object.assign({},n.flatFolders);r[t.entry.id]=Object.assign(Object.assign({},r[t.entry.id]),{name:t.newName}),i.flatFolders=r,e.dispatch(new L)}e.patchState(i)}},{key:"startedDragging",value:function(e){e.patchState({dragging:!0})}},{key:"stoppedDragging",value:function(e){e.patchState({dragging:!1})}},{key:"movieEntries",value:function(e,t){var n,i=t.entries||e.getState().selectedEntries;if(_.canMoveEntriesTo(i,t.destination)){e.dispatch(new he(et.moveEntries));var a=i[0].parent_id;return this.entriesApi.moveEntries({entryIds:i.map((function(e){return e.id})),destination:null===(n=t.destination)||void 0===n?void 0:n.id}).pipe(Object(U.a)((function(){return e.dispatch(new be)})),Object(E.a)((function(n){var i;return e.dispatch(new Qe(null===(i=t.destination)||void 0===i?void 0:i.id,a,n.entries))}),(function(t){return e.dispatch(new We(t.errors))})))}}},{key:"moveEntriesSuccess",value:function(e,t){var n=e.getState(),i=t.entries.map((function(e){return e.id})),a=t.entries.filter((function(e){return"folder"===e.type})),r={selectedEntries:[],entries:n.entries.filter((function(e){return-1===i.indexOf(e.id)}))};if(a.length&&(r.flatFolders=Object.assign({},n.flatFolders),t.entries.filter((function(e){return"folder"===e.type})).forEach((function(e){return r.flatFolders[e.id]=e}))),n.activePage.folder){var o=t.entries.find((function(e){return n.activePage.folder.id===e.id}));o&&(r.activePage=Object.assign(Object.assign({},n.activePage),{folder:o}))}return e.patchState(r),e.dispatch(new L)}},{key:"setViewMode",value:function(e,t){this.localStore.set("bedrive.viewMode",t.mode),e.patchState({viewMode:t.mode})}},{key:"toggleDetailsSidebar",value:function(e){e.patchState({detailsVisible:!e.getState().detailsVisible})}},{key:"toggleSidebar",value:function(e){e.patchState({sidebarOpen:!e.getState().sidebarOpen})}},{key:"addEntries",value:function(e,t){var n=e.getState().entries,a=e.getState().spaceUsage,r=t.entries.filter((function(e){return!n.find((function(t){return t.id===e.id}))})),o=r.filter((function(e){return"folder"!==e.type})).reduce((function(e,t){return e+t.file_size}),0);e.patchState({entries:[].concat(i(r),i(n)),spaceUsage:Object.assign(Object.assign({},a),{used:a.used+o})})}},{key:"uploadFiles",value:function(e,t){if(!this.enoughSpaceLeftToUpload(e.getState().spaceUsage,t.files))return e.dispatch(new Ze);if(t.files.length){e.dispatch(new Q);var n=e.getState().activePage.folder.id||null;return this.uploads.start(t.files,{httpParams:{parentId:n},validator:this.validator}).pipe(Object(E.a)((function(t){var a=[].concat(i(t.fileEntry.all_parents),[t.fileEntry]),r=a.filter((function(e){return e&&e.parent_id===n})),o=e.getState().activePage;o.folder&&o.folder.id===n&&e.dispatch(new H(r));var s=a.filter((function(e){return e&&"folder"===e.type}));if(s.length){var c=[].concat(i(e.getState().flatFolders),i(s));e.patchState({flatFolders:c}),e.dispatch(new L)}})))}}},{key:"deleteTrashedEntriesForever",value:function(e){var t=this.store.selectSnapshot(_.selectedEntries),n=t.map((function(e){return e.id})),i=e.getState().entries.filter((function(e){return-1===n.indexOf(e.id)}));return this.entriesApi.delete({entryIds:n,deleteForever:!0}).pipe(Object(E.a)((function(){return e.patchState({entries:i,selectedEntries:[]}),e.dispatch([new He(t),new Je])})))}},{key:"restoreTrashedEntries",value:function(e,t){var n,a=this.store.selectSnapshot(_.activePage),r=t.entries||this.store.selectSnapshot(_.selectedEntries),o=r.map((function(e){return e.id}));return n=a.name===Oe.name?e.getState().entries.filter((function(e){return-1===o.indexOf(e.id)})):[].concat(i(e.getState().entries),i(t.entries)),this.entriesApi.restore({entryIds:o}).pipe(Object(E.a)((function(){return e.patchState({entries:n,selectedEntries:[]}),e.dispatch(new Xe(r))})))}},{key:"emptyTrash",value:function(e){return e.dispatch(new he(et.emptyTrash)),this.entriesApi.emptyTrash().pipe(Object(U.a)((function(){return e.dispatch(new be)})),Object(E.a)((function(){return e.patchState({entries:[],selectedEntries:[]}),e.dispatch(new Je)})))}},{key:"addStar",value:function(e,t){var n=e.getState(),i=t.entries.map((function(e){return e.id}));return this.entriesApi.addStar(i).pipe(Object(E.a)((function(t){var a=n.entries.map((function(e){return i.indexOf(e.id)>-1&&(e.tags||(e.tags=[]),e.tags.push(t.tag)),e})),r=n.selectedEntries.map((function(e){return e.tags.push(t.tag),e}));e.patchState({entries:a,selectedEntries:r})})))}},{key:"removeStar",value:function(e,t){var n=this,i=e.getState(),a=t.entries.map((function(e){return e.id}));return this.entriesApi.removeStar(a).pipe(Object(E.a)((function(t){var r=i.entries.map((function(e){return a.indexOf(e.id)>-1&&n.removeTag(e,t.tag),e})),o=i.selectedEntries.map((function(e){return n.removeTag(e,t.tag)}));e.patchState({entries:r,selectedEntries:o})})))}},{key:"removeEntries",value:function(e,t){var n=t.entries.map((function(e){return e.id})),i=e.getState().entries.filter((function(e){return-1===n.indexOf(e.id)}));e.patchState({entries:i}),this.toast.open({message:"Removed :count items.",replacements:{count:n.length}})}},{key:"copySelectedEntries",value:function(e){var t=this,n=this.store.selectSnapshot(_.selectedEntries),i=n.map((function(e){return e.id})),a=n.filter((function(e){return"folder"===e.type})),r=e.getState();return this.enoughSpaceLeftToUpload(e.getState().spaceUsage,n)?(e.dispatch(new he(et.copyEntries)),this.entriesApi.copy({entryIds:i}).pipe(Object(U.a)((function(){return e.dispatch(new be)})),Object(E.a)((function(n){var o={};e.getState().activePage.folder&&(o.entries=r.entries.concat(n.entries)),a.length&&(o.flatFolders=Object.assign({},r.flatFolders),n.entries.filter((function(e){return"folder"===e.type})).forEach((function(e){return o.flatFolders.push(e)}))),e.patchState(o),e.dispatch(new Je),a.length&&e.dispatch(new L);var s=t.store.selectSnapshot(_.activePage);t.toast.open({message:"Copied :count file(s) into :location.",replacements:{count:i.length,location:"shares"===s.name?t.workspaces.activeWorkspace$.value.name+" workspace":s.folder.name}})})))):e.dispatch(new Ze)}},{key:"openUploadWindow",value:function(e,t){var n=Object.assign(Object.assign({},this.uploadInputConfig),{directory:"directory"===t.type});Object(Ye.a)(n).then((function(t){t&&t.length&&e.dispatch(new ee(t))}))}},{key:"loadUserSpaceUsage",value:function(e){return this.entriesApi.getSpaceUsage().pipe(Object(E.a)((function(t){e.patchState({spaceUsage:{used:t.used,available:t.available}})})))}},{key:"updateEntries",value:function(e,t){var n=e.getState().entries.slice(),i=e.getState().selectedEntries.slice();t.entries.forEach((function(e){var t=n.findIndex((function(t){return e.id===t.id}));n[t]=Object.assign(Object.assign({},n[t]),e);var a=i.findIndex((function(t){return e.id===t.id}));a>-1&&(i[a]=Object.assign(Object.assign({},i[a]),e))})),e.patchState({entries:n,selectedEntries:i})}},{key:"updateEntryDescription",value:function(e,t){var n=t.entry,i=t.description;return this.entriesApi.update(n.id,{description:i}).pipe(Object(E.a)((function(t){e.dispatch(new ge([t.fileEntry]))})))}},{key:"breakpointChanged",value:function(e,t){e.patchState({isMobile:t.status.isMobile,sidebarOpen:!t.status.isMobile,detailsVisible:!t.status.isMobile})}},{key:"setCurrentUser",value:function(e,t){e.patchState({currentUser:t.user})}},{key:"setWorkspace",value:function(e,t){e.patchState({activeWorkspace:t.workspace})}},{key:"resetState",value:function(e){e.setState(Object.assign(Object.assign({},Ge),{viewMode:e.getState().viewMode}))}},{key:"transformQueryParams",value:function(e){var t=this.store.selectSnapshot(_.activePage),n=this.store.selectSnapshot(_.meta),i=Object.assign({orderBy:n.sortColumn,orderDir:n.sortDirection},e);return"folder"===t.name&&(i.folderId=t.folderHash),n.query&&(i.query=n.query),n.type&&(i.type=n.type),i}},{key:"enoughSpaceLeftToUpload",value:function(e,t){return t.reduce((function(e,t){return e+(Object(nt.a)("size",t)?t.size:t.file_size)}),0)+e.used<e.available}},{key:"removeTag",value:function(e,t){return e.tags=e.tags.filter((function(e){return e.id!==t.id})),e}}],[{key:"flatFolders",value:function(e){return e.flatFolders}},{key:"userFoldersLoaded",value:function(e){return e.userFoldersLoaded}},{key:"activePage",value:function(e){return e.activePage}},{key:"activePageName",value:function(e){return e.activePage.name}},{key:"userFolders",value:function(e){return e.folderTree}},{key:"selectedEntries",value:function(e){return e.selectedEntries}},{key:"selectedEntryIds",value:function(e,t){return t.map((function(e){return e.id}))}},{key:"selectedEntry",value:function(e,t){return t?t[t.length-1]:null}},{key:"selectedEntryOrActiveFolder",value:function(e,t){return t||e.activePage.folder}},{key:"selectedEntryParent",value:function(e,t,n){return t&&n&&t.parent_id?n.find((function(e){return e.id===t.parent_id})):e.rootFolder}},{key:"anythingSelected",value:function(e,t){return t.length>0}},{key:"allSelectedEntriesStarred",value:function(e,t){return t.every((function(e){return!!e.tags.find((function(e){return"starred"===e.name}))}))}},{key:"onlyFoldersSelected",value:function(e,t){return t.every((function(e){return"folder"===e.type}))}},{key:"entries",value:function(e){return e.entries}},{key:"entriesEmpty",value:function(e){return e.meta.currentPage&&!e.loading&&0===e.entries.length}},{key:"multipleEntriesSelected",value:function(e,t){return t.length>1}},{key:"activeFolder",value:function(e){return e.activePage.folder}},{key:"rootFolder",value:function(e){return e.rootFolder}},{key:"meta",value:function(e){return e.meta}},{key:"dragging",value:function(e){return e.dragging}},{key:"loading",value:function(e){return e.loading}},{key:"currentPage",value:function(e){return e.meta.currentPage}},{key:"viewMode",value:function(e){return e.viewMode}},{key:"detailsOpen",value:function(e){return e.detailsVisible}},{key:"sidebarOpen",value:function(e){return e.sidebarOpen}},{key:"sortColumn",value:function(e){return e.meta.sortColumn}},{key:"sortDirection",value:function(e){return e.meta.sortDirection}},{key:"canLoadMoreEntries",value:function(e){return e.meta.currentPage<e.meta.lastPage}},{key:"userSpaceUsed",value:function(e){return e.spaceUsage.used}},{key:"userSpaceAvailable",value:function(e){return e.spaceUsage.available}},{key:"spaceUsedPercent",value:function(e,t,n){return null===n?0:100*t/n}},{key:"isMobile",value:function(e){return e.isMobile}},{key:"userHasPermission",value:function(e,t,n){if(!t||!n)return!1;var i=t.users.find((function(e){return e.id===n.id}));return!(!i.owns_entry&&!i.entry_permissions[e])||void 0}},{key:"currentUser",value:function(e){return e.currentUser}},{key:"activeWorkspace",value:function(e){return e.activeWorkspace}},{key:"userOwnsActiveFolder",value:function(e,t,n){return _.userHasPermission("owner",t,n)}},{key:"userOwnsSelectedEntries",value:function(e,t,n){return t.every((function(e){return _.userHasPermission("owner",e,n)}))}},{key:"userCanEditSelectedEntries",value:function(e,t,n){return t.every((function(e){var t=e.users.find((function(e){return e.id===n.id}));return t&&(t.owns_entry||t.entry_permissions.edit)}))}},{key:"canUpload",value:function(e,t,n,i){if(!t.folder||!n||!i)return!1;if((null==i?void 0:i.id)&&t.folder.workspace_id===i.id){var a=i.currentUser;return a&&(a.is_owner||a.permissions.findIndex((function(e){return"files.create"===e.name}))>-1)}return _.userHasPermission("edit",t.folder,n)}},{key:"canMoveEntriesTo",value:function(e,t){return(!t||"folder"===t.type)&&e.every((function(e){return!((null==t?void 0:t.id)===e.parent_id||t&&t.path.startsWith(e.path))}))}}]),e}()).\u0275fac=function(e){return new(e||O)(S.Zb(ot),S.Zb(st),S.Zb(I.g),S.Zb(ct),S.Zb(lt.a),S.Zb(D.g),S.Zb(ut.a),S.Zb(gt),S.Zb(mt.a),S.Zb(yt.b),S.Zb(tt))},O.\u0275prov=S.Lb({token:O,factory:O.\u0275fac}),Object(j.b)([Object(D.a)(T)],O.prototype,"loadUserFolders",null),Object(j.b)([Object(D.a)(L)],O.prototype,"buildFolderTree",null),Object(j.b)([Object(D.a)(Ue)],O.prototype,"workspacesIndexPageOpened",null),Object(j.b)([Object(D.a)(Se),Object(D.a)(je),Object(D.a)(Ee),Object(D.a)(Ae),Object(D.a)(Ve),Object(D.a)(De),Object(D.a)(ue),Object(D.a)(le)],O.prototype,"loadDriveEntries",null),Object(j.b)([Object(D.a)(R,{cancelUncompleted:!0})],O.prototype,"openFolder",null),Object(j.b)([Object(D.a)($,{cancelUncompleted:!0})],O.prototype,"openSearchPage",null),Object(j.b)([Object(D.a)(Me),Object(D.a)(Te),Object(D.a)(N)],O.prototype,"selectEntries",null),Object(j.b)([Object(D.a)(z)],O.prototype,"deselectAllEntries",null),Object(j.b)([Object(D.a)(B)],O.prototype,"SelectAllEntries",null),Object(j.b)([Object(D.a)(Fe)],O.prototype,"entryTapped",null),Object(j.b)([Object(D.a)(Le)],O.prototype,"entryDoubleTapped",null),Object(j.b)([Object(D.a)(K)],O.prototype,"deleteSelectedEntries",null),Object(j.b)([Object(D.a)($e)],O.prototype,"fileContextMenuOpened",null),Object(j.b)([Object(D.a)(Ne)],O.prototype,"newFolderCreated",null),Object(j.b)([Object(D.a)(Be)],O.prototype,"entryRenamed",null),Object(j.b)([Object(D.a)(ze)],O.prototype,"startedDragging",null),Object(j.b)([Object(D.a)(Ke)],O.prototype,"stoppedDragging",null),Object(j.b)([Object(D.a)(X)],O.prototype,"movieEntries",null),Object(j.b)([Object(D.a)(Qe)],O.prototype,"moveEntriesSuccess",null),Object(j.b)([Object(D.a)(q)],O.prototype,"setViewMode",null),Object(j.b)([Object(D.a)(G)],O.prototype,"toggleDetailsSidebar",null),Object(j.b)([Object(D.a)(Y)],O.prototype,"toggleSidebar",null),Object(j.b)([Object(D.a)(H)],O.prototype,"addEntries",null),Object(j.b)([Object(D.a)(ee)],O.prototype,"uploadFiles",null),Object(j.b)([Object(D.a)(ne)],O.prototype,"deleteTrashedEntriesForever",null),Object(j.b)([Object(D.a)(te)],O.prototype,"restoreTrashedEntries",null),Object(j.b)([Object(D.a)(ie,{cancelUncompleted:!0})],O.prototype,"emptyTrash",null),Object(j.b)([Object(D.a)(oe,{cancelUncompleted:!0})],O.prototype,"addStar",null),Object(j.b)([Object(D.a)(se,{cancelUncompleted:!0})],O.prototype,"removeStar",null),Object(j.b)([Object(D.a)(ce)],O.prototype,"removeEntries",null),Object(j.b)([Object(D.a)(de)],O.prototype,"copySelectedEntries",null),Object(j.b)([Object(D.a)(pe)],O.prototype,"openUploadWindow",null),Object(j.b)([Object(D.a)(F),Object(D.a)(Je)],O.prototype,"loadUserSpaceUsage",null),Object(j.b)([Object(D.a)(ge)],O.prototype,"updateEntries",null),Object(j.b)([Object(D.a)(ye)],O.prototype,"updateEntryDescription",null),Object(j.b)([Object(D.a)(qe)],O.prototype,"breakpointChanged",null),Object(j.b)([Object(D.a)(ve)],O.prototype,"setCurrentUser",null),Object(j.b)([Object(D.a)(me)],O.prototype,"setWorkspace",null),Object(j.b)([Object(D.a)(fe)],O.prototype,"resetState",null),Object(j.b)([Object(D.e)()],O,"flatFolders",null),Object(j.b)([Object(D.e)()],O,"userFoldersLoaded",null),Object(j.b)([Object(D.e)()],O,"activePage",null),Object(j.b)([Object(D.e)()],O,"activePageName",null),Object(j.b)([Object(D.e)()],O,"userFolders",null),Object(j.b)([Object(D.e)()],O,"selectedEntries",null),Object(j.b)([Object(D.e)([_.selectedEntries])],O,"selectedEntryIds",null),Object(j.b)([Object(D.e)([_.selectedEntries])],O,"selectedEntry",null),Object(j.b)([Object(D.e)([_.selectedEntry])],O,"selectedEntryOrActiveFolder",null),Object(j.b)([Object(D.e)([_.selectedEntryOrActiveFolder,_.flatFolders])],O,"selectedEntryParent",null),Object(j.b)([Object(D.e)([_.selectedEntries])],O,"anythingSelected",null),Object(j.b)([Object(D.e)([_.selectedEntries])],O,"allSelectedEntriesStarred",null),Object(j.b)([Object(D.e)([_.selectedEntries])],O,"onlyFoldersSelected",null),Object(j.b)([Object(D.e)()],O,"entries",null),Object(j.b)([Object(D.e)()],O,"entriesEmpty",null),Object(j.b)([Object(D.e)([_.selectedEntries])],O,"multipleEntriesSelected",null),Object(j.b)([Object(D.e)()],O,"activeFolder",null),Object(j.b)([Object(D.e)()],O,"rootFolder",null),Object(j.b)([Object(D.e)()],O,"meta",null),Object(j.b)([Object(D.e)()],O,"dragging",null),Object(j.b)([Object(D.e)()],O,"loading",null),Object(j.b)([Object(D.e)()],O,"currentPage",null),Object(j.b)([Object(D.e)()],O,"viewMode",null),Object(j.b)([Object(D.e)()],O,"detailsOpen",null),Object(j.b)([Object(D.e)()],O,"sidebarOpen",null),Object(j.b)([Object(D.e)()],O,"sortColumn",null),Object(j.b)([Object(D.e)()],O,"sortDirection",null),Object(j.b)([Object(D.e)()],O,"canLoadMoreEntries",null),Object(j.b)([Object(D.e)()],O,"userSpaceUsed",null),Object(j.b)([Object(D.e)()],O,"userSpaceAvailable",null),Object(j.b)([Object(D.e)([_.userSpaceUsed,_.userSpaceAvailable])],O,"spaceUsedPercent",null),Object(j.b)([Object(D.e)()],O,"isMobile",null),Object(j.b)([Object(D.e)()],O,"currentUser",null),Object(j.b)([Object(D.e)()],O,"activeWorkspace",null),Object(j.b)([Object(D.e)([_.activeFolder,_.currentUser])],O,"userOwnsActiveFolder",null),Object(j.b)([Object(D.e)([_.selectedEntries,_.currentUser])],O,"userOwnsSelectedEntries",null),Object(j.b)([Object(D.e)([_.selectedEntries,_.currentUser])],O,"userCanEditSelectedEntries",null),Object(j.b)([Object(D.e)([_.activePage,_.currentUser,_.activeWorkspace])],O,"canUpload",null),O=_=Object(j.b)([Object(D.f)({name:"drive",defaults:Ge})],O)),wt=["audio","video","text","pdf","archive","folder","shared-folder","image","powerPoint","word","spreadsheet"],xt=o("Wf9w"),_t=o("NFeN"),Ot=((C=function(){function e(){b(this,e)}return s(e,[{key:"ngOnChanges",value:function(){!this.type&&this.mime&&(this.type=this.mime.split("/")[0]),wt.includes(this.type)||(this.type="default")}},{key:"getType",value:function(){return e=this.type,Object(xt.a)(e).replace("_","-");var e}}]),e}()).\u0275fac=function(e){return new(e||C)},C.\u0275cmp=S.Jb({type:C,selectors:[["file-icon"]],inputs:{type:"type",mime:"mime"},features:[S.Bb],decls:1,vars:2,consts:[[1,"file-color",3,"svgIcon","ngClass"]],template:function(e,t){1&e&&S.Qb(0,"mat-icon",0),2&e&&S.mc("svgIcon",t.getType()+"-file-custom")("ngClass",t.getType()+"-file")},directives:[_t.a,P.q],styles:["file-icon{display:inline-block;flex-shrink:0;width:24px;height:24px}file-icon .mat-icon{width:100%;height:100%}"],encapsulation:2,changeDetection:0}),C);function Ct(e,t){if(1&e&&(S.Vb(0,"div",4),S.Kc(1),S.Ub()),2&e){var n=S.gc(2).ngIf;S.Db(1),S.Lc(n.length)}}function Pt(e,t){if(1&e&&(S.Tb(0),S.Qb(1,"file-icon",1),S.Vb(2,"div",2),S.Kc(3),S.Ub(),S.Ic(4,Ct,2,1,"div",3),S.Sb()),2&e){var n=S.gc().ngIf;S.Db(1),S.mc("type",n[0].type),S.Db(2),S.Lc(n[0].name),S.Db(1),S.mc("ngIf",n.length>1)}}function It(e,t){if(1&e&&(S.Tb(0),S.Ic(1,Pt,5,3,"ng-container",0),S.Sb()),2&e){var n=t.ngIf;S.Db(1),S.mc("ngIf",n[0])}}var jt,St,Dt,Et=((jt=function(){function e(t){b(this,e),this.store=t,this.className="files-grid-item-footer"}return s(e,[{key:"dragging",get:function(){return!this.store.selectSnapshot(kt.dragging)}}]),e}()).\u0275fac=function(e){return new(e||jt)(S.Pb(D.g))},jt.\u0275cmp=S.Jb({type:jt,selectors:[["entry-drag-preview"]],hostVars:4,hostBindings:function(e,t){2&e&&(S.Fb(t.className),S.Hb("hidden",t.dragging))},decls:2,vars:3,consts:[[4,"ngIf"],[3,"type"],[1,"text"],["class","selected-entry-count",4,"ngIf"],[1,"selected-entry-count"]],template:function(e,t){1&e&&(S.Ic(0,It,2,1,"ng-container",0),S.hc(1,"async")),2&e&&S.mc("ngIf",S.ic(1,1,t.entries))},directives:[P.t,Ot],pipes:[P.b],styles:["entry-drag-preview{position:fixed;top:0;left:0;z-index:10;background-color:var(--be-accent-emphasis);color:var(--be-accent-lighter);width:185px;box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12);pointer-events:none}entry-drag-preview .selected-entry-count{width:22px;height:22px;line-height:22px;text-align:center;font-weight:500;background-color:var(--be-accent-default);color:var(--be-accent-contrast);position:absolute;top:-7px;right:-7px;border-radius:50%;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)}"],encapsulation:2,changeDetection:0}),Object(j.b)([Object(D.d)(kt.selectedEntries)],jt.prototype,"entries",void 0),jt),Ut=o("zP0r"),Vt=o("pLZG"),At=o("XNiG"),Mt=o("2Vo4"),Tt={edit:!0,view:!0,download:!0},Ft=o("BkRI"),Lt=o.n(Ft),Rt=o("qPyV"),$t=o.n(Rt),Nt=((Dt=function(){function e(t){b(this,e),this.http=t}return s(e,[{key:"changePermissions",value:function(e,t,n){return this.http.put("drive/shares/change-permissions/"+e,{permissions:n,entryIds:t})}},{key:"shareEntries",value:function(e){return this.http.post("drive/shares/add-users",Object.assign(Object.assign({},e),{entryIds:e.entries.map((function(e){return e.id}))}))}},{key:"detachUser",value:function(e,t){return this.http.post("drive/shares/remove-user/"+e,{entryIds:t})}}]),e}()).\u0275fac=function(e){return new(e||Dt)(S.Zb(at.a))},Dt.\u0275prov=S.Lb({token:Dt,factory:Dt.\u0275fac,providedIn:"root"}),Dt),Bt=function(){var e=function e(){b(this,e)};return e.type="[ShareDialog] Set Initial Users",e}(),zt=function(){var e=function e(t,n){b(this,e),this.user=t,this.permissions=n};return e.type="[ShareDialog] Update User Permissions",e}(),Kt=function(){var e=function e(t){b(this,e),this.user=t};return e.type="[ShareDialog] Remove User",e}(),Qt=function(){var e=function e(t){b(this,e),this.users=t};return e.type="[ShareDialog] Set Users",e}(),Wt=function(){var e=function e(){b(this,e)};return e.type="[ShareDialog] Reset",e}(),Ht=function(){var e=function e(t){b(this,e),this.payload=t};return e.type="[ShareDialog] Share Entries",e}(),Xt=function(){var e=function e(t){b(this,e),this.messages=t};return e.type="[ShareDialog] Share Entries Failed",e}(),Zt=((St=function(){function e(t,n){b(this,e),this.store=t,this.sharesApi=n}return s(e,[{key:"setInitialUsers",value:function(e){var t=this.store.selectSnapshot(kt.selectedEntries),n=t.map((function(e){return e.users})).reduce((function(e,t){return e.concat(t)}),[]);n=(n=Lt()(n)).filter((function(e){return!!e}));var i=$t()(n,(function(e){return e.id}));t.length>1&&i.forEach((function(e){var n=t.map((function(t){return t.users.find((function(t){return t.id===e.id}))})).filter((function(e){return!!e})).map((function(e){return Object.assign({},e.entry_permissions)}));(t.length!==n.length||n.some((function(e){return!M()(e,n[0])})))&&(e.entry_permissions={varies:!0})})),e.patchState({usersWithAccess:Lt()(i),original:i})}},{key:"setUsers",value:function(e,t){e.patchState({usersWithAccess:t.users,original:Lt()(t.users)})}},{key:"updateUserPermissions",value:function(e,t){var n=this;this.toggleUserLoading(e,t.user.id,!0);var i=this.store.selectSnapshot(kt.selectedEntries).map((function(e){return e.id}));return this.sharesApi.changePermissions(t.user.id,i,t.permissions).pipe(Object(U.a)((function(){return n.toggleUserLoading(e,t.user.id,!1)})),Object(E.a)((function(t){return n.updateUsers(e,t.users)})))}},{key:"removeUser",value:function(e,t){var n=this;return this.toggleUserLoading(e,t.user.id,!0),this.sharesApi.detachUser(t.user.id,this.store.selectSnapshot(kt.selectedEntries).map((function(e){return e.id}))).pipe(Object(U.a)((function(){return n.toggleUserLoading(e,t.user.id,!1)})),Object(E.a)((function(t){return n.updateUsers(e,t.users)})))}},{key:"resetState",value:function(e){e.setState({loading:!1,usersWithAccess:[],original:[],loadingUsers:[]})}},{key:"shareEntries",value:function(e,t){var n=this;e.patchState({loading:!0});var i=Object.assign(Object.assign({},t.payload),{entries:this.store.selectSnapshot(kt.selectedEntries)});return this.sharesApi.shareEntries(i).pipe(Object(U.a)((function(){return e.patchState({loading:!1})})),Object(E.a)((function(t){e.dispatch(new Qt(t.users)),n.updateEntriesInDriveStore(t.users)}),(function(t){e.dispatch(new Xt(t.errors))})))}},{key:"toggleUserLoading",value:function(e,t,n){e.patchState(n?{loadingUsers:[].concat(i(e.getState().loadingUsers),[t])}:{loadingUsers:e.getState().loadingUsers.filter((function(e){return e!==t}))})}},{key:"updateUsers",value:function(e,t){e.patchState({usersWithAccess:t,original:Lt()(t)}),this.updateEntriesInDriveStore(t)}},{key:"updateEntriesInDriveStore",value:function(e){var t=this.store.selectSnapshot(kt.selectedEntries).map((function(t){return t.users=e,t}));this.store.dispatch(new ge(t))}}],[{key:"usersWithAccess",value:function(e){return e.usersWithAccess}},{key:"dirty",value:function(e){return!M()(e.original,e.usersWithAccess)}},{key:"loading",value:function(e){return e.loading}},{key:"loadingUsers",value:function(e){return e.loadingUsers}}]),e}()).\u0275fac=function(e){return new(e||St)(S.Zb(D.g),S.Zb(Nt))},St.\u0275prov=S.Lb({token:St,factory:St.\u0275fac}),Object(j.b)([Object(D.a)(Bt)],St.prototype,"setInitialUsers",null),Object(j.b)([Object(D.a)(Qt)],St.prototype,"setUsers",null),Object(j.b)([Object(D.a)(zt)],St.prototype,"updateUserPermissions",null),Object(j.b)([Object(D.a)(Kt)],St.prototype,"removeUser",null),Object(j.b)([Object(D.a)(Wt)],St.prototype,"resetState",null),Object(j.b)([Object(D.a)(Ht,{cancelUncompleted:!0})],St.prototype,"shareEntries",null),Object(j.b)([Object(D.e)()],St,"usersWithAccess",null),Object(j.b)([Object(D.e)()],St,"dirty",null),Object(j.b)([Object(D.e)()],St,"loading",null),Object(j.b)([Object(D.e)()],St,"loadingUsers",null),St=Object(j.b)([Object(D.f)({name:"shareDialog",defaults:{usersWithAccess:[],original:[],loading:!1,loadingUsers:[]}})],St)),Jt=o("3Pt+"),qt=o("lJxs"),Gt=o("1G5W"),Yt=o("0IaG"),en=o("kmQS"),tn=o("mWN8"),nn=o("Rd8u"),an=o("bTqV"),rn=o("I3oe"),on=o("STbY");function sn(e,t){1&e&&(S.Tb(0),S.Qb(1,"mat-icon",9),S.Vb(2,"span",10),S.Kc(3,"Varies"),S.Ub(),S.Sb())}function cn(e,t){1&e&&(S.Tb(0),S.Qb(1,"mat-icon",11),S.Vb(2,"span",10),S.Kc(3,"Can edit"),S.Ub(),S.Sb())}function ln(e,t){1&e&&(S.Tb(0),S.Qb(1,"mat-icon",12),S.Vb(2,"span",10),S.Kc(3,"Can View"),S.Ub(),S.Sb())}function un(e,t){1&e&&(S.Tb(0),S.Qb(1,"mat-icon",13),S.Vb(2,"span",10),S.Kc(3,"Can Download"),S.Ub(),S.Sb())}var dn,pn=((dn=function(){function e(t,n,i){b(this,e),this.store=t,this.api=n,this.toast=i,this.permissions=Tt,this.change=new S.o,this.compact=!1}return s(e,[{key:"overallPermission",value:function(){return this.permissions.varies?"varies":this.permissions.edit?"edit":this.permissions.download?"download":"view"}},{key:"selectPermission",value:function(e){this.permissions="edit"===e?Object.assign({},Tt):Object.assign(Object.assign({},Tt),"download"===e?{edit:!1}:{edit:!1,download:!1}),this.user?this.updateUserPermissions(this.permissions):this.change.emit(this.permissions)}},{key:"updateUserPermissions",value:function(e){var t=this;this.store.dispatch(new zt(this.user,e)).subscribe((function(){t.toast.open("Changed permissions.")}))}}]),e}()).\u0275fac=function(e){return new(e||dn)(S.Pb(D.g),S.Pb(Nt),S.Pb(yt.b))},dn.\u0275cmp=S.Jb({type:dn,selectors:[["sharing-permissions-button"]],hostVars:2,hostBindings:function(e,t){2&e&&S.Hb("compact",t.compact)},inputs:{permissions:"permissions",user:"user",compact:"compact"},outputs:{change:"change"},decls:30,vars:14,consts:[["mat-flat-button","","color","gray",3,"matMenuTriggerFor","disabled"],[4,"ngIf"],["svgIcon","arrow-drop-down",1,"dropdown-icon"],["classList","mat-menu-with-description"],["shareMenu","matMenu"],["mat-menu-item","",3,"click"],["svgIcon","check",1,"mat-icon"],["trans",""],["trans","",1,"description"],["svgIcon","priority-high",1,"button-icon"],["trans","",1,"button-text"],["svgIcon","edit",1,"button-icon"],["svgIcon","remove-red-eye",1,"button-icon"],["svgIcon","file-download",1,"button-icon"]],template:function(e,t){if(1&e&&(S.Vb(0,"button",0),S.hc(1,"async"),S.Ic(2,sn,4,0,"ng-container",1),S.Ic(3,cn,4,0,"ng-container",1),S.Ic(4,ln,4,0,"ng-container",1),S.Ic(5,un,4,0,"ng-container",1),S.Qb(6,"mat-icon",2),S.Ub(),S.Vb(7,"mat-menu",3,4),S.Vb(9,"div",5),S.cc("click",(function(){return t.selectPermission("edit")})),S.Qb(10,"mat-icon",6),S.Vb(11,"div"),S.Vb(12,"div",7),S.Kc(13,"Can edit"),S.Ub(),S.Vb(14,"div",8),S.Kc(15,"People can edit, delete and copy the item to their own drive."),S.Ub(),S.Ub(),S.Ub(),S.Vb(16,"div",5),S.cc("click",(function(){return t.selectPermission("download")})),S.Qb(17,"mat-icon",6),S.Vb(18,"div"),S.Vb(19,"div",7),S.Kc(20,"Can download"),S.Ub(),S.Vb(21,"div",8),S.Kc(22,"People can view and download the item."),S.Ub(),S.Ub(),S.Ub(),S.Vb(23,"div",5),S.cc("click",(function(){return t.selectPermission("view")})),S.Qb(24,"mat-icon",6),S.Vb(25,"div"),S.Vb(26,"div",7),S.Kc(27,"Can view"),S.Ub(),S.Vb(28,"div",8),S.Kc(29,"People can view the item."),S.Ub(),S.Ub(),S.Ub(),S.Ub()),2&e){var n=S.uc(8);S.mc("matMenuTriggerFor",n)("disabled",S.ic(1,12,t.loadingUsers$).includes(null==t.user?null:t.user.id)),S.Db(2),S.mc("ngIf","varies"===t.overallPermission()),S.Db(1),S.mc("ngIf","edit"===t.overallPermission()),S.Db(1),S.mc("ngIf","view"===t.overallPermission()),S.Db(1),S.mc("ngIf","download"===t.overallPermission()),S.Db(5),S.Hb("visually-hidden","edit"!==t.overallPermission()),S.Db(7),S.Hb("visually-hidden","download"!==t.overallPermission()),S.Db(7),S.Hb("visually-hidden","view"!==t.overallPermission())}},directives:[an.b,on.d,P.t,_t.a,on.e,on.b,nn.a],pipes:[P.b],styles:[".mat-menu-with-description .mat-menu-item{display:flex;height:auto;min-height:48px;line-height:normal;white-space:normal;padding:10px 16px;font-size:1.5rem}.mat-menu-with-description .mat-menu-item .mat-icon{flex:0 0 24px}.mat-menu-with-description .mat-menu-item .description{font-size:1.4rem;color:var(--be-secondary-text);margin-top:3px}sharing-permissions-button{display:inline-block}sharing-permissions-button.compact .button-text{display:none}sharing-permissions-button .dropdown-icon,sharing-permissions-button:not(.compact) .button-icon{width:18px;height:18px;line-height:18px}sharing-permissions-button:not(.compact) .button-icon{margin-right:5px}sharing-permissions-button .button-text{font-size:1.3rem}"],encapsulation:2,changeDetection:0}),Object(j.b)([Object(D.d)(Zt.loadingUsers)],dn.prototype,"loadingUsers$",void 0),dn),hn=o("R0Ic"),bn=o("eIep"),fn=o("zW5C"),gn=function(e){return{workspace:e}};function vn(e,t){if(1&e&&(S.Vb(0,"div",4),S.Qb(1,"mat-icon",5),S.Vb(2,"div",6),S.Vb(3,"div",7),S.Kc(4,'Everyone at ":workspace" workspace'),S.Ub(),S.Vb(5,"div",8),S.Kc(6),S.hc(7,"trans"),S.Ub(),S.Ub(),S.Ub()),2&e){var n=t.ngIf;S.Db(3),S.mc("transValues",S.qc(5,gn,n.name)),S.Db(3),S.Nc("",n.members_count," ",S.ic(7,3,"members"),"")}}function mn(e,t){if(1&e&&(S.Vb(0,"span",14),S.Kc(1),S.Ub()),2&e){var n=S.gc().$implicit;S.Db(1),S.Mc(" ",n.owns_entry?"Owner":"You"," ")}}function yn(e,t){if(1&e){var n=S.Wb();S.Qb(0,"sharing-permissions-button",15),S.Vb(1,"button",16),S.cc("click",(function(){S.xc(n);var e=S.gc().$implicit;return S.gc().removeUser(e)})),S.hc(2,"async"),S.Qb(3,"mat-icon",17),S.Ub()}if(2&e){var i=S.gc().$implicit,a=S.gc();S.mc("permissions",i.entry_permissions)("user",i),S.Db(1),S.mc("disabled",S.ic(2,3,a.loadingUsers$).includes(i.id))}}function kn(e,t){if(1&e&&(S.Vb(0,"div",4),S.Qb(1,"img",9),S.Vb(2,"div",6),S.Vb(3,"div",10),S.Kc(4),S.Ub(),S.Vb(5,"div",8),S.Kc(6),S.Ub(),S.Ub(),S.Vb(7,"div",11),S.Ic(8,mn,2,1,"span",12),S.Ic(9,yn,4,5,"ng-template",null,13,S.Jc),S.Ub(),S.Ub()),2&e){var n=t.$implicit,i=S.uc(10),a=S.gc();S.Hb("removed",n.removed),S.mc("@flyInOut","in"),S.Db(1),S.mc("src",n.avatar,S.Ac),S.Db(3),S.Lc(n.display_name),S.Db(2),S.Lc(n.email),S.Db(2),S.mc("ngIf",n.owns_entry||a.currentUser.getModel().id===n.id)("ngIfElse",i)}}var wn,xn=((wn=function(){function e(t,n,i){var a=this;b(this,e),this.store=t,this.currentUser=n,this.workspaces=i,this.activeWorkspace$=this.store.select(kt.selectedEntries).pipe(Object(qt.a)((function(e){return e.every((function(e){return e.workspace_id}))})),Object(Vt.a)((function(e){return!!e})),Object(bn.a)((function(){return a.workspaces.activeWorkspace$})))}return s(e,[{key:"removeUser",value:function(e){this.store.dispatch(new Kt(e))}},{key:"trackByUser",value:function(e,t){return t.id}}]),e}()).\u0275fac=function(e){return new(e||wn)(S.Pb(D.g),S.Pb(rt.a),S.Pb(mt.a))},wn.\u0275cmp=S.Jb({type:wn,selectors:[["entries-access-table"]],decls:7,vars:7,consts:[["trans","",1,"header"],[1,"users-list"],["class","list-item",4,"ngIf"],["class","list-item",3,"removed",4,"ngFor","ngForOf","ngForTrackBy"],[1,"list-item"],["svgIcon","groups",1,"list-item-img"],[1,"text"],["trans","",1,"display_name",3,"transValues"],[1,"email"],["alt","",1,"list-item-img",3,"src"],[1,"display_name"],[1,"actions"],["class","owner-label","trans","",4,"ngIf","ngIfElse"],["permissionSelector",""],["trans","",1,"owner-label"],[3,"permissions","user"],["mat-icon-button","",3,"disabled","click"],["svgIcon","close"]],template:function(e,t){1&e&&(S.Vb(0,"div",0),S.Kc(1,"Who has access"),S.Ub(),S.Vb(2,"div",1),S.Ic(3,vn,8,7,"div",2),S.hc(4,"async"),S.Ic(5,kn,11,8,"div",3),S.hc(6,"async"),S.Ub()),2&e&&(S.Db(3),S.mc("ngIf",S.ic(4,3,t.activeWorkspace$)),S.Db(2),S.mc("ngForOf",S.ic(6,5,t.users))("ngForTrackBy",t.trackByUser))},directives:[nn.a,P.t,P.s,_t.a,pn,an.b],pipes:[P.b,fn.a],styles:["entries-access-table{display:block;margin-top:25px}entries-access-table .users-list{overflow-x:hidden}entries-access-table .users-list .list-item{display:flex;align-items:center;padding:12px 0;border-bottom:1px solid var(--be-divider-default)}entries-access-table .users-list .display_name{text-transform:capitalize}entries-access-table .users-list .email{color:var(--be-secondary-text)}entries-access-table .users-list .actions{margin-left:auto;padding-right:5px}entries-access-table .users-list .actions button{color:var(--be-secondary-text)}entries-access-table .list-item-img{width:30px;height:30px;flex:0 0 30px;margin-right:15px;color:var(--be-secondary-text)}"],encapsulation:2,data:{animation:[Object(hn.m)("flyInOut",[Object(hn.j)("in",Object(hn.k)({transform:"translateX(0)"})),Object(hn.l)("void => *",[Object(hn.k)({transform:"translateX(-100%)"}),Object(hn.e)(100)]),Object(hn.l)("* => void",[Object(hn.e)(100,Object(hn.k)({transform:"translateX(100%)"}))])])]},changeDetection:0}),Object(j.b)([Object(D.d)(Zt.usersWithAccess)],wn.prototype,"users",void 0),Object(j.b)([Object(D.d)(Zt.loadingUsers)],wn.prototype,"loadingUsers$",void 0),wn);function _n(e,t){if(1&e&&(S.Vb(0,"div",11),S.Kc(1),S.Ub()),2&e){var n=t.$implicit;S.Db(1),S.Lc(n.value)}}function On(e,t){if(1&e){var n=S.Wb();S.Vb(0,"button",12),S.cc("click",(function(){return S.xc(n),S.gc().share()})),S.hc(1,"async"),S.Kc(2,"Share"),S.Ub()}if(2&e){var i=S.gc();S.mc("disabled",S.ic(1,1,i.loading$))}}var Cn,Pn,In,jn=((Pn=function(){function e(t,n,i,a,r){var o=this;b(this,e),this.dialogRef=t,this.settings=n,this.store=i,this.actions$=a,this.users=r,this.destroyed$=new At.a,this.errors=new Mt.a({}),this.suggestUserEmails=function(e){return o.users.getAll({query:e,perPage:7}).pipe(Object(qt.a)((function(e){return e.map((function(e){return e.email}))})))},this.resetModel(),this.store.dispatch(new Bt),this.bindToShareError(),this.bindToShareModel()}return s(e,[{key:"ngOnDestroy",value:function(){this.store.dispatch(new Wt),this.destroyed$.next(),this.destroyed$.complete()}},{key:"share",value:function(){var e=this;this.store.dispatch(new Ht({emails:this.shareModel.emails.value,permissions:this.shareModel.permissions})).subscribe((function(){e.setErrorMessages(),e.resetModel()}))}},{key:"resetModel",value:function(){this.shareModel={emails:new Jt.i([]),permissions:Tt}}},{key:"setErrorMessages",value:function(e){this.errors.next(e||{})}},{key:"bindToShareModel",value:function(){var e=this;this.shareModel.emails.valueChanges.pipe(Object(Gt.a)(this.destroyed$)).subscribe((function(){return e.setErrorMessages()}))}},{key:"bindToShareError",value:function(){var e=this;this.actions$.pipe(Object(Gt.a)(this.destroyed$),Object(D.i)(Xt)).subscribe((function(t){e.setErrorMessages(t.messages)}))}}]),e}()).\u0275fac=function(e){return new(e||Pn)(S.Pb(Yt.h),S.Pb(en.a),S.Pb(D.g),S.Pb(D.b),S.Pb(tn.a))},Pn.\u0275cmp=S.Jb({type:Pn,selectors:[["share-dialog"]],decls:19,vars:13,consts:[[1,"modal-header"],["mat-dialog-title","","trans",""],["type","button","mat-icon-button","","tabindex","-1",1,"close-button",3,"click"],["svgIcon","close"],[1,"emails-container"],["placeholder","Enter email addresses...","email","","required","",3,"formControl","emailsInput","suggestFn"],[3,"compact","change"],[1,"errors"],["class","error",4,"ngFor","ngForOf"],["type","button","mat-button","","trans","",3,"disabled","click"],["type","submit","mat-raised-button","","color","accent","trans","",3,"disabled","click",4,"ngIf"],[1,"error"],["type","submit","mat-raised-button","","color","accent","trans","",3,"disabled","click"]],template:function(e,t){1&e&&(S.Vb(0,"div",0),S.Vb(1,"h2",1),S.Kc(2,"Add people"),S.Ub(),S.Vb(3,"button",2),S.cc("click",(function(){return t.dialogRef.close()})),S.Qb(4,"mat-icon",3),S.Ub(),S.Ub(),S.Vb(5,"mat-dialog-content"),S.Vb(6,"div",4),S.Qb(7,"chip-input",5),S.Vb(8,"sharing-permissions-button",6),S.cc("change",(function(e){return t.shareModel.permissions=e})),S.Ub(),S.Ub(),S.Vb(9,"div",7),S.Ic(10,_n,2,1,"div",8),S.hc(11,"keyvalue"),S.hc(12,"async"),S.Ub(),S.Qb(13,"entries-access-table"),S.Ub(),S.Vb(14,"mat-dialog-actions"),S.Vb(15,"button",9),S.cc("click",(function(){return t.dialogRef.close()})),S.hc(16,"async"),S.Kc(17,"Close"),S.Ub(),S.Ic(18,On,3,3,"button",10),S.Ub()),2&e&&(S.Db(7),S.mc("formControl",t.shareModel.emails)("emailsInput",!0)("suggestFn",t.settings.get("share.suggest_emails")?t.suggestUserEmails:null),S.Db(1),S.mc("compact",!0),S.Db(2),S.mc("ngForOf",S.ic(11,7,S.ic(12,9,t.errors))),S.Db(5),S.mc("disabled",S.ic(16,11,t.loading$)),S.Db(3),S.mc("ngIf",null==t.shareModel.emails.value?null:t.shareModel.emails.value.length))},directives:[Yt.i,nn.a,an.b,_t.a,Yt.f,rn.a,Jt.e,Jt.F,Jt.u,Jt.j,pn,P.s,xn,Yt.c,P.t],pipes:[P.l,P.b],styles:["share-dialog{display:block;width:500px;max-width:100%}share-dialog .emails-container{display:flex;min-height:54px}share-dialog .emails-container chip-input{flex:1 1 auto;border-bottom-right-radius:0;border-top-right-radius:0}share-dialog .emails-container .mat-flat-button{height:54px;border:1px solid var(--be-divider-default);border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}share-dialog .mat-tab-body{padding:15px 0}"],encapsulation:2,changeDetection:0}),Object(j.b)([Object(D.d)(Zt.loading)],Pn.prototype,"loading$",void 0),Pn),Sn=((Cn=function(){function e(t){b(this,e),this.http=t}return s(e,[{key:"findByEntryId",value:function(e,t){return this.http.get("drive/entries/".concat(e,"/shareable-link"),t)}},{key:"findByHash",value:function(e,t){return this.http.get("drive/shareable-links/"+e,t)}},{key:"create",value:function(e,t){return this.http.post("drive/entries/".concat(e,"/shareable-link"),t)}},{key:"update",value:function(e,t){return this.http.put("drive/shareable-links/"+e,t)}},{key:"delete",value:function(e){return this.http.delete("drive/shareable-links/".concat(e,")"))}},{key:"checkPassword",value:function(e,t){return this.http.post("drive/shareable-links/".concat(e,"/check-password"),{password:t})}},{key:"importEntry",value:function(e,t){return this.http.post("drive/shareable-links/".concat(e,"/import"),{password:t})}}]),e}()).\u0275fac=function(e){return new(e||Cn)(S.Zb(at.a))},Cn.\u0275prov=S.Lb({token:Cn,factory:Cn.\u0275fac,providedIn:"root"}),Cn),Dn=function(){var e=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};b(this,e),this.options=t};return e.type="[Shareable Link] Load From Backend",e}(),En=function(){var e=function e(t){b(this,e),this.options=t};return e.type="[Shareable Link] Update",e}(),Un=function(){var e=function e(t){b(this,e),this.options=t};return e.type="[Shareable Link] Create",e}(),Vn=function(){var e=function e(){b(this,e)};return e.type="[Shareable Link] Delete",e}(),An=function(){var e=function e(){b(this,e)};return e.type="[Shareable Link] Toggle Options Panel Visibility",e}(),Mn=function(){var e=function e(){b(this,e)};return e.type="[Shareable Link] Copy To Clipboard Success",e}(),Tn=function(){var e=function e(){b(this,e)};return e.type="[Shareable Link] Reset State",e}(),Fn={link:null,loading:!1,optionsPanelVisible:!0,backendErrors:{},cache:{},linkOptions:{allowDownload:!1,allowEdit:!1,expiresAt:null,password:null}},Ln=((In=function(){function e(t,n,i){b(this,e),this.store=t,this.settings=n,this.linksApi=i}return s(e,[{key:"createShareableLink",value:function(e,n){var i=this.store.selectSnapshot(kt.selectedEntryIds)[0];return e.patchState({loading:!0}),this.linksApi.create(i,n.options).pipe(Object(U.a)((function(){return e.patchState({loading:!1,backendErrors:{}})})),Object(E.a)((function(n){var i=n.link;e.patchState({cache:Object.assign(Object.assign({},e.getState().cache),t({},i.entry_id,i)),link:n.link,optionsPanelVisible:!1})}),(function(t){e.patchState({backendErrors:t.errors})})))}},{key:"updateLink",value:function(e,n){var i=e.getState().link;return e.patchState({loading:!0}),this.linksApi.update(i.id,n.options).pipe(Object(U.a)((function(){return e.patchState({loading:!1,backendErrors:{}})})),Object(E.a)((function(n){return e.patchState({link:n.link,cache:Object.assign(Object.assign({},e.getState().cache),t({},i.entry_id,n.link)),optionsPanelVisible:!1})}),(function(t){e.patchState({backendErrors:t.errors})})))}},{key:"loadShareableLink",value:function(e,n){var i=this.store.selectSnapshot(kt.selectedEntryIds)[0],a=e.getState().cache[i];return a?e.patchState({link:a,optionsPanelVisible:!1}):(e.patchState({loading:!0}),this.linksApi.findByEntryId(i,{autoCreate:n.options.autoCreate}).pipe(Object(U.a)((function(){return e.patchState({loading:!1})})),Object(E.a)((function(n){return e.patchState({link:n.link,optionsPanelVisible:!1,cache:Object.assign(Object.assign({},e.getState().cache),t({},n.link.entry_id,n.link))})}),(function(){}))))}},{key:"deleteShareableLink",value:function(e){var t=e.getState().link;return e.patchState({loading:!0}),this.linksApi.delete(t.id).pipe(Object(U.a)((function(){return e.patchState({loading:!1})})),Object(E.a)((function(){var n=e.getState().cache;delete n[t.entry_id],e.patchState({link:null,cache:n})})))}},{key:"toggleOptionsPanel",value:function(e){e.patchState({optionsPanelVisible:!e.getState().optionsPanelVisible})}},{key:"resetShareLinkState",value:function(e){return e.patchState(Object.assign(Object.assign({},e.getState()),Fn))}}],[{key:"loading",value:function(e){return e.loading}},{key:"link",value:function(e){return e.link}},{key:"optionsVisible",value:function(e){return!e.loading&&e.optionsPanelVisible}},{key:"backendErrors",value:function(e){return e.backendErrors}}]),e}()).\u0275fac=function(e){return new(e||In)(S.Zb(D.g),S.Zb(en.a),S.Zb(Sn))},In.\u0275prov=S.Lb({token:In,factory:In.\u0275fac}),Object(j.b)([Object(D.a)(Un)],In.prototype,"createShareableLink",null),Object(j.b)([Object(D.a)(En)],In.prototype,"updateLink",null),Object(j.b)([Object(D.a)(Dn)],In.prototype,"loadShareableLink",null),Object(j.b)([Object(D.a)(Vn)],In.prototype,"deleteShareableLink",null),Object(j.b)([Object(D.a)(An)],In.prototype,"toggleOptionsPanel",null),Object(j.b)([Object(D.a)(Tn,{cancelUncompleted:!0})],In.prototype,"resetShareLinkState",null),Object(j.b)([Object(D.e)()],In,"loading",null),Object(j.b)([Object(D.e)()],In,"link",null),Object(j.b)([Object(D.e)()],In,"optionsVisible",null),Object(j.b)([Object(D.e)()],In,"backendErrors",null),In=Object(j.b)([Object(D.f)({name:"shareLink",defaults:Fn})],In)),Rn=o("+QRC"),$n=o.n(Rn),Nn=o("bSwM");function Bn(e,t){if(1&e&&(S.Vb(0,"div",16),S.Kc(1),S.Ub()),2&e){var n=t.ngIf;S.Db(1),S.Lc(n)}}function zn(e,t){1&e&&(S.Tb(0),S.Vb(1,"div",17),S.Qb(2,"input",18),S.Ub(),S.Sb())}var Kn,Qn=((Kn=function(){function e(t){b(this,e),this.store=t,this.form=new Jt.l({password:new Jt.i,expiresAt:new Jt.l({date:new Jt.i,time:new Jt.i}),allowEdit:new Jt.i(!1),allowDownload:new Jt.i(!0)}),this.passwordVisible=new Jt.i(!1),this.expirationVisible=new Jt.i(!1)}return s(e,[{key:"ngOnInit",value:function(){this.bindToLinkChange()}},{key:"toggleOptionsPanel",value:function(){this.store.dispatch(new An)}},{key:"saveChanges",value:function(){this.store.selectSnapshot(Ln.link)?this.store.dispatch(new En(this.getPayload())):this.store.dispatch(new Un(this.getPayload()))}},{key:"getPayload",value:function(){var e={allowEdit:this.form.get("allowEdit").value,allowDownload:this.form.get("allowDownload").value};return this.expirationVisible.value&&(e.expiresAt=this.form.get("expiresAt.date").value,this.form.get("expiresAt.time").value&&(e.expiresAt+=" "+this.form.get("expiresAt.time").value)),this.passwordVisible.value&&(e.password=this.form.get("password").value),e}},{key:"bindToLinkChange",value:function(){var e=this;this.link$.pipe(Object(Vt.a)((function(e){return!!e}))).subscribe((function(t){e.hydrateExpirationForm(t),e.passwordVisible.setValue(!!t.password),e.expirationVisible.setValue(!!t.expires_at),e.form.patchValue({allowEdit:t.allow_edit,allowDownload:t.allow_download})}))}},{key:"hydrateExpirationForm",value:function(e){if(e&&e.expires_at){var t=e.expires_at.split(/[ T]/);this.form.get("expiresAt").setValue({date:t[0],time:t[1]?t[1].substr(0,5):""})}}},{key:"getMinDate",value:function(){return(new Date).toJSON().split("T")[0]}}]),e}()).\u0275fac=function(e){return new(e||Kn)(S.Pb(D.g))},Kn.\u0275cmp=S.Jb({type:Kn,selectors:[["link-options"]],decls:38,vars:18,consts:[[1,"update-link-panel",3,"formGroup","ngSubmit"],[1,"link-options"],[1,"link-option"],["trans","",1,"label"],[1,"content"],["color","accent","trans","",3,"formControl"],["formGroupName","expiresAt",1,"input-container","expiration-input-container"],[1,"date-input-container"],["type","date","formControlName","date","placeholder","Expiration date...","trans-placeholder","",1,"date-input",3,"min"],["type","time","formControlName","time","placeholder","Expiration time...","trans-placeholder","",1,"time-input"],["class","error",4,"ngIf"],[4,"ngIf"],["color","accent","formControlName","allowEdit","trans",""],["color","accent","formControlName","allowDownload","trans",""],["type","button","mat-button","","trans","",3,"click"],["type","submit","mat-raised-button","","color","accent",1,"update-button",3,"disabled"],[1,"error"],[1,"input-container","password-input-container"],["type","password","formControlName","password","placeholder","Enter new password...","trans-placeholder",""]],template:function(e,t){var n;1&e&&(S.Vb(0,"form",0),S.cc("ngSubmit",(function(){return t.saveChanges()})),S.Vb(1,"div",1),S.Vb(2,"div",2),S.Vb(3,"div",3),S.Kc(4,"Link expiration"),S.Ub(),S.Vb(5,"div",4),S.Vb(6,"mat-checkbox",5),S.Kc(7,"Link is valid until:"),S.Ub(),S.Vb(8,"div",6),S.Vb(9,"div",7),S.Qb(10,"input",8),S.Ub(),S.Qb(11,"input",9),S.Ub(),S.Ic(12,Bn,2,1,"div",10),S.hc(13,"async"),S.Ub(),S.Ub(),S.Vb(14,"div",2),S.Vb(15,"div",3),S.Kc(16,"Password Protect"),S.Ub(),S.Vb(17,"div",4),S.Vb(18,"mat-checkbox",5),S.Kc(19,"Require password:"),S.Ub(),S.Ic(20,zn,3,0,"ng-container",11),S.Ub(),S.Ub(),S.Vb(21,"div",2),S.Vb(22,"div",3),S.Kc(23,"Allow editing"),S.Ub(),S.Vb(24,"mat-checkbox",12),S.Kc(25,"Users with link can modify this item."),S.Ub(),S.Ub(),S.Vb(26,"div",2),S.Vb(27,"div",3),S.Kc(28,"Allow download"),S.Ub(),S.Vb(29,"mat-checkbox",13),S.Kc(30,"Users with link can download this item."),S.Ub(),S.Ub(),S.Ub(),S.Vb(31,"button",14),S.cc("click",(function(){return t.toggleOptionsPanel()})),S.Kc(32,"Cancel"),S.Ub(),S.Vb(33,"button",15),S.hc(34,"async"),S.Kc(35),S.hc(36,"trans"),S.hc(37,"async"),S.Ub(),S.Ub()),2&e&&(S.mc("formGroup",t.form),S.Db(6),S.mc("formControl",t.expirationVisible),S.Db(2),S.Hb("hidden",!t.expirationVisible.value),S.Db(2),S.mc("min",t.getMinDate()),S.Db(2),S.mc("ngIf",null==(n=S.ic(13,10,t.backendErrors$))?null:n.expiresAt),S.Db(6),S.mc("formControl",t.passwordVisible),S.Db(2),S.mc("ngIf",t.passwordVisible.value),S.Db(13),S.mc("disabled",S.ic(34,12,t.loading$)),S.Db(2),S.Mc(" ",S.ic(36,14,S.ic(37,16,t.link$)?"Update Link":"Create Link")," "))},directives:[Jt.K,Jt.v,Jt.m,nn.a,Nn.a,Jt.u,Jt.j,Jt.n,Jt.d,Jt.k,P.t,an.b],pipes:[P.b,fn.a],styles:["link-options{display:block;padding:15px;border:1px solid var(--be-divider-default);border-radius:4px}link-options .link-option{padding-bottom:25px;margin-bottom:25px;border-bottom:1px solid var(--be-divider-default)}link-options .link-option .label{font-weight:500;margin-bottom:8px}link-options .link-option .expiration-input-container,link-options .link-option .password-input-container{margin-top:15px}link-options .link-option .content .error{margin-top:10px}link-options .expiration-input-container{display:flex}link-options .expiration-input-container .date-input-container{flex:1 1 auto;margin-right:10px;position:relative}link-options .expiration-input-container .time-input{max-width:150px;margin-right:20px}link-options .update-button{margin-top:15px}"],encapsulation:2,changeDetection:0}),Object(j.b)([Object(D.d)(Ln.link)],Kn.prototype,"link$",void 0),Object(j.b)([Object(D.d)(Ln.loading)],Kn.prototype,"loading$",void 0),Object(j.b)([Object(D.d)(Ln.backendErrors)],Kn.prototype,"backendErrors$",void 0),Kn),Wn=o("FBzJ");function Hn(e,t){if(1&e){var n=S.Wb();S.Tb(0),S.Vb(1,"div",7),S.Vb(2,"div",8),S.Kc(3),S.hc(4,"trans"),S.Vb(5,"span",9),S.Vb(6,"button",10),S.cc("click",(function(){return S.xc(n),S.gc().deleteLink()})),S.Kc(7,"on"),S.Ub(),S.Ub(),S.Ub(),S.Vb(8,"div",11),S.Vb(9,"button",12),S.cc("click",(function(){return S.xc(n),S.gc().deleteLink()})),S.Qb(10,"mat-icon",13),S.Ub(),S.Vb(11,"button",12),S.cc("click",(function(){return S.xc(n),S.gc().toggleOptionsPanel()})),S.Qb(12,"mat-icon",14),S.Ub(),S.Ub(),S.Ub(),S.Vb(13,"div",15),S.Vb(14,"div",16),S.Vb(15,"input",17),S.cc("click",(function(){return S.xc(n),S.gc().focusInput()}))("change",(function(){return S.xc(n),S.gc().focusInput()})),S.hc(16,"async"),S.Ub(),S.Vb(17,"button",18),S.cc("click",(function(){return S.xc(n),S.gc().copyLinkToClipboard()})),S.Kc(18,"Copy"),S.Ub(),S.Ub(),S.Vb(19,"div",19),S.Vb(20,"button",20),S.cc("click",(function(){return S.xc(n),S.gc().shareLink("facebook")})),S.Qb(21,"mat-icon",21),S.Ub(),S.Vb(22,"button",22),S.cc("click",(function(){return S.xc(n),S.gc().shareLink("twitter")})),S.Qb(23,"mat-icon",23),S.Ub(),S.Vb(24,"button",24),S.cc("click",(function(){return S.xc(n),S.gc().shareLink("mail")})),S.Qb(25,"mat-icon",25),S.Ub(),S.Ub(),S.Ub(),S.Sb()}if(2&e){var i=S.gc();S.Db(3),S.Mc(" ",S.ic(4,2,"Link sharing is")," "),S.Db(12),S.mc("value",S.ic(16,4,i.shareableLink$))}}var Xn,Zn=((Xn=function(){function e(t,n,i,a,r){b(this,e),this.store=t,this.toast=n,this.actions$=i,this.settings=a,this.dialogRef=r,this.shareableLink$=new Mt.a(null),this.subscriptions=[]}return s(e,[{key:"ngOnInit",value:function(){this.store.dispatch(new Dn),this.bindToOptionsPanelToggle()}},{key:"ngAfterViewInit",value:function(){this.bindToLinkChange()}},{key:"ngOnDestroy",value:function(){this.store.dispatch(new Tn),this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"toggleOptionsPanel",value:function(){this.store.dispatch(new An)}},{key:"deleteLink",value:function(){var e=this;this.store.dispatch(new Vn).subscribe((function(){e.toast.open("Link deleted."),e.dialogRef.close()}))}},{key:"copyLinkToClipboard",value:function(){this.focusInput(),$n()(this.shareableLink$.value)&&this.store.dispatch(new Mn)}},{key:"bindToLinkChange",value:function(){var e=this;this.link$.subscribe((function(t){t&&(e.shareableLink$.next(e.settings.getBaseUrl()+"drive/s/"+t.hash),setTimeout((function(){return e.focusInput()})))}))}},{key:"bindToOptionsPanelToggle",value:function(){var e=this,t=this.actions$.pipe(Object(D.i)(An)).subscribe((function(){e.store.selectSnapshot(Ln.optionsVisible)||e.shareableLink$.value||e.close()}));this.subscriptions.push(t)}},{key:"shareLink",value:function(e){!function(e,t,n,i){var a=function(e,t,n,i){switch(e){case"facebook":return"https://www.facebook.com/sharer/sharer.php?u="+t;case"twitter":return"https://twitter.com/intent/tweet?text=undefined&url="+t;case"google-plus":return"https://plus.google.com/share?url="+t;case"pinterest":return"https://pinterest.com/pin/create/button/?url="+t+"&media="+void 0;case"tumblr":return"https://www.tumblr.com/widgets/share/tool?shareSource=legacy&canonicalUrl=&posttype=photo&title=&caption=undefined&content=undefined&url="+t;case"blogger":return"https://www.blogger.com/blog_this.pyra?t&u="+t+"&n="+void 0;case"mail":return"mailto:?subject=Check out this link.&body="+t}}(e,t);"mail"===e?window.location.href=a:function(e){var t=(window.innerWidth-575)/2,n=(window.innerHeight-400)/2;window.open(e,"share","status=1, scrollbars=1,width=575,height=400,top="+n+",left="+t)}(a)}(e,this.shareableLink$.value)}},{key:"focusInput",value:function(){var e=document.getElementById("link-input");e.focus(),e.select()}},{key:"close",value:function(){this.dialogRef.close()}}]),e}()).\u0275fac=function(e){return new(e||Xn)(S.Pb(D.g),S.Pb(yt.b),S.Pb(D.b),S.Pb(en.a),S.Pb(Yt.h))},Xn.\u0275cmp=S.Jb({type:Xn,selectors:[["share-link-dialog"]],decls:16,vars:12,consts:[[1,"modal-header"],["mat-dialog-title","","trans",""],["type","button","mat-icon-button","","tabindex","-1",1,"close-button",3,"click"],["svgIcon","close"],[4,"ngIf"],[1,"overlay-transparent",3,"isVisible"],["type","button","mat-button","","trans","",1,"submit-button",3,"disabled","click"],[1,"title"],[1,"left"],[1,"state","on"],["trans","",1,"on-text","text","no-style",3,"click"],[1,"right"],["type","button","mat-icon-button","",3,"click"],["svgIcon","delete"],["svgIcon","settings"],[1,"link-container"],[1,"link-input-container","input-container"],["type","text","id","link-input","readonly","","tabindex","1",3,"value","click","change"],["mat-flat-button","","color","accent","trans","",3,"click"],[1,"social-icons"],["type","button","mat-icon-button","",1,"social-icon","no-style","facebook",3,"click"],["svgIcon","facebook"],["type","button","mat-icon-button","",1,"social-icon","no-style","twitter",3,"click"],["svgIcon","twitter"],["type","button","mat-icon-button","",1,"social-icon","no-style","mail",3,"click"],["svgIcon","mail"]],template:function(e,t){1&e&&(S.Vb(0,"div",0),S.Vb(1,"h2",1),S.Kc(2,"Shareable link"),S.Ub(),S.Vb(3,"button",2),S.cc("click",(function(){return t.close()})),S.Qb(4,"mat-icon",3),S.Ub(),S.Ub(),S.Vb(5,"mat-dialog-content"),S.Ic(6,Hn,26,6,"ng-container",4),S.hc(7,"async"),S.Qb(8,"link-options"),S.hc(9,"async"),S.Qb(10,"loading-indicator",5),S.hc(11,"async"),S.Ub(),S.Vb(12,"mat-dialog-actions"),S.Vb(13,"button",6),S.cc("click",(function(){return t.close()})),S.hc(14,"async"),S.Kc(15,"Close"),S.Ub(),S.Ub()),2&e&&(S.Db(6),S.mc("ngIf",S.ic(7,4,t.link$)),S.Db(2),S.mc("@visibility",S.ic(9,6,t.optionsVisible$)),S.Db(2),S.mc("isVisible",S.ic(11,8,t.loading$)),S.Db(3),S.mc("disabled",S.ic(14,10,t.loading$)))},directives:[Yt.i,nn.a,an.b,_t.a,Yt.f,P.t,Qn,Wn.a,Yt.c],pipes:[P.b,fn.a],styles:["share-link-dialog{display:block;min-height:273px;width:500px;max-width:100%}share-link-dialog .title{display:flex;align-items:center;margin-bottom:5px}share-link-dialog .title .right{margin-left:auto;color:var(--be-secondary-text)}share-link-dialog .link-input-container{display:flex;margin-bottom:10px}share-link-dialog .link-input-container input{flex:1 1 auto;border-top-right-radius:0;border-bottom-right-radius:0}share-link-dialog .link-input-container button{width:88px;flex:0 0 88px;border-top-left-radius:0;border-bottom-left-radius:0}share-link-dialog .mat-dialog-content{min-height:144px}share-link-dialog .social-icons{margin-bottom:10px}share-link-dialog loading-indicator{top:0;left:0;bottom:0;right:0;margin:auto}"],encapsulation:2,data:{animation:[Object(hn.m)("visibility",[Object(hn.j)("true",Object(hn.k)({height:"*",padding:"*",opacity:"1",overflow:"*"})),Object(hn.j)("false",Object(hn.k)({height:"0",padding:"0",opacity:"0",overflow:"hidden"})),Object(hn.l)("true <=> false",Object(hn.e)("225ms cubic-bezier(.4,0,.2,1)"))])]},changeDetection:0}),Object(j.b)([Object(D.d)(Ln.loading)],Xn.prototype,"loading$",void 0),Object(j.b)([Object(D.d)(Ln.link)],Xn.prototype,"link$",void 0),Object(j.b)([Object(D.d)(Ln.optionsVisible)],Xn.prototype,"optionsVisible$",void 0),Xn);function Jn(e,t){if(1&e&&(S.Vb(0,"div",11),S.Kc(1),S.Ub()),2&e){var n=S.gc();S.Db(1),S.Lc(n.errors.name)}}var qn,Gn,Yn,ei,ti,ni,ii,ai,ri,oi,si,ci,li,ui,di,pi,hi,bi,fi,gi,vi,mi,yi=((qn=function(){function e(t,n,i,a,r){b(this,e),this.dialogRef=t,this.data=n,this.store=i,this.foldersApi=a,this.changeDetection=r,this.folderName=new Jt.i,this.loading=new Mt.a(!1),this.errors={}}return s(e,[{key:"confirm",value:function(){var e=this;this.loading.next(!0);var t=this.data.folder||this.store.selectSnapshot(kt.activeFolder);return this.foldersApi.create({name:this.folderName.value,parentId:(null==t?void 0:t.id)||null}).pipe(Object(U.a)((function(){return e.loading.next(!1)}))).subscribe((function(t){e.setErrors(),e.store.dispatch(new Ne(t.folder)),e.close()}),(function(t){return e.setErrors(t)}))}},{key:"setErrors",value:function(e){this.errors=e?e.errors:{},this.changeDetection.detectChanges()}},{key:"close",value:function(){this.dialogRef.close()}}]),e}()).\u0275fac=function(e){return new(e||qn)(S.Pb(Yt.h),S.Pb(Yt.a),S.Pb(D.g),S.Pb(ot),S.Pb(S.i))},qn.\u0275cmp=S.Jb({type:qn,selectors:[["crupdate-folder-dialog"]],decls:16,vars:5,consts:[[1,"modal-header"],["mat-dialog-title","","trans",""],["type","button","mat-icon-button","","tabindex","-1",1,"close-button",3,"click"],["svgIcon","close"],["ngNativeValidate","",3,"ngSubmit"],[1,"many-inputs"],[1,"input-container"],["type","text","placeholder","Folder name...","trans-placeholder","","required","","min","3",3,"formControl"],["class","error",4,"ngIf"],["type","button","mat-button","","trans","",1,"cancel-button",3,"click"],["type","submit","mat-raised-button","","color","accent","trans","",1,"submit-button",3,"disabled"],[1,"error"]],template:function(e,t){1&e&&(S.Vb(0,"div",0),S.Vb(1,"h2",1),S.Kc(2,"New Folder"),S.Ub(),S.Vb(3,"button",2),S.cc("click",(function(){return t.close()})),S.Qb(4,"mat-icon",3),S.Ub(),S.Ub(),S.Vb(5,"form",4),S.cc("ngSubmit",(function(){return t.confirm()})),S.Vb(6,"mat-dialog-content",5),S.Vb(7,"div",6),S.Qb(8,"input",7),S.Ic(9,Jn,2,1,"div",8),S.Ub(),S.Ub(),S.Vb(10,"mat-dialog-actions"),S.Vb(11,"button",9),S.cc("click",(function(){return t.close()})),S.Kc(12,"Cancel"),S.Ub(),S.Vb(13,"button",10),S.hc(14,"async"),S.Kc(15,"Create"),S.Ub(),S.Ub(),S.Ub()),2&e&&(S.Db(8),S.mc("formControl",t.folderName),S.Db(1),S.mc("ngIf",t.errors.name),S.Db(4),S.mc("disabled",S.ic(14,3,t.loading)))},directives:[Yt.i,nn.a,an.b,_t.a,Jt.v,Jt.w,Yt.f,Jt.d,Jt.F,Jt.u,Jt.j,P.t,Yt.c],pipes:[P.b],styles:["[_nghost-%COMP%]{display:block;width:400px;max-width:100%}"],changeDetection:0}),qn),ki=o("IzEk"),wi=o("0EQZ"),xi=o("7+OI"),_i=o("LRne"),Oi=o("8LU1"),Ci=o("cH1L"),Pi=function(e){c(n,e);var t=u(n);function n(e,i,a){var r;return b(this,n),(r=t.call(this)).getLevel=e,r.isExpandable=i,r.options=a,r.options&&(r.trackBy=r.options.trackBy),r}return s(n,[{key:"getDescendants",value:function(e){for(var t=[],n=this.dataNodes.indexOf(e)+1;n<this.dataNodes.length&&this.getLevel(e)<this.getLevel(this.dataNodes[n]);n++)t.push(this.dataNodes[n]);return t}},{key:"expandAll",value:function(){var e,t=this;(e=this.expansionModel).select.apply(e,i(this.dataNodes.map((function(e){return t._trackByValue(e)}))))}}]),n}(function(){function e(){b(this,e),this.expansionModel=new wi.c(!0)}return s(e,[{key:"toggle",value:function(e){this.expansionModel.toggle(this._trackByValue(e))}},{key:"expand",value:function(e){this.expansionModel.select(this._trackByValue(e))}},{key:"collapse",value:function(e){this.expansionModel.deselect(this._trackByValue(e))}},{key:"isExpanded",value:function(e){return this.expansionModel.isSelected(this._trackByValue(e))}},{key:"toggleDescendants",value:function(e){this.expansionModel.isSelected(this._trackByValue(e))?this.collapseDescendants(e):this.expandDescendants(e)}},{key:"collapseAll",value:function(){this.expansionModel.clear()}},{key:"expandDescendants",value:function(e){var t,n=this,a=[e];a.push.apply(a,i(this.getDescendants(e))),(t=this.expansionModel).select.apply(t,i(a.map((function(e){return n._trackByValue(e)}))))}},{key:"collapseDescendants",value:function(e){var t,n=this,a=[e];a.push.apply(a,i(this.getDescendants(e))),(t=this.expansionModel).deselect.apply(t,i(a.map((function(e){return n._trackByValue(e)}))))}},{key:"_trackByValue",value:function(e){return this.trackBy?this.trackBy(e):e}}]),e}()),Ii=new S.s("CDK_TREE_NODE_OUTLET_NODE"),ji=((Gn=function e(t,n){b(this,e),this.viewContainer=t,this._node=n}).\u0275fac=function(e){return new(e||Gn)(S.Pb(S.S),S.Pb(Ii,8))},Gn.\u0275dir=S.Kb({type:Gn,selectors:[["","cdkTreeNodeOutlet",""]]}),Gn),Si=function e(t){b(this,e),this.$implicit=t},Di=((ni=function e(t){b(this,e),this.template=t}).\u0275fac=function(e){return new(e||ni)(S.Pb(S.O))},ni.\u0275dir=S.Kb({type:ni,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:["cdkTreeNodeDefWhen","when"]}}),ni),Ei=((ti=function(){function e(t,n){b(this,e),this._differs=t,this._changeDetectorRef=n,this._onDestroy=new At.a,this._levels=new Map,this.viewChange=new Mt.a({start:0,end:Number.MAX_VALUE})}return s(e,[{key:"ngOnInit",value:function(){this._dataDiffer=this._differs.find([]).create(this.trackBy)}},{key:"ngOnDestroy",value:function(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}},{key:"ngAfterContentChecked",value:function(){var e=this._nodeDefs.filter((function(e){return!e.when}));this._defaultNodeDef=e[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}},{key:"_switchDataSource",value:function(e){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),e||this._nodeOutlet.viewContainer.clear(),this._dataSource=e,this._nodeDefs&&this._observeRenderChanges()}},{key:"_observeRenderChanges",value:function(){var e,t=this;Object(wi.g)(this._dataSource)?e=this._dataSource.connect(this):Object(xi.a)(this._dataSource)?e=this._dataSource:Array.isArray(this._dataSource)&&(e=Object(_i.a)(this._dataSource)),e&&(this._dataSubscription=e.pipe(Object(Gt.a)(this._onDestroy)).subscribe((function(e){return t.renderNodeChanges(e)})))}},{key:"renderNodeChanges",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._dataDiffer,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._nodeOutlet.viewContainer,a=arguments.length>3?arguments[3]:void 0,r=n.diff(e);r&&(r.forEachOperation((function(n,r,o){if(null==n.previousIndex)t.insertNode(e[o],o,i,a);else if(null==o)i.remove(r),t._levels.delete(n.item);else{var s=i.get(r);i.move(s,o)}})),this._changeDetectorRef.detectChanges())}},{key:"_getNodeDef",value:function(e,t){return 1===this._nodeDefs.length?this._nodeDefs.first:this._nodeDefs.find((function(n){return n.when&&n.when(t,e)}))||this._defaultNodeDef}},{key:"insertNode",value:function(e,t,n,i){var a=this._getNodeDef(e,t),r=new Si(e);r.level=this.treeControl.getLevel?this.treeControl.getLevel(e):void 0!==i&&this._levels.has(i)?this._levels.get(i)+1:0,this._levels.set(e,r.level),(n||this._nodeOutlet.viewContainer).createEmbeddedView(a.template,r,t),Ui.mostRecentTreeNode&&(Ui.mostRecentTreeNode.data=e)}},{key:"dataSource",get:function(){return this._dataSource},set:function(e){this._dataSource!==e&&this._switchDataSource(e)}}]),e}()).\u0275fac=function(e){return new(e||ti)(S.Pb(S.u),S.Pb(S.i))},ti.\u0275cmp=S.Jb({type:ti,selectors:[["cdk-tree"]],contentQueries:function(e,t,n){var i;1&e&&S.Ib(n,Di,!0),2&e&&S.tc(i=S.dc())&&(t._nodeDefs=i)},viewQuery:function(e,t){var n;1&e&&S.Ec(ji,!0),2&e&&S.tc(n=S.dc())&&(t._nodeOutlet=n.first)},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(e,t){1&e&&S.Rb(0,0)},directives:[ji],encapsulation:2}),ti),Ui=((ei=function(){function e(t,n){b(this,e),this._elementRef=t,this._tree=n,this._destroyed=new At.a,this._dataChanges=new At.a,this.role="treeitem",e.mostRecentTreeNode=this}return s(e,[{key:"ngOnDestroy",value:function(){e.mostRecentTreeNode===this&&(e.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}},{key:"focus",value:function(){this._elementRef.nativeElement.focus()}},{key:"_setRoleFromData",value:function(){this.role="treeitem"}},{key:"data",get:function(){return this._data},set:function(e){e!==this._data&&(this._data=e,this._setRoleFromData(),this._dataChanges.next())}},{key:"isExpanded",get:function(){return this._tree.treeControl.isExpanded(this._data)}},{key:"level",get:function(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):0}}]),e}()).\u0275fac=function(e){return new(e||ei)(S.Pb(S.m),S.Pb(Ei))},ei.\u0275dir=S.Kb({type:ei,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:3,hostBindings:function(e,t){2&e&&S.Eb("aria-expanded",t.isExpanded)("aria-level",t.level+1)("role",t.role)},inputs:{role:"role"},exportAs:["cdkTreeNode"]}),ei.mostRecentTreeNode=null,ei),Vi=((Yn=function(t){c(i,t);var n=u(i);function i(e,t,a){var r;return b(this,i),(r=n.call(this,e,t))._elementRef=e,r._tree=t,r._differs=a,r}return s(i,[{key:"ngAfterContentInit",value:function(){var e=this;this._dataDiffer=this._differs.find([]).create(this._tree.trackBy);var t=this._tree.treeControl.getChildren(this.data);Array.isArray(t)?this.updateChildrenNodes(t):Object(xi.a)(t)&&t.pipe(Object(Gt.a)(this._destroyed)).subscribe((function(t){return e.updateChildrenNodes(t)})),this.nodeOutlet.changes.pipe(Object(Gt.a)(this._destroyed)).subscribe((function(){return e.updateChildrenNodes()}))}},{key:"ngOnDestroy",value:function(){this._clear(),e(h(i.prototype),"ngOnDestroy",this).call(this)}},{key:"updateChildrenNodes",value:function(e){var t=this._getNodeOutlet();e&&(this._children=e),t&&this._children?this._tree.renderNodeChanges(this._children,this._dataDiffer,t.viewContainer,this._data):this._dataDiffer.diff([])}},{key:"_clear",value:function(){var e=this._getNodeOutlet();e&&(e.viewContainer.clear(),this._dataDiffer.diff([]))}},{key:"_getNodeOutlet",value:function(){var e=this,t=this.nodeOutlet;return t&&t.find((function(t){return!t._node||t._node===e}))}}]),i}(Ui)).\u0275fac=function(e){return new(e||Yn)(S.Pb(S.m),S.Pb(Ei),S.Pb(S.u))},Yn.\u0275dir=S.Kb({type:Yn,selectors:[["cdk-nested-tree-node"]],contentQueries:function(e,t,n){var i;1&e&&S.Ib(n,ji,!0),2&e&&S.tc(i=S.dc())&&(t.nodeOutlet=i)},hostAttrs:[1,"cdk-tree-node","cdk-nested-tree-node"],hostVars:2,hostBindings:function(e,t){2&e&&S.Eb("aria-expanded",t.isExpanded)("role",t.role)},exportAs:["cdkNestedTreeNode"],features:[S.Cb([{provide:Ui,useExisting:Yn},{provide:Ii,useExisting:Yn}]),S.Ab]}),Yn),Ai=/([A-Za-z%]+)$/,Mi=((ri=function(){function e(t,n,i,a,r){var o=this;b(this,e),this._treeNode=t,this._tree=n,this._element=a,this._dir=r,this._destroyed=new At.a,this.indentUnits="px",this._indent=40,this._setPadding(),r&&r.change.pipe(Object(Gt.a)(this._destroyed)).subscribe((function(){return o._setPadding(!0)})),t._dataChanges.subscribe((function(){return o._setPadding()}))}return s(e,[{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete()}},{key:"_paddingIndent",value:function(){var e=this._treeNode.data&&this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._treeNode.data):null,t=null==this._level?e:this._level;return"number"==typeof t?"".concat(t*this._indent).concat(this.indentUnits):null}},{key:"_setPadding",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._paddingIndent();if(t!==this._currentPadding||e){var n=this._element.nativeElement,i=this._dir&&"rtl"===this._dir.value?"paddingRight":"paddingLeft",a="paddingLeft"===i?"paddingRight":"paddingLeft";n.style[i]=t||"",n.style[a]="",this._currentPadding=t}}},{key:"_setLevelInput",value:function(e){this._level=Object(Oi.f)(e,null),this._setPadding()}},{key:"_setIndentInput",value:function(e){var t=e,n="px";if("string"==typeof e){var i=e.split(Ai);t=i[0],n=i[1]||n}this.indentUnits=n,this._indent=Object(Oi.f)(t),this._setPadding()}},{key:"level",get:function(){return this._level},set:function(e){this._setLevelInput(e)}},{key:"indent",get:function(){return this._indent},set:function(e){this._setIndentInput(e)}}]),e}()).\u0275fac=function(e){return new(e||ri)(S.Pb(Ui),S.Pb(Ei),S.Pb(S.H),S.Pb(S.m),S.Pb(Ci.c,8))},ri.\u0275dir=S.Kb({type:ri,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:["cdkTreeNodePadding","level"],indent:["cdkTreeNodePaddingIndent","indent"]}}),ri),Ti=((ai=function(){function e(t,n){b(this,e),this._tree=t,this._treeNode=n,this._recursive=!1}return s(e,[{key:"_toggle",value:function(e){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),e.stopPropagation()}},{key:"recursive",get:function(){return this._recursive},set:function(e){this._recursive=Object(Oi.c)(e)}}]),e}()).\u0275fac=function(e){return new(e||ai)(S.Pb(Ei),S.Pb(Ui))},ai.\u0275dir=S.Kb({type:ai,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(e,t){1&e&&S.cc("click",(function(e){return t._toggle(e)}))},inputs:{recursive:["cdkTreeNodeToggleRecursive","recursive"]}}),ai),Fi=((ii=function e(){b(this,e)}).\u0275mod=S.Nb({type:ii}),ii.\u0275inj=S.Mb({factory:function(e){return new(e||ii)}}),ii),Li=o("FKr1"),Ri=o("VRyK"),$i=Object(Li.y)(Object(Li.w)(Ui)),Ni=((si=function(e){c(n,e);var t=u(n);function n(e,i,a){var r;return b(this,n),(r=t.call(this,e,i))._elementRef=e,r._tree=i,r.role="treeitem",r.tabIndex=Number(a)||0,r}return n}($i)).\u0275fac=function(e){return new(e||si)(S.Pb(S.m),S.Pb(Ei),S.ac("tabindex"))},si.\u0275dir=S.Kb({type:si,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],hostVars:3,hostBindings:function(e,t){2&e&&S.Eb("aria-expanded",t.isExpanded)("aria-level",t.level+1)("role",t.role)},inputs:{disabled:"disabled",tabIndex:"tabIndex",role:"role"},exportAs:["matTreeNode"],features:[S.Cb([{provide:Ui,useExisting:si}]),S.Ab]}),si),Bi=((oi=function(e){c(n,e);var t=u(n);function n(){return b(this,n),t.apply(this,arguments)}return n}(Di)).\u0275fac=function(e){return zi(e||oi)},oi.\u0275dir=S.Kb({type:oi,selectors:[["","matTreeNodeDef",""]],inputs:{when:["matTreeNodeDefWhen","when"],data:["matTreeNode","data"]},features:[S.Cb([{provide:Di,useExisting:oi}]),S.Ab]}),oi),zi=S.Xb(Bi),Ki=((li=function(t){c(i,t);var n=u(i);function i(e,t,a,r){var o;return b(this,i),(o=n.call(this,e,t,a))._elementRef=e,o._tree=t,o._differs=a,o._disabled=!1,o.tabIndex=Number(r)||0,o}return s(i,[{key:"ngAfterContentInit",value:function(){e(h(i.prototype),"ngAfterContentInit",this).call(this)}},{key:"ngOnDestroy",value:function(){e(h(i.prototype),"ngOnDestroy",this).call(this)}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=Object(Oi.c)(e)}},{key:"tabIndex",get:function(){return this.disabled?-1:this._tabIndex},set:function(e){this._tabIndex=null!=e?e:0}}]),i}(Vi)).\u0275fac=function(e){return new(e||li)(S.Pb(S.m),S.Pb(Ei),S.Pb(S.u),S.ac("tabindex"))},li.\u0275dir=S.Kb({type:li,selectors:[["mat-nested-tree-node"]],hostAttrs:[1,"mat-nested-tree-node"],hostVars:2,hostBindings:function(e,t){2&e&&S.Eb("aria-expanded",t.isExpanded)("role",t.role)},inputs:{tabIndex:"tabIndex",disabled:"disabled",node:["matNestedTreeNode","node"]},exportAs:["matNestedTreeNode"],features:[S.Cb([{provide:Vi,useExisting:li},{provide:Ui,useExisting:li},{provide:Ii,useExisting:li}]),S.Ab]}),li),Qi=((ci=function(e){c(n,e);var t=u(n);function n(){return b(this,n),t.apply(this,arguments)}return s(n,[{key:"level",get:function(){return this._level},set:function(e){this._setLevelInput(e)}},{key:"indent",get:function(){return this._indent},set:function(e){this._setIndentInput(e)}}]),n}(Mi)).\u0275fac=function(e){return Wi(e||ci)},ci.\u0275dir=S.Kb({type:ci,selectors:[["","matTreeNodePadding",""]],inputs:{level:["matTreeNodePadding","level"],indent:["matTreeNodePaddingIndent","indent"]},features:[S.Cb([{provide:Mi,useExisting:ci}]),S.Ab]}),ci),Wi=S.Xb(Qi),Hi=((di=function e(t,n){b(this,e),this.viewContainer=t,this._node=n}).\u0275fac=function(e){return new(e||di)(S.Pb(S.S),S.Pb(Ii,8))},di.\u0275dir=S.Kb({type:di,selectors:[["","matTreeNodeOutlet",""]],features:[S.Cb([{provide:ji,useExisting:di}])]}),di),Xi=((ui=function(e){c(n,e);var t=u(n);function n(){return b(this,n),t.apply(this,arguments)}return n}(Ei)).\u0275fac=function(e){return Zi(e||ui)},ui.\u0275cmp=S.Jb({type:ui,selectors:[["mat-tree"]],viewQuery:function(e,t){var n;1&e&&S.Ec(Hi,!0),2&e&&S.tc(n=S.dc())&&(t._nodeOutlet=n.first)},hostAttrs:["role","tree",1,"mat-tree"],exportAs:["matTree"],features:[S.Cb([{provide:Ei,useExisting:ui}]),S.Ab],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(e,t){1&e&&S.Rb(0,0)},directives:[Hi],styles:[".mat-tree{display:block}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word}.mat-nested-tree-node{border-bottom-width:0}\n"],encapsulation:2}),ui),Zi=S.Xb(Xi),Ji=((pi=function(e){c(n,e);var t=u(n);function n(){return b(this,n),t.apply(this,arguments)}return s(n,[{key:"recursive",get:function(){return this._recursive},set:function(e){this._recursive=Object(Oi.c)(e)}}]),n}(Ti)).\u0275fac=function(e){return qi(e||pi)},pi.\u0275dir=S.Kb({type:pi,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:["matTreeNodeToggleRecursive","recursive"]},features:[S.Cb([{provide:Ti,useExisting:pi}]),S.Ab]}),pi),qi=S.Xb(Ji),Gi=((hi=function e(){b(this,e)}).\u0275mod=S.Nb({type:hi}),hi.\u0275inj=S.Mb({factory:function(e){return new(e||hi)},imports:[[Fi,Li.h],Li.h]}),hi),Yi=function(){function e(t,n,i,a){b(this,e),this.transformFunction=t,this.getLevel=n,this.isExpandable=i,this.getChildren=a}return s(e,[{key:"_flattenNode",value:function(e,t,n,i){var a=this,r=this.transformFunction(e,t);if(n.push(r),this.isExpandable(r)){var o=this.getChildren(e);o&&(Array.isArray(o)?this._flattenChildren(o,t,n,i):o.pipe(Object(ki.a)(1)).subscribe((function(e){a._flattenChildren(e,t,n,i)})))}return n}},{key:"_flattenChildren",value:function(e,t,n,i){var a=this;e.forEach((function(r,o){var s=i.slice();s.push(o!=e.length-1),a._flattenNode(r,t+1,n,s)}))}},{key:"flattenNodes",value:function(e){var t=this,n=[];return e.forEach((function(e){return t._flattenNode(e,0,n,[])})),n}},{key:"expandFlattenedNodes",value:function(e,t){var n=this,i=[],a=[];return a[0]=!0,e.forEach((function(e){for(var r=!0,o=0;o<=n.getLevel(e);o++)r=r&&a[o];r&&i.push(e),n.isExpandable(e)&&(a[n.getLevel(e)+1]=t.isExpanded(e))})),i}}]),e}(),ea=function(e){c(n,e);var t=u(n);function n(e,i){var a,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return b(this,n),(a=t.call(this))._treeControl=e,a._treeFlattener=i,a._flattenedData=new Mt.a([]),a._expandedData=new Mt.a([]),a._data=new Mt.a(r),a}return s(n,[{key:"connect",value:function(e){var t=this,n=[e.viewChange,this._treeControl.expansionModel.changed,this._flattenedData];return Object(Ri.a).apply(void 0,n).pipe(Object(qt.a)((function(){return t._expandedData.next(t._treeFlattener.expandFlattenedNodes(t._flattenedData.value,t._treeControl)),t._expandedData.value})))}},{key:"disconnect",value:function(){}},{key:"data",get:function(){return this._data.value},set:function(e){this._data.next(e),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}}]),n}(wi.b),ta=((bi=function(){function e(){b(this,e),this.createTreeFlattener(),this.createTreeControl(),this.createTreeDataSource()}return s(e,[{key:"createTreeFlattener",value:function(){this.flattener=new Yi(this.transformer,this.getLevel,this.isExpandable,this.getChildren)}},{key:"createTreeControl",value:function(){this.control=new Pi(this.getLevel,this.isExpandable)}},{key:"createTreeDataSource",value:function(){this.dataSource=new ea(this.control,this.flattener)}},{key:"transformer",value:function(e,t){var n=Object.assign({},e);return n.level=t,n.expandable=!!e.children,n}},{key:"getLevel",value:function(e){return e.level}},{key:"isExpandable",value:function(e){return e.expandable}},{key:"getChildren",value:function(e){return Object(_i.a)(e.children)}},{key:"data",set:function(e){this.dataSource.data=e}}]),e}()).\u0275fac=function(e){return new(e||bi)},bi.\u0275prov=S.Lb({token:bi,factory:bi.\u0275fac,providedIn:"root"}),bi),na=new S.s("AVAILABLE_CONTEXT_MENUS"),ia=o("+rOU"),aa=function(){function e(t){b(this,e),this.overlayRef=t}return s(e,[{key:"close",value:function(){this.overlayRef&&this.overlayRef.dispose()}},{key:"backdropClick",value:function(){return this.overlayRef.backdropClick()}},{key:"attachments",value:function(){return this.overlayRef.attachments()}},{key:"detachments",value:function(){return this.overlayRef.detachments()}},{key:"backdropElement",value:function(){return this.overlayRef.backdropElement}},{key:"contextMenuElement",value:function(){return this.overlayRef.overlayElement}}]),e}(),ra=new S.s("CONTEXT_MENU_DATA"),oa=o("rDax"),sa=((gi=function(){function e(t,n,i,a,r){var o=this;b(this,e),this.router=t,this.zone=n,this.injector=i,this.resolver=a,this.overlay=r,this.router.events.pipe(Object(Vt.a)((function(e){return e instanceof I.e}))).subscribe((function(){return o.close()}))}return s(e,[{key:"open",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.close(),e){var i=this.createOverlay(t,n);this.openContextMenu=new aa(i);var a=new ia.g(this.injector,new WeakMap([[ra,n.data],[aa,this.openContextMenu]])),r=new ia.d(e,null,a);return i.attach(r),this.bindEventsToOverlay(),this.openContextMenu}}},{key:"close",value:function(){this.removeLastOrigin(),this.openContextMenu&&(this.openContextMenu.close(),this.openContextMenu=null)}},{key:"createOverlay",value:function(e,t){return this.overlay.create({positionStrategy:this.getMenuPositionStrategy(e,t),scrollStrategy:this.overlay.scrollStrategies.close(),hasBackdrop:!0,backdropClass:"context-menu-backdrop",panelClass:"context-menu-overlay"})}},{key:"bindEventsToOverlay",value:function(){var e=this;this.openContextMenu.contextMenuElement().addEventListener("click",(function(){e.close()})),this.openContextMenu.backdropClick().subscribe((function(){e.close()})),this.openContextMenu.backdropElement().addEventListener("contextmenu",(function(t){t.preventDefault(),e.close()})),this.openContextMenu.detachments().subscribe((function(){e.close()}))}},{key:"getMenuPositionStrategy",value:function(e,t){this.createOriginFromEvent(e,t);var n={originX:t.originX||"center",originY:t.originY||"bottom",overlayX:t.overlayX||"center",overlayY:t.overlayY||"top"};return this.overlay.position().flexibleConnectedTo(new S.m(this.lastOrigin)).withPositions([n,{originX:"end",originY:"bottom",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"bottom"}])}},{key:"createOriginFromEvent",value:function(e,t){this.removeLastOrigin(),e instanceof HTMLElement||e instanceof EventTarget?this.lastOrigin=e:(this.lastOrigin=document.createElement("div"),this.lastOrigin.style.position="fixed",this.lastOrigin.style.top=e.clientY+(t.offsetY||0)+"px",this.lastOrigin.style.left=e.clientX+(t.offsetX||0)+"px",this.lastOrigin.id="dynamic-context-menu-origin",document.body.appendChild(this.lastOrigin))}},{key:"removeLastOrigin",value:function(){this.lastOrigin&&"dynamic-context-menu-origin"===this.lastOrigin.id&&this.lastOrigin.remove()}}]),e}()).\u0275fac=function(e){return new(e||gi)(S.Zb(I.g),S.Zb(S.B),S.Zb(S.t),S.Zb(S.k),S.Zb(oa.a))},gi.\u0275prov=S.Lb({token:gi,factory:gi.\u0275fac,providedIn:"root"}),gi),ca=((fi=function(){function e(t,n,i){var a=this;b(this,e),this.el=t,this.contextMenu=n,this.disableContextMenu=!1,this.availableMenus={},i.forEach((function(e){Object.assign(a.availableMenus,e)}))}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.el.nativeElement.addEventListener("contextmenu",(function(t){t.preventDefault(),t.stopPropagation(),e.disableContextMenu||e.contextMenu.open(e.getMenuComponent(),t,{overlayX:"start",overlayY:"top",data:e.getMenuData()})}))}},{key:"getMenuComponent",value:function(){return"string"==typeof this.params?this.availableMenus[this.params]:this.availableMenus[this.params.type]}},{key:"getMenuData",value:function(){return"string"==typeof this.params?{type:this.params}:this.params}}]),e}()).\u0275fac=function(e){return new(e||fi)(S.Pb(S.m),S.Pb(sa),S.Pb(na))},fi.\u0275dir=S.Kb({type:fi,selectors:[["","contextMenu",""]],inputs:{params:["contextMenu","params"],disableContextMenu:"disableContextMenu"}}),fi),la=o("xgIS"),ua=((mi=function(){function e(){b(this,e),this.subs=[]}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.dragging.subscribe((function(t){t?e.onDragStart():e.onDragEnd()}))}},{key:"ngOnDestroy",value:function(){this.unsubscribe()}},{key:"onDragStart",value:function(){var e=this,t=Object(la.a)(this.el.nativeElement,"mouseenter").subscribe((function(){return e.onDragEnter()})),n=Object(la.a)(this.el.nativeElement,"mouseleave").subscribe((function(){return e.onDragLeave()}));this.subs.push(t,n)}},{key:"onDragEnter",value:function(){var e,t=["drag-over"];this.canDrop()&&(this.active=!0,t.push("can-drop")),(e=this.el.nativeElement.classList).add.apply(e,t)}},{key:"onDragLeave",value:function(){this.active=!1,this.removeDragOverClass()}},{key:"onDragEnd",value:function(){this.unsubscribe(),this.removeDragOverClass(),this.active&&this.canDrop()&&(this.executeAction(),this.active=!1)}},{key:"unsubscribe",value:function(){this.subs.forEach((function(e){return e&&e.unsubscribe()}))}},{key:"removeDragOverClass",value:function(){this.el.nativeElement.classList.remove("drag-over","can-drop")}}]),e}()).\u0275fac=function(e){return new(e||mi)},mi.\u0275dir=S.Kb({type:mi}),Object(j.b)([Object(D.d)(kt.dragging)],mi.prototype,"dragging",void 0),mi),da=((vi=function(e){c(n,e);var t=u(n);function n(e,i){var a;return b(this,n),(a=t.call(this)).el=e,a.store=i,a}return s(n,[{key:"canDrop",value:function(){var e=this.store.selectSnapshot(kt.selectedEntries);return kt.canMoveEntriesTo(e,this.folder)}},{key:"executeAction",value:function(){return this.store.dispatch(new X(this.folder))}}]),n}(ua)).\u0275fac=function(e){return new(e||vi)(S.Pb(S.m),S.Pb(D.g))},vi.\u0275dir=S.Kb({type:vi,selectors:[["","folderDropTarget",""]],inputs:{folder:["folderDropTarget","folder"]},features:[S.Ab]}),vi);function pa(e,t){if(1&e){var n=S.Wb();S.Vb(0,"div",3),S.cc("click",(function(){return S.xc(n),S.gc().selectFolder()})),S.hc(1,"async"),S.Qb(2,"mat-icon",4),S.Vb(3,"span",5),S.Kc(4,"My Drive"),S.Ub(),S.Ub()}if(2&e){var i=S.gc();S.Hb("active",!S.ic(1,2,i.selectedFolderId$))}}var ha=function(e){return{type:"entry",entry:e}};function ba(e,t){if(1&e){var n=S.Wb();S.Vb(0,"mat-tree-node",6),S.hc(1,"async"),S.Qb(2,"mat-icon",7),S.Vb(3,"button",8),S.cc("click",(function(){S.xc(n);var e=t.$implicit;return S.gc().selectFolder(e)})),S.Qb(4,"mat-icon",9),S.Vb(5,"span",10),S.Kc(6),S.Ub(),S.Ub(),S.Ub()}if(2&e){var i=t.$implicit,a=S.gc();S.Hb("active",S.ic(1,9,a.selectedFolderId$)===i.hash),S.mc("matTreeNodePaddingIndent",a.showRootNode?40:24)("contextMenu",S.qc(11,ha,i))("disableContextMenu",a.disableContextMenu)("folderDropTarget",i),S.Db(2),S.Hb("expanded",a.tree.control.isExpanded(i)),S.Db(4),S.Lc(i.name)}}var fa,ga,va=((ga=function(){function e(t,n){b(this,e),this.tree=t,this.store=n,this.expanded=!1,this.showRootNode=!1,this.disableContextMenu=!1,this.folderSelected=new S.o,this.subscriptions=[],this.selectedFolderId$=new Mt.a(null)}return s(e,[{key:"selectFolder",value:function(e){this.selectedFolderId$.next(null==e?void 0:e.hash),this.folderSelected.emit(e)}},{key:"toggle",value:function(){this.expanded=!this.expanded}},{key:"ngOnInit",value:function(){var e=this,t=this.store.select(kt.userFolders).pipe(Object(Vt.a)((function(e){return!!e}))).subscribe((function(t){e.tree.data=t})),n=this.store.select(kt.activePage).subscribe((function(t){e.selectedFolderId$.next(t.folderHash)}));this.subscriptions.push(t,n)}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}}]),e}()).\u0275fac=function(e){return new(e||ga)(S.Pb(ta),S.Pb(D.g))},ga.\u0275cmp=S.Jb({type:ga,selectors:[["folders-tree"]],hostVars:4,hostBindings:function(e,t){2&e&&S.Hb("expanded",t.expanded)("has-root-node",t.showRootNode)},inputs:{expanded:"expanded",showRootNode:"showRootNode",disableContextMenu:"disableContextMenu"},outputs:{folderSelected:"folderSelected"},features:[S.Cb([ta])],decls:3,vars:3,consts:[["class","mat-tree-node root-tree-node",3,"active","click",4,"ngIf"],[3,"dataSource","treeControl"],["matTreeNodePadding","","class","tree-node",3,"matTreeNodePaddingIndent","contextMenu","disableContextMenu","folderDropTarget","active",4,"matTreeNodeDef"],[1,"mat-tree-node","root-tree-node",3,"click"],["svgIcon","network-drive-custom",1,"folder-icon"],["trans","",1,"text"],["matTreeNodePadding","",1,"tree-node",3,"matTreeNodePaddingIndent","contextMenu","disableContextMenu","folderDropTarget"],["matTreeNodeToggle","","svgIcon","arrow-drop-down",1,"toggle-expansion-icon"],["type","button",1,"no-style","folder-button",3,"click"],["svgIcon","folder",1,"folder-icon"],[1,"folder-name","text"]],template:function(e,t){1&e&&(S.Ic(0,pa,5,4,"div",0),S.Vb(1,"mat-tree",1),S.Ic(2,ba,7,13,"mat-tree-node",2),S.Ub()),2&e&&(S.mc("ngIf",t.showRootNode),S.Db(1),S.mc("dataSource",t.tree.dataSource)("treeControl",t.tree.control))},directives:[P.t,Xi,Bi,_t.a,nn.a,Ni,Qi,ca,da,Ji],pipes:[P.b],styles:["folders-tree{display:none;color:var(--be-text)}folders-tree.expanded{display:block}folders-tree.has-root-node .mat-tree-node:not(.root-tree-node){padding-left:16px}folders-tree .folder-icon{margin-right:5px;color:var(--be-secondary-text);flex:0 0 24px}folders-tree .mat-tree .folder-button{display:flex;align-items:center;color:inherit;width:100%;min-height:inherit;line-height:inherit}folders-tree .mat-tree .folder-name{padding-top:2.5px}folders-tree .mat-tree-node{padding-right:24px;white-space:nowrap;color:inherit;background-color:var(--be-background-alternative)}folders-tree .mat-tree-node.disabled{pointer-events:none;opacity:.5}folders-tree .mat-tree-node:not(.active):not(.drag-over):hover{background-color:var(--be-hover)}folders-tree .mat-tree-node.active{color:var(--be-accent-default);background-color:var(--be-accent-emphasis)}folders-tree .mat-tree-node.active .folder-icon{color:inherit}folders-tree .mat-tree-node.active .text{font-weight:500}folders-tree .root-tree-node{padding-left:12px;cursor:pointer}folders-tree .root-tree-node .mat-icon{margin-right:6px}"],encapsulation:2,changeDetection:0}),ga),ma=((fa=function(){function e(t,n,i){var a=this;b(this,e),this.dialogRef=t,this.store=n,this.actions=i,this.destination$=new Mt.a(this.store.selectSnapshot(kt.activePage).folder),this.loading$=new Mt.a(!1),this.subscriptions=[],this.canMove$=this.destination$.pipe(Object(qt.a)((function(e){var t=a.store.selectSnapshot(kt.selectedEntries);return kt.canMoveEntriesTo(t,e)})))}return s(e,[{key:"ngOnInit",value:function(){var e=this,t=this.actions.pipe(Object(D.h)(We)).subscribe((function(){e.loading$.next(!1)})),n=this.actions.pipe(Object(D.h)(Qe),Object(ki.a)(1)).subscribe((function(){e.close()}));this.subscriptions.push(n,t)}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"confirm",value:function(){var e=this;this.loading$.next(!0),this.store.dispatch(new X(this.destination$.value)).subscribe((function(){e.loading$.next(!1)}))}},{key:"close",value:function(){this.dialogRef.close()}}]),e}()).\u0275fac=function(e){return new(e||fa)(S.Pb(Yt.h),S.Pb(D.g),S.Pb(D.b))},fa.\u0275cmp=S.Jb({type:fa,selectors:[["move-entries-dialog"]],decls:15,vars:8,consts:[[1,"modal-header"],["mat-dialog-title","","trans",""],["type","button","mat-icon-button","","tabindex","-1",1,"close-button",3,"click"],["svgIcon","close"],["ngNativeValidate","",3,"ngSubmit"],[3,"expanded","disableContextMenu","showRootNode","folderSelected"],["type","button","mat-button","","trans","",1,"cancel-button",3,"click"],["type","submit","mat-raised-button","","color","accent","trans","",1,"submit-button",3,"disabled"]],template:function(e,t){1&e&&(S.Vb(0,"div",0),S.Vb(1,"h2",1),S.Kc(2,"Move items"),S.Ub(),S.Vb(3,"button",2),S.cc("click",(function(){return t.close()})),S.Qb(4,"mat-icon",3),S.Ub(),S.Ub(),S.Vb(5,"form",4),S.cc("ngSubmit",(function(){return t.confirm()})),S.Vb(6,"mat-dialog-content"),S.Vb(7,"folders-tree",5),S.cc("folderSelected",(function(e){return t.destination$.next(e)})),S.Ub(),S.Ub(),S.Vb(8,"mat-dialog-actions"),S.Vb(9,"button",6),S.cc("click",(function(){return t.close()})),S.Kc(10,"Cancel"),S.Ub(),S.Vb(11,"button",7),S.hc(12,"async"),S.hc(13,"async"),S.Kc(14,"Move"),S.Ub(),S.Ub(),S.Ub()),2&e&&(S.Db(7),S.mc("expanded",!0)("disableContextMenu",!0)("showRootNode",!0),S.Db(4),S.mc("disabled",!S.ic(12,4,t.canMove$)||S.ic(13,6,t.loading$)))},directives:[Yt.i,nn.a,an.b,_t.a,Jt.v,Jt.w,Yt.f,va,Yt.c],pipes:[P.b],styles:[".move-entries-dialog-container{width:350px}move-entries-dialog{display:block;width:400px;max-width:100%}move-entries-dialog folders-tree{border:1px solid var(--be-divider-lighter);border-radius:3px}move-entries-dialog .mat-dialog-actions{margin-top:15px}"],encapsulation:2,changeDetection:0}),Object(j.b)([Object(D.d)(kt.selectedEntries)],fa.prototype,"selectedEntries$",void 0),fa);function ya(e,t){if(1&e&&(S.Vb(0,"div",11),S.Kc(1),S.Ub()),2&e){var n=S.gc();S.Db(1),S.Lc(n.errors.name)}}var ka,wa,xa,_a,Oa,Ca,Pa,Ia,ja=((xa=function(){function e(t,n,i,a,r){b(this,e),this.dialogRef=t,this.store=n,this.toast=i,this.entriesApi=a,this.changeDetection=r,this.entryName=new Jt.i,this.loading=new Mt.a(!1),this.errors={}}return s(e,[{key:"ngOnInit",value:function(){this.entry=this.store.selectSnapshot(kt.selectedEntries)[0],this.entryName.setValue(this.entry.name)}},{key:"confirm",value:function(){var e=this,t=this.entryName.value;return t===this.entry.name?this.close():(this.loading.next(!0),this.entriesApi.update(this.entry.id,{name:t}).pipe(Object(U.a)((function(){return e.loading.next(!1)}))).subscribe((function(){e.setErrors(),e.store.dispatch(new Be(e.entry,t)),e.close()}),(function(t){return e.setErrors(t)})))}},{key:"setErrors",value:function(e){this.loading.next(!1),this.errors=e?e.errors:{},this.changeDetection.detectChanges()}},{key:"close",value:function(){this.dialogRef.close()}}]),e}()).\u0275fac=function(e){return new(e||xa)(S.Pb(Yt.h),S.Pb(D.g),S.Pb(yt.b),S.Pb(st),S.Pb(S.i))},xa.\u0275cmp=S.Jb({type:xa,selectors:[["rename-entry-dialog"]],decls:16,vars:5,consts:[[1,"modal-header"],["mat-dialog-title","","trans",""],["type","button","mat-icon-button","","tabindex","-1",1,"close-button",3,"click"],["svgIcon","close"],["ngNativeValidate","",3,"ngSubmit"],[1,"many-inputs"],[1,"input-container"],["type","text","placeholder","Enter a name...","trans-placeholder","","required","","min","3",3,"formControl"],["class","error",4,"ngIf"],["type","button","mat-button","","trans","",1,"cancel-button",3,"click"],["type","submit","mat-raised-button","","color","accent","trans","",1,"submit-button",3,"disabled"],[1,"error"]],template:function(e,t){1&e&&(S.Vb(0,"div",0),S.Vb(1,"h2",1),S.Kc(2,"Rename"),S.Ub(),S.Vb(3,"button",2),S.cc("click",(function(){return t.close()})),S.Qb(4,"mat-icon",3),S.Ub(),S.Ub(),S.Vb(5,"form",4),S.cc("ngSubmit",(function(){return t.confirm()})),S.Vb(6,"mat-dialog-content",5),S.Vb(7,"div",6),S.Qb(8,"input",7),S.Ic(9,ya,2,1,"div",8),S.Ub(),S.Ub(),S.Vb(10,"mat-dialog-actions"),S.Vb(11,"button",9),S.cc("click",(function(){return t.close()})),S.Kc(12,"Cancel"),S.Ub(),S.Vb(13,"button",10),S.hc(14,"async"),S.Kc(15,"Rename"),S.Ub(),S.Ub(),S.Ub()),2&e&&(S.Db(8),S.mc("formControl",t.entryName),S.Db(1),S.mc("ngIf",t.errors.name),S.Db(4),S.mc("disabled",S.ic(14,3,t.loading)))},directives:[Yt.i,nn.a,an.b,_t.a,Jt.v,Jt.w,Yt.f,Jt.d,Jt.F,Jt.u,Jt.j,P.t,Yt.c],pipes:[P.b],styles:["[_nghost-%COMP%]{display:block;width:400px;max-width:100%}"],changeDetection:0}),xa),Sa=((wa=function(){function e(t,n,i){b(this,e),this.store=t,this.workspaces=n,this.currentUser=i}return s(e,[{key:"getActions",value:function(){return this.updateStatus(),this.actions}},{key:"getSelectedEntries",value:function(){return this.store.selectSnapshot(kt.selectedEntries)}},{key:"updateStatus",value:function(){this.multipleEntriesSelected=this.store.selectSnapshot(kt.multipleEntriesSelected),this.allStarred=this.store.selectSnapshot(kt.allSelectedEntriesStarred),this.onlyFoldersSelected=this.store.selectSnapshot(kt.onlyFoldersSelected)}},{key:"hasPermission",value:function(e){if("files.create"===e){var t=this.store.selectSnapshot(kt.activePage).folder,n=!this.multipleEntriesSelected&&this.getSelectedFolder()||t;return((null==n?void 0:n.permissions)||[])["files.update"]}return this.getSelectedEntries().every((function(t){return t.permissions[e]}))}},{key:"getSelectedFolder",value:function(){return this.getSelectedEntries().find((function(e){return"folder"===e.type}))}},{key:"openUploadWindow",value:function(e){this.store.dispatch(new pe(e))}}]),e}()).\u0275fac=function(e){return new(e||wa)(S.Zb(D.g),S.Zb(mt.a),S.Zb(rt.a))},wa.\u0275prov=S.Lb({token:wa,factory:wa.\u0275fac,providedIn:"root"}),wa),Da=((ka=function(e){c(n,e);var t=u(n);function n(){var e;return b(this,n),(e=t.apply(this,arguments)).actions=[{viewName:"Preview",icon:"visibility",showInCompact:!0,execute:function(){e.store.dispatch(new ae)},visible:function(){return!e.onlyFoldersSelected}},{viewName:"Manage People",icon:"person-add",showInCompact:!0,execute:function(){e.store.dispatch(new Z(jn))},visible:function(){return e.hasPermission("files.update")}},{viewName:"Get shareable link",icon:"link",execute:function(){e.store.dispatch(new Z(Zn,null,{panelClass:"share-link-dialog-container",autoFocus:!1}))},visible:function(){return!e.multipleEntriesSelected&&e.hasPermission("files.update")}},{viewName:"Add a star",icon:"star",execute:function(){e.store.dispatch(new oe(e.getSelectedEntries()))},visible:function(){return!e.allStarred}},{viewName:"Remove star",icon:"star-border",execute:function(){e.store.dispatch(new se(e.getSelectedEntries()))},visible:function(){return e.allStarred}},{viewName:"New Folder",icon:"create-new-folder",separatorBefore:e.store.selectSnapshot(kt.isMobile),execute:function(){e.store.dispatch(new Z(yi,{folder:e.getSelectedFolder()}))},visible:function(){return e.hasPermission("files.create")}},{viewName:"Upload Files",icon:"cloud-upload",execute:function(){e.openUploadWindow("file")},visible:function(){return e.hasPermission("files.create")&&e.store.selectSnapshot(kt.isMobile)}},{viewName:"Upload Folder",icon:"upload-folder-custom",execute:function(){e.openUploadWindow("directory")},visible:function(){return e.hasPermission("files.create")&&e.store.selectSnapshot(kt.isMobile)}},{viewName:"Move to",icon:"subdirectory-arrow-right",separatorBefore:e.store.selectSnapshot(kt.isMobile),execute:function(){e.store.dispatch(new Z(ma,null,{panelClass:"move-entries-dialog-container"}))},visible:function(){return e.hasPermission("files.update")}},{viewName:"Rename",icon:"edit",execute:function(){e.store.dispatch(new Z(ja))},visible:function(){return!e.multipleEntriesSelected&&e.hasPermission("files.update")}},{viewName:"Make a copy",icon:"file-copy",execute:function(){e.store.dispatch(new de)},visible:function(){return e.hasPermission("files.create")}},{viewName:"Download",icon:"file-download",execute:function(){e.store.dispatch(new re)},visible:function(){return e.hasPermission("files.download")}},{viewName:"Delete",icon:"delete",showInCompact:!0,separatorBefore:!0,execute:function(){e.store.dispatch(new K)},visible:function(){return e.hasPermission("files.delete")}}],e}return n}(Sa)).\u0275fac=function(e){return Ea(e||ka)},ka.\u0275prov=S.Lb({token:ka,factory:ka.\u0275fac,providedIn:"root"}),ka),Ea=S.Xb(Da),Ua=((_a=function(e){c(n,e);var t=u(n);function n(){var e;return b(this,n),(e=t.apply(this,arguments)).actions=[{viewName:"New Folder",icon:"create-new-folder",execute:function(){e.store.dispatch(new Z(yi))},visible:function(){return e.hasPermission("files.create")}},{viewName:"Upload Files",icon:"cloud-upload",separatorBefore:!0,execute:function(){e.openUploadWindow("file")},visible:function(){return e.hasPermission("files.create")}},{viewName:"Upload Folder",icon:"upload-folder-custom",execute:function(){e.openUploadWindow("directory")},visible:function(){return e.hasPermission("files.create")}}],e}return n}(Sa)).\u0275fac=function(e){return Va(e||_a)},_a.\u0275prov=S.Lb({token:_a,factory:_a.\u0275fac,providedIn:"root"}),_a),Va=S.Xb(Ua),Aa=function(){return!0},Ma=((Ca=function(e){c(n,e);var t=u(n);function n(e,i,a,r){var o;return b(this,n),(o=t.call(this,e,r,i)).store=e,o.currentUser=i,o.shares=a,o.workspaces=r,o.actions=[{viewName:"Preview",icon:"visibility",execute:function(){o.store.dispatch(new ae)},visible:function(){return!o.onlyFoldersSelected}},{viewName:"Manage People",icon:"person-add",showInCompact:!0,execute:function(){o.store.dispatch(new Z(jn))},visible:function(){return o.hasPermission("files.update")}},{viewName:"Get shareable link",icon:"link",execute:function(){o.store.dispatch(new Z(Zn,null,{panelClass:"share-link-dialog-container",autoFocus:!1}))},visible:function(){return!o.multipleEntriesSelected&&o.hasPermission("files.update")}},{viewName:"Rename",icon:"edit",execute:function(){o.store.dispatch(new Z(ja))},visible:function(){return!o.multipleEntriesSelected&&o.hasPermission("files.update")}},{viewName:"Make a copy",icon:"file-copy",execute:function(){o.store.dispatch(new de)},visible:function(){return o.hasPermission("files.download")&&o.hasPermission("files.create")}},{viewName:"Download",icon:"file-download",execute:function(){o.store.dispatch(new re)},visible:function(){return o.hasPermission("files.download")}},{viewName:"Remove",icon:"delete",showInCompact:!0,execute:function(){var e=o.getSelectedEntries();o.shares.detachUser(o.currentUser.get("id"),e.map((function(e){return e.id}))).subscribe((function(){o.store.dispatch(new ce(e))}))},visible:Aa}],o}return n}(Sa)).\u0275fac=function(e){return new(e||Ca)(S.Zb(D.g),S.Zb(rt.a),S.Zb(Nt),S.Zb(mt.a))},Ca.\u0275prov=S.Lb({token:Ca,factory:Ca.\u0275fac,providedIn:"root"}),Ca),Ta=((Oa=function(e){c(n,e);var t=u(n);function n(){var e;return b(this,n),(e=t.apply(this,arguments)).actions=[{viewName:"Restore",icon:"restore",showInCompact:!0,execute:function(){e.store.dispatch(new te)},visible:function(){return e.hasPermission("files.update")}},{viewName:"Delete Forever",icon:"delete-forever",showInCompact:!0,execute:function(){e.deleteForever()},visible:function(){return e.hasPermission("files.delete")}}],e}return s(n,[{key:"deleteForever",value:function(){this.store.dispatch(new J({title:"Delete Forever",body:"This will permanently delete selected items.",bodyBold:"This action can not be undone.",ok:"Delete Forever"},new ne))}}]),n}(Sa)).\u0275fac=function(e){return Fa(e||Oa)},Oa.\u0275prov=S.Lb({token:Oa,factory:Oa.\u0275fac,providedIn:"root"}),Oa),Fa=S.Xb(Ta),La=((Pa=function(e){c(n,e);var t=u(n);function n(){var e;return b(this,n),(e=t.apply(this,arguments)).actions=[{viewName:"Empty Trash",icon:"delete-forever",execute:function(){e.emptyTrash()},visible:function(){return e.hasPermission("files.delete")}}],e}return s(n,[{key:"emptyTrash",value:function(){this.store.dispatch(new J({title:"Empty Trash",body:"All files and folders in your trash will be permanently deleted.",bodyBold:"This action can not be undone.",ok:"Empty Trash"},new ie))}}]),n}(Sa)).\u0275fac=function(e){return Ra(e||Pa)},Pa.\u0275prov=S.Lb({token:Pa,factory:Pa.\u0275fac,providedIn:"root"}),Pa),Ra=S.Xb(La),$a=((Ia=function e(){b(this,e)}).\u0275fac=function(e){return new(e||Ia)},Ia.\u0275prov=S.Lb({token:Ia,factory:Ia.\u0275fac,providedIn:"root"}),Ia),Na=o("0MNC"),Ba=o("N2vX"),za=[{name:"Folders",type:"folder"},{name:"Images",type:"image"},{name:"Text documents",type:"text"},{name:"Video",type:"video"},{name:"Audio",type:"audio"},{name:"PDFs",type:"pdf"}],Ka=o("/1cH"),Qa=o("Kj3r"),Wa=o("/uUt"),Ha={pagination:{data:[]}},Xa=o("iB19"),Za=["trigger"],Ja=["auto"];function qa(e,t){if(1&e){var n=S.Wb();S.Vb(0,"button",9),S.cc("click",(function(){return S.xc(n),S.gc().resetForm()})),S.Qb(1,"mat-icon",10),S.Ub()}}function Ga(e,t){if(1&e&&(S.Vb(0,"div",17),S.Kc(1),S.Ub()),2&e){var n=S.gc().$implicit;S.Db(1),S.Lc(null==n.content.users[0]?null:n.content.users[0].display_name)}}function Ya(e,t){if(1&e&&(S.Vb(0,"div",18),S.Kc(1),S.hc(2,"formattedDate"),S.Ub()),2&e){var n=S.gc().$implicit;S.Db(1),S.Lc(S.ic(2,1,n.content.updated_at))}}function er(e,t){if(1&e&&(S.Tb(0),S.Vb(1,"mat-option",11),S.Qb(2,"file-icon",12),S.Vb(3,"div",13),S.Vb(4,"div",14),S.Kc(5),S.hc(6,"trans"),S.Ub(),S.Ic(7,Ga,2,1,"div",15),S.Ub(),S.Ic(8,Ya,3,3,"div",16),S.Ub(),S.Sb()),2&e){var n=t.$implicit;S.Db(1),S.mc("value",n),S.Db(1),S.mc("type",n.content.type),S.Db(3),S.Lc("entryType"===n.type?S.ic(6,5,n.content.name):n.content.name),S.Db(2),S.mc("ngIf",n.content.users),S.Db(1),S.mc("ngIf",n.content.updated_at)}}var tr,nr,ir=((tr=function(){function e(t,n){var i=this;b(this,e),this.store=t,this.driveApi=n,this.defaultResults=[],this.formControl=new Jt.i,this.results$=new Mt.a([]),this.displayFn=function(){return i.lastQuery||""},this.setDefaultResults()}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.formControl.valueChanges.pipe(Object(Qa.a)(300),Object(Wa.a)(),Object(Vt.a)((function(e){return"string"==typeof e})),Object(bn.a)((function(t){return e.search(t)}))).subscribe((function(t){e.results$.next((t.data||[]).map((function(e){return{type:"entry",content:e}})))}))}},{key:"executeAction",value:function(e){var t=e.option.value;"entryType"===t.type?(this.openSearchPage({type:t.content.type}),this.resetForm()):this.store.dispatch(new Le(t.content)),this.closePanelAndBlur()}},{key:"openSearchPage",value:function(e){var t=this;this.store.dispatch(new $(e)).subscribe((function(){t.closePanelAndBlur()}))}},{key:"search",value:function(e){return this.lastQuery=e,!e||e.length<3?Object(_i.a)(Ha):this.driveApi.getCurrentUserEntries({query:e,per_page:8})}},{key:"setDefaultResults",value:function(){this.defaultResults=za.map((function(e){return{type:"entryType",content:e}})),this.results$.next(this.defaultResults)}},{key:"resetForm",value:function(){this.formControl.reset(),this.setDefaultResults(),this.lastQuery=null}},{key:"closePanelAndBlur",value:function(){this.trigger.closePanel(),this.input.nativeElement.blur()}}]),e}()).\u0275fac=function(e){return new(e||tr)(S.Pb(D.g),S.Pb(st))},tr.\u0275cmp=S.Jb({type:tr,selectors:[["main-searchbar"]],viewQuery:function(e,t){var n;1&e&&(S.Qc(Za,!0,Ka.d),S.Qc(Za,!0,S.m),S.Qc(Ja,!0)),2&e&&(S.tc(n=S.dc())&&(t.trigger=n.first),S.tc(n=S.dc())&&(t.input=n.first),S.tc(n=S.dc())&&(t.autocomplete=n.first))},decls:10,vars:7,consts:[[1,"input-container",3,"ngSubmit"],["type","text","placeholder","Search files and folders...","trans-placeholder","",3,"matAutocomplete","formControl"],["trigger",""],["type","button","mat-icon-button","",1,"search-icon"],["svgIcon","search"],["type","button","mat-icon-button","","class","cancel-icon",3,"click",4,"ngIf"],[1,"file-types-autocomplete","mat-elevation-z1",3,"displayWith","optionSelected"],["auto","matAutocomplete"],[4,"ngFor","ngForOf"],["type","button","mat-icon-button","",1,"cancel-icon",3,"click"],["svgIcon","close"],[3,"value"],[3,"type"],[1,"meta"],[1,"name"],["class","owner",4,"ngIf"],["class","date",4,"ngIf"],[1,"owner"],[1,"date"]],template:function(e,t){if(1&e&&(S.Vb(0,"form",0),S.cc("ngSubmit",(function(){return t.openSearchPage({query:t.formControl.value})})),S.Qb(1,"input",1,2),S.Vb(3,"button",3),S.Qb(4,"mat-icon",4),S.Ub(),S.Ic(5,qa,2,0,"button",5),S.Ub(),S.Vb(6,"mat-autocomplete",6,7),S.cc("optionSelected",(function(e){return t.executeAction(e)})),S.Ic(8,er,9,7,"ng-container",8),S.hc(9,"async"),S.Ub()),2&e){var n=S.uc(7);S.Db(1),S.mc("matAutocomplete",n)("formControl",t.formControl),S.Db(4),S.mc("ngIf",t.formControl.value),S.Db(1),S.mc("displayWith",t.displayFn),S.Db(2),S.mc("ngForOf",S.ic(9,5,t.results$))}},directives:[Jt.K,Jt.v,Jt.w,Ka.d,Jt.d,nn.a,Jt.u,Jt.j,an.b,_t.a,P.t,Ka.a,P.s,Li.k,Ot],pipes:[P.b,fn.a,Xa.a],styles:["main-searchbar{display:block;width:100%;position:relative;border-radius:3px}main-searchbar .input-container input{padding:0 45px;box-shadow:none!important}main-searchbar .search-icon{position:absolute;top:2px;left:6px;z-index:5}main-searchbar .cancel-icon{position:absolute;top:3px;right:6px;z-index:1}.file-types-autocomplete.mat-autocomplete-panel{max-height:350px;color:var(--be-text);background-color:var(--be-background)}.file-types-autocomplete.mat-autocomplete-panel .mat-option{line-height:normal;margin-bottom:5px;font-size:1.4rem}.file-types-autocomplete.mat-autocomplete-panel .mat-option-text{display:flex;align-items:center}.file-types-autocomplete.mat-autocomplete-panel .mat-option-text .date,.file-types-autocomplete.mat-autocomplete-panel .mat-option-text file-icon{align-self:start}.file-types-autocomplete.mat-autocomplete-panel .mat-option-text .owner{color:var(--be-secondary-text)}.file-types-autocomplete.mat-autocomplete-panel .mat-option-text file-icon{margin-right:10px}.file-types-autocomplete.mat-autocomplete-panel .mat-option-text .date{margin-left:auto}"],encapsulation:2,changeDetection:0}),tr),ar=o("XhcP"),rr=o("QGXG"),or=o("DzUk"),sr=((nr=function(){function e(t,n,i){b(this,e),this.dialog=t,this.store=n,this.uploadInputConfig=i}return s(e,[{key:"openNewFolderDialog",value:function(){this.dialog.open(yi)}},{key:"openUploadsPanel",value:function(e){this.store.dispatch(new ee(e))}}]),e}()).\u0275fac=function(e){return new(e||nr)(S.Pb(rr.a),S.Pb(D.g),S.Pb(tt))},nr.\u0275cmp=S.Jb({type:nr,selectors:[["sidebar-action-buttons"]],decls:8,vars:7,consts:[["mat-raised-button","","color","accent",1,"upload-button",3,"disabled","uploadButton","filesSelected"],["svgIcon","cloud-upload"],["trans",""],["mat-raised-button","","color","accent",1,"new-folder-button",3,"disabled","click"],["svgIcon","create-new-folder"]],template:function(e,t){1&e&&(S.Vb(0,"button",0),S.cc("filesSelected",(function(e){return t.openUploadsPanel(e)})),S.hc(1,"async"),S.Qb(2,"mat-icon",1),S.Vb(3,"span",2),S.Kc(4,"Upload"),S.Ub(),S.Ub(),S.Vb(5,"button",3),S.cc("click",(function(){return t.openNewFolderDialog()})),S.hc(6,"async"),S.Qb(7,"mat-icon",4),S.Ub()),2&e&&(S.mc("disabled",!S.ic(1,3,t.canUpload$))("uploadButton",t.uploadInputConfig),S.Db(5),S.mc("disabled",!S.ic(6,5,t.canUpload$)))},directives:[an.b,or.a,_t.a,nn.a],pipes:[P.b],styles:["sidebar-action-buttons{display:block;text-align:center}sidebar-action-buttons .upload-button{margin-right:5px;margin-bottom:2px}sidebar-action-buttons .upload-button .mat-icon{margin-right:5px}sidebar-action-buttons .new-folder-button{max-width:60px;min-width:auto}"],encapsulation:2,changeDetection:0}),Object(j.b)([Object(D.d)(kt.canUpload)],nr.prototype,"canUpload$",void 0),nr),cr=o("nQeM"),lr=[Object(hn.m)("fadeIn",[Object(hn.l)(":enter",[Object(hn.k)({opacity:0}),Object(hn.e)("325ms ease-in",Object(hn.k)({opacity:1}))])]),Object(hn.m)("fadeOut",[Object(hn.l)(":leave",[Object(hn.k)({opacity:1,position:"absolute",left:"0",right:"0"}),Object(hn.e)("325ms ease-out",Object(hn.k)({opacity:0}))])])],ur=o("bv9b"),dr=o("JxJJ"),pr=o("6SKC");function hr(e,t){if(1&e&&(S.Vb(0,"div",4),S.Kc(1),S.hc(2,"formattedFileSize"),S.hc(3,"async"),S.hc(4,"trans"),S.hc(5,"formattedFileSize"),S.hc(6,"async"),S.hc(7,"trans"),S.Ub()),2&e){var n=S.gc();S.mc("@fadeIn",void 0),S.Db(1),S.Pc(" ",S.ic(2,5,S.ic(3,7,n.spaceUsed$))," ",S.ic(4,9,"of")," ",S.ic(5,11,S.ic(6,13,n.spaceAvailable$))," ",S.ic(7,15,"used"),"\n")}}function br(e,t){1&e&&S.Qb(0,"skeleton",4),2&e&&S.mc("@fadeOut",void 0)}function fr(e,t){1&e&&(S.Vb(0,"div"),S.Vb(1,"a",5),S.Kc(2,"Upgrade Storage"),S.Ub(),S.Ub())}var gr,vr=((gr=function e(t,n){b(this,e),this.settings=t,this.workspaces=n}).\u0275fac=function(e){return new(e||gr)(S.Pb(en.a),S.Pb(mt.a))},gr.\u0275cmp=S.Jb({type:gr,selectors:[["available-space-indicator"]],decls:9,vars:12,consts:[["mode","determinate","color","accent",3,"value"],["class","usage-info",4,"ngIf","ngIfElse"],["skeleton",""],[4,"ngIf"],[1,"usage-info"],["mat-button","","routerLink","/billing/upgrade","target","_blank","trans","",1,"upgrade-link"]],template:function(e,t){if(1&e&&(S.Qb(0,"mat-progress-bar",0),S.hc(1,"async"),S.Ic(2,hr,8,17,"div",1),S.hc(3,"async"),S.Ic(4,br,1,1,"ng-template",null,2,S.Jc),S.Ic(6,fr,3,0,"div",3),S.hc(7,"async"),S.hc(8,"async")),2&e){var n=S.uc(5),i=null;S.mc("value",S.ic(1,4,t.spaceUsedPercent$)),S.Db(2),S.mc("ngIf",null!==S.ic(3,6,t.spaceUsed$))("ngIfElse",n),S.Db(4),S.mc("ngIf",t.settings.get("billing.enable")&&(!S.ic(7,8,t.workspaces.activeId$)||(null==(i=S.ic(8,10,t.workspaces.activeWorkspace$))||null==i.currentUser?null:i.currentUser.is_owner)))}},directives:[ur.a,P.t,dr.a,an.a,I.j,nn.a],pipes:[P.b,pr.a,fn.a],styles:["[_nghost-%COMP%]{display:block;flex:1 1 auto;position:relative}skeleton.text[_ngcontent-%COMP%]{height:18px}.usage-info[_ngcontent-%COMP%]{margin:5px 0;font-size:1.3rem;color:var(--be-secondary-text)}.upgrade-link[_ngcontent-%COMP%]{color:var(--be-link);font-size:1.3rem;margin-left:-16px}.mat-progress-bar[_ngcontent-%COMP%]{max-width:132px}"],data:{animation:[lr]},changeDetection:0}),Object(j.b)([Object(D.d)(kt.userSpaceUsed)],gr.prototype,"spaceUsed$",void 0),Object(j.b)([Object(D.d)(kt.userSpaceAvailable)],gr.prototype,"spaceAvailable$",void 0),Object(j.b)([Object(D.d)(kt.spaceUsedPercent)],gr.prototype,"spaceUsedPercent$",void 0),gr),mr=o("VfAk"),yr=o("/RwR"),kr=o("iH1U");function wr(e,t){1&e&&(S.Vb(0,"span",12),S.Kc(1,"Personal workspace"),S.Ub())}var xr=function(e){return{count:e}};function _r(e,t){if(1&e&&(S.Vb(0,"span",12),S.Kc(1),S.hc(2,"trans"),S.Ub()),2&e){var n=S.gc().ngIf;S.Db(1),S.Lc(S.jc(2,1,":count members",S.qc(4,xr,(null==n?null:n.members_count)||0)))}}function Or(e,t){if(1&e&&(S.Vb(0,"div",5),S.Vb(1,"div",6),S.Vb(2,"div",7),S.Kc(3),S.Ub(),S.Vb(4,"div",8),S.Ic(5,wr,2,0,"span",9),S.Ic(6,_r,3,6,"span",9),S.Ub(),S.Ub(),S.Vb(7,"div",10),S.Qb(8,"mat-icon",11),S.Ub(),S.Ub()),2&e){var n=t.ngIf;S.gc();var i=S.uc(3);S.mc("matMenuTriggerFor",i),S.Db(3),S.Lc(n.name),S.Db(2),S.mc("ngIf",n.default),S.Db(1),S.mc("ngIf",!n.default)}}function Cr(e,t){1&e&&(S.Vb(0,"span",12),S.Kc(1,"Personal workspace"),S.Ub())}function Pr(e,t){if(1&e&&(S.Vb(0,"span",12),S.Kc(1),S.hc(2,"trans"),S.Ub()),2&e){var n=S.gc().$implicit;S.Db(1),S.Lc(S.jc(2,1,":count members",S.qc(4,xr,(null==n?null:n.members_count)||0)))}}function Ir(e,t){if(1&e){var n=S.Wb();S.Vb(0,"button",17),S.cc("click",(function(e){S.xc(n);var t=S.gc().$implicit;return S.gc().openWorkspaceMembersModal(t),e.stopPropagation()})),S.Qb(1,"mat-icon",18),S.Ub()}}function jr(e,t){if(1&e){var n=S.Wb();S.Vb(0,"div",13),S.cc("click",(function(){S.xc(n);var e=t.$implicit;return S.gc().selectWorkspace(e)})),S.hc(1,"async"),S.Qb(2,"mat-icon",14),S.hc(3,"async"),S.Vb(4,"div"),S.Vb(5,"div",15),S.Kc(6),S.Ub(),S.Vb(7,"div",8),S.Ic(8,Cr,2,0,"span",9),S.Ic(9,Pr,3,6,"span",9),S.Ub(),S.Ub(),S.Ic(10,Ir,2,0,"button",16),S.Ub()}if(2&e){var i=t.$implicit,a=S.gc();S.Hb("active",S.ic(1,8,a.workspaces.activeId$)===i.id),S.Db(2),S.Hb("visually-hidden",S.ic(3,10,a.workspaces.activeId$)!==i.id),S.Db(4),S.Lc(i.name),S.Db(2),S.mc("ngIf",i.default),S.Db(1),S.mc("ngIf",!i.default),S.Db(1),S.mc("ngIf",!i.default)}}function Sr(e,t){if(1&e){var n=S.Wb();S.Vb(0,"div",19),S.cc("click",(function(){return S.xc(n),S.gc().openCrupdateWorkspaceModal()})),S.Qb(1,"mat-icon",20),S.Vb(2,"span",12),S.Kc(3,"Create new workspace"),S.Ub(),S.Ub()}}var Dr,Er,Ur=((Dr=function(){function e(t,n,i,a,r,o){b(this,e),this.modal=t,this.workspaces=n,this.currentUser=i,this.toast=a,this.vcr=r,this.cd=o}return s(e,[{key:"ngOnInit",value:function(){this.workspaces.index({userId:this.currentUser.get("id"),withCount:["members"]}).subscribe()}},{key:"openCrupdateWorkspaceModal",value:function(e){var t=this;o.e(1).then(o.bind(null,"fm7k")).then((function(n){t.modal.open(n.WorkspaceModule.components.crupdateModal,{workspace:e},{viewContainerRef:t.vcr}),t.cd.markForCheck()}))}},{key:"openWorkspaceMembersModal",value:function(e){var t=this;o.e(1).then(o.bind(null,"fm7k")).then((function(n){t.modal.open(n.WorkspaceModule.components.manageMembers,{workspace:e},{viewContainerRef:t.vcr}),t.cd.markForCheck(),t.menuTrigger.closeMenu()}))}},{key:"maybeDeleteWorkspace",value:function(e){var t=this,n=Object.assign(Object.assign({},kr.a),{replacements:{resource:"workspace"}});this.modal.open(yr.a,n).afterClosed().pipe(Object(Vt.a)((function(e){return e}))).subscribe((function(){t.workspaces.delete([e.id]).subscribe((function(){t.toast.open("Workspace deleted.")}),(function(e){t.toast.open(e.message||mr.a.Default)}))}))}},{key:"selectWorkspace",value:function(e){this.workspaces.select(e.id),this.menuTrigger.closeMenu()}}]),e}()).\u0275fac=function(e){return new(e||Dr)(S.Pb(rr.a),S.Pb(mt.a),S.Pb(rt.a),S.Pb(yt.b),S.Pb(S.S),S.Pb(S.i))},Dr.\u0275cmp=S.Jb({type:Dr,selectors:[["workspace-selector"]],viewQuery:function(e,t){var n;1&e&&S.Qc(on.d,!0),2&e&&S.tc(n=S.dc())&&(t.menuTrigger=n.first)},decls:7,vars:7,consts:[[3,"matMenuTriggerFor",4,"ngIf"],[1,"workspace-menu"],["workspaceMenu","matMenu"],["mat-menu-item","","class","workspace-menu-item",3,"active","click",4,"ngFor","ngForOf"],["mat-menu-item","","class","new-workspace-menu-item",3,"click",4,"ngIf"],[3,"matMenuTriggerFor"],[1,"left"],["trans","",1,"role-name"],[1,"member-count"],["trans","",4,"ngIf"],[1,"right"],["svgIcon","unfold-more"],["trans",""],["mat-menu-item","",1,"workspace-menu-item",3,"click"],["svgIcon","check"],["trans","",1,"name"],["type","button","class","settings-button","mat-icon-button","",3,"click",4,"ngIf"],["type","button","mat-icon-button","",1,"settings-button",3,"click"],["svgIcon","settings"],["mat-menu-item","",1,"new-workspace-menu-item",3,"click"],["svgIcon","add"]],template:function(e,t){1&e&&(S.Ic(0,Or,9,4,"div",0),S.hc(1,"async"),S.Vb(2,"mat-menu",1,2),S.Ic(4,jr,11,12,"div",3),S.hc(5,"async"),S.Ic(6,Sr,4,0,"div",4),S.Ub()),2&e&&(S.mc("ngIf",S.ic(1,3,t.workspaces.activeWorkspace$)),S.Db(4),S.mc("ngForOf",S.ic(5,5,t.workspaces.available$)),S.Db(2),S.mc("ngIf",t.currentUser.hasPermission("workspaces.create")))},directives:[P.t,on.e,P.s,on.d,nn.a,_t.a,on.b,an.b],pipes:[P.b,fn.a],styles:[".mat-menu-trigger[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;cursor:pointer;height:100%}.right[_ngcontent-%COMP%]{margin-left:auto;flex-shrink:0}.role-name[_ngcontent-%COMP%]{font-weight:500;text-transform:capitalize}.workspace-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:normal;min-width:248px;line-height:normal;height:52px}.workspace-menu-item.active[_ngcontent-%COMP%]{color:var(--be-accent-default)}.workspace-menu-item.active[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{color:inherit}.workspace-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{flex-shrink:0;color:inherit}.workspace-menu-item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{margin-right:10px;flex:1 1 auto;font-size:1.5rem;text-transform:capitalize}.new-workspace-menu-item[_ngcontent-%COMP%]{border-top:1px solid var(--be-divider-default);margin-top:8px;padding-top:4px;font-size:1.5rem}.member-count[_ngcontent-%COMP%]{color:var(--be-secondary-text);font-size:1.3rem}.settings-button[_ngcontent-%COMP%]{margin-left:auto;color:var(--be-secondary-text);width:30px;height:30px;line-height:30px}.settings-button[_ngcontent-%COMP%]:hover{color:var(--be-accent-default)}.settings-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:18px;height:18px;line-height:18px;margin-right:0}"],changeDetection:0}),Dr),Vr=function(){return{exact:!0}},Ar=((Er=function(){function e(t,n){b(this,e),this.urls=t,this.store=n}return s(e,[{key:"openFolder",value:function(e){this.store.dispatch(new R(e))}}]),e}()).\u0275fac=function(e){return new(e||Er)(S.Pb(ct),S.Pb(D.g))},Er.\u0275cmp=S.Jb({type:Er,selectors:[["sidebar"]],decls:17,vars:8,consts:[[1,"sidebar-body"],[1,"drive-folders"],["routerLinkActive","active",1,"sidebar-menu-item",3,"routerLink","routerLinkActiveOptions","folderDropTarget"],["svgIcon","arrow-drop-down",1,"toggle-expansion-icon",3,"click"],["svgIcon","network-drive-custom"],["trans","",1,"text"],[3,"folderSelected"],["driveTree",""],["position","drive-sidebar","itemClass","sidebar-menu-item",1,"sidebar-menu"],[1,"usage-container"],["svgIcon","storage"],[1,"sidebar-footer"]],template:function(e,t){if(1&e){var n=S.Wb();S.Vb(0,"div",0),S.Qb(1,"sidebar-action-buttons"),S.Vb(2,"div",1),S.Vb(3,"div",2),S.hc(4,"async"),S.Vb(5,"mat-icon",3),S.cc("click",(function(e){return S.xc(n),S.uc(10).toggle(),e.stopPropagation()})),S.Ub(),S.Qb(6,"mat-icon",4),S.Vb(7,"span",5),S.Kc(8,"All Files"),S.Ub(),S.Ub(),S.Vb(9,"folders-tree",6,7),S.cc("folderSelected",(function(e){return t.openFolder(e)})),S.Ub(),S.Ub(),S.Qb(11,"custom-menu",8),S.Vb(12,"div",9),S.Qb(13,"mat-icon",10),S.Qb(14,"available-space-indicator"),S.Ub(),S.Ub(),S.Vb(15,"div",11),S.Qb(16,"workspace-selector"),S.Ub()}if(2&e){var i=S.uc(10);S.Db(3),S.mc("routerLink",t.urls.driveRoot())("routerLinkActiveOptions",S.pc(7,Vr))("folderDropTarget",S.ic(4,5,t.rootFolder$)),S.Db(2),S.Hb("expanded",i.expanded)}},directives:[sr,I.i,I.h,da,_t.a,nn.a,va,cr.a,vr,Ur],pipes:[P.b],styles:['.be-light-mode sidebar{background-color:var(--be-background-alternative)}sidebar{display:flex;flex-direction:column;width:100%;min-height:100%;color:var(--be-text);position:relative}sidebar .sidebar-body{flex:1 1 auto}sidebar sidebar-action-buttons{padding:28px 0}sidebar .drag-over.can-drop{background-color:var(--be-accent-emphasis)}sidebar .sidebar-menu-item{display:flex;align-items:center;width:100%;height:48px;min-height:inherit;line-height:inherit;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;color:inherit;outline:none;cursor:pointer;-webkit-user-drag:none}sidebar .sidebar-menu-item.active{color:var(--be-accent-default);background-color:var(--be-accent-emphasis)}sidebar .sidebar-menu-item.active .mat-icon{color:inherit}sidebar .sidebar-menu-item.active .text{font-weight:500}sidebar .sidebar-menu-item:not(.active):not(.drag-over):hover{background-color:var(--be-hover)}sidebar .sidebar-menu-item .mat-icon:not(.toggle-expansion-icon){margin-right:15px}sidebar .sidebar-menu-item .mat-icon{color:var(--be-secondary-text)}sidebar .sidebar-menu-item:not(.active) .text{opacity:.8}sidebar .sidebar-menu .sidebar-menu-item{padding-left:24px;padding-right:24px}sidebar .sidebar-footer:hover{background-color:var(--be-hover)}sidebar workspace-selector{display:block;border-top:1px solid var(--be-divider-default);border-radius:4px;margin:0 20px;height:80px}sidebar .usage-container{display:flex;margin-top:24px;padding:24px 0 0 24px;border-top:1px solid var(--be-divider-default)}sidebar .usage-container .mat-icon{margin-right:15px;margin-top:-4px;color:var(--be-secondary-text)}sidebar folders-tree .mat-tree-node:before{display:block;content:" ";width:24px;flex:0 0 24px}'],encapsulation:2,changeDetection:0}),Object(j.b)([Object(D.d)(kt.activePage)],Er.prototype,"activePage$",void 0),Object(j.b)([Object(D.d)(kt.rootFolder)],Er.prototype,"rootFolder$",void 0),Er),Mr=o("Qu3c"),Tr=["textArea"];function Fr(e,t){1&e&&(S.Tb(0),S.Vb(1,"span",3),S.Kc(2,"Saving..."),S.Ub(),S.Sb())}function Lr(e,t){if(1&e){var n=S.Wb();S.Vb(0,"div",6),S.Vb(1,"label",7),S.Kc(2,"Description"),S.Ub(),S.Vb(3,"textarea",8,9),S.cc("enterKeybind",(function(){return S.xc(n),S.uc(4).blur()}))("blur",(function(){S.xc(n);var e=S.uc(4),t=S.gc(2).ngIf;return S.gc().updateDescription(t,e.value)})),S.Ub(),S.Ub()}if(2&e){var i=S.gc(2).ngIf;S.Db(3),S.mc("value",i.description)}}function Rr(e,t){if(1&e){var n=S.Wb();S.Vb(0,"div",10),S.cc("click",(function(){return S.xc(n),S.gc(3).editDescription()})),S.Kc(1),S.hc(2,"trans"),S.Ub(),S.Vb(3,"button",11),S.cc("click",(function(){return S.xc(n),S.gc(3).editDescription()})),S.hc(4,"trans"),S.Qb(5,"mat-icon",12),S.Ub()}if(2&e){var i=S.gc(2).ngIf;S.Db(1),S.Lc(i.description||S.ic(2,2,"Add a description")),S.Db(2),S.mc("matTooltip",S.ic(4,4,"Edit description"))}}function $r(e,t){if(1&e&&(S.Ic(0,Lr,5,1,"div",4),S.hc(1,"async"),S.Ic(2,Rr,6,6,"ng-template",null,5,S.Jc)),2&e){var n=S.uc(3),i=S.gc(2);S.mc("ngIf",S.ic(1,2,i.editingDescription$))("ngIfElse",n)}}function Nr(e,t){if(1&e&&(S.Tb(0),S.Ic(1,Fr,3,0,"ng-container",1),S.hc(2,"async"),S.Ic(3,$r,4,4,"ng-template",null,2,S.Jc),S.Sb()),2&e){var n=S.uc(4),i=S.gc();S.Db(1),S.mc("ngIf",S.ic(2,2,i.savingDescription$))("ngIfElse",n)}}var Br,zr=((Br=function(){function e(t){b(this,e),this.store=t,this.editingDescription$=new Mt.a(!1),this.savingDescription$=new Mt.a(!1)}return s(e,[{key:"ngAfterViewInit",value:function(){this.textArea.changes.subscribe((function(e){e.length&&e.first.nativeElement.focus()}))}},{key:"editDescription",value:function(){this.editingDescription$.next(!0)}},{key:"updateDescription",value:function(e,t){var n=this;this.editingDescription$.next(!1),e.description!==t&&(this.savingDescription$.next(!0),this.store.dispatch(new ye(e,t)).pipe(Object(U.a)((function(){return n.savingDescription$.next(!1)}))).subscribe())}}]),e}()).\u0275fac=function(e){return new(e||Br)(S.Pb(D.g))},Br.\u0275cmp=S.Jb({type:Br,selectors:[["entry-description-panel"]],viewQuery:function(e,t){var n;1&e&&S.Qc(Tr,!0),2&e&&S.tc(n=S.dc())&&(t.textArea=n)},decls:2,vars:3,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["descriptionSaved",""],["trans",""],["class","input-container",4,"ngIf","ngIfElse"],["descriptionEl",""],[1,"input-container"],["for","description","trans","",1,"hidden"],["rows","4","id","description",3,"value","enterKeybind","blur"],["textArea",""],[1,"description-text",3,"click"],["mat-icon-button","",3,"matTooltip","click"],["svgIcon","edit"]],template:function(e,t){1&e&&(S.Ic(0,Nr,5,4,"ng-container",0),S.hc(1,"async")),2&e&&S.mc("ngIf",S.ic(1,1,t.entry$))},directives:[P.t,nn.a,an.b,Mr.a,_t.a],pipes:[P.b,fn.a],styles:["entry-description-panel{color:var(--be-text);display:flex;align-items:center;max-width:215px}entry-description-panel .description-text{cursor:text;vertical-align:sub;flex:1 1 auto;opacity:.8}"],encapsulation:2,changeDetection:0}),Object(j.b)([Object(D.d)(kt.selectedEntryOrActiveFolder)],Br.prototype,"entry$",void 0),Br);function Kr(e,t){if(1&e&&S.Qb(0,"img",2),2&e){var n=S.gc();S.mc("src",n.getPreviewUrl(),S.Ac)("ngClass",n.file.type+"-file")}}function Qr(e,t){if(1&e&&S.Qb(0,"file-icon",3),2&e){var n=S.gc();S.mc("type","folder"===n.file.type?n.getFolderIcon():n.file.type)}}var Wr,Hr=((Wr=function(){function e(){b(this,e)}return s(e,[{key:"getPreviewUrl",value:function(){var e=this.file.url;if(this.file.thumbnail){var t=e.includes("?")?"&":"?";e+=t+"thumbnail=true"}return e}},{key:"getFolderIcon",value:function(){return this.file.users&&this.file.users.length>1?"shared-folder":"folder"}}]),e}()).\u0275fac=function(e){return new(e||Wr)},Wr.\u0275cmp=S.Jb({type:Wr,selectors:[["file-thumbnail"]],inputs:{file:"file"},decls:2,vars:2,consts:[["class","file-color","draggable","false",3,"src","ngClass",4,"ngIf"],[3,"type",4,"ngIf"],["draggable","false",1,"file-color",3,"src","ngClass"],[3,"type"]],template:function(e,t){1&e&&(S.Ic(0,Kr,1,2,"img",0),S.Ic(1,Qr,1,1,"file-icon",1)),2&e&&(S.mc("ngIf","image"===t.file.type),S.Db(1),S.mc("ngIf","image"!==t.file.type))},directives:[P.t,P.q,Ot],styles:[".be-light-mode file-thumbnail{background-color:var(--be-background-alternative)}file-thumbnail{display:block}file-thumbnail img{display:block;max-width:100%;height:auto}"],encapsulation:2,changeDetection:0}),Wr);function Xr(e,t){if(1&e&&S.Qb(0,"file-thumbnail",16),2&e){var n=S.gc(2).ngIf;S.mc("file",n)}}var Zr=function(e){return{workspace:e}};function Jr(e,t){if(1&e&&(S.Qb(0,"mat-icon",17),S.hc(1,"trans"),S.hc(2,"async")),2&e){var n,i=S.gc(3);S.mc("matTooltip",S.jc(1,1,"Everyone at :workspace workspace",S.qc(6,Zr,null==(n=S.ic(2,4,i.workspaces.activeWorkspace$))?null:n.name)))}}function qr(e,t){if(1&e&&S.Qb(0,"img",18),2&e){var n=t.$implicit;S.mc("src",n.avatar,S.Ac)("matTooltip",n.display_name)}}function Gr(e,t){if(1&e&&(S.Vb(0,"div",7),S.Vb(1,"div",8),S.Kc(2,"Owner"),S.Ub(),S.Vb(3,"div",10),S.Kc(4),S.Ub(),S.Ub()),2&e){var n=t.ngIf;S.Db(4),S.Lc(n.display_name)}}function Yr(e,t){if(1&e){var n=S.Wb();S.Tb(0),S.Ic(1,Xr,1,1,"file-thumbnail",2),S.Vb(2,"div",3),S.Ic(3,Jr,3,8,"mat-icon",4),S.Ic(4,qr,1,2,"img",5),S.Ub(),S.Vb(5,"div",6),S.Vb(6,"div",7),S.Vb(7,"div",8),S.Kc(8,"Type"),S.Ub(),S.Vb(9,"div",9),S.Kc(10),S.Ub(),S.Ub(),S.Vb(11,"div",7),S.Vb(12,"div",8),S.Kc(13,"Size"),S.Ub(),S.Vb(14,"div",10),S.Kc(15),S.hc(16,"formattedFileSize"),S.Ub(),S.Ub(),S.Vb(17,"div",7),S.Vb(18,"div",8),S.Kc(19,"Storage Used"),S.Ub(),S.Vb(20,"div",10),S.Kc(21),S.hc(22,"formattedFileSize"),S.Ub(),S.Ub(),S.Vb(23,"div",11),S.Vb(24,"div",8),S.Kc(25,"Location"),S.Ub(),S.Vb(26,"div",12),S.cc("click",(function(){return S.xc(n),S.gc(2).openLocation()})),S.Qb(27,"mat-icon",13),S.Vb(28,"span",14),S.Kc(29),S.hc(30,"trans"),S.hc(31,"async"),S.Ub(),S.Ub(),S.Ub(),S.Ic(32,Gr,5,1,"div",15),S.hc(33,"async"),S.Vb(34,"div",7),S.Vb(35,"div",8),S.Kc(36,"Last Updated"),S.Ub(),S.Vb(37,"div",10),S.Kc(38),S.hc(39,"formattedDate"),S.Ub(),S.Ub(),S.Vb(40,"div",7),S.Vb(41,"div",8),S.Kc(42,"Created"),S.Ub(),S.Vb(43,"div",10),S.Kc(44),S.hc(45,"formattedDate"),S.Ub(),S.Ub(),S.Qb(46,"entry-description-panel"),S.Ub(),S.Sb()}if(2&e){var i,a=S.gc().ngIf,r=S.gc();S.Db(1),S.mc("ngIf","image"===a.type),S.Db(2),S.mc("ngIf",a.workspace_id),S.Db(1),S.mc("ngForOf",a.users),S.Db(6),S.Lc(a.type),S.Db(5),S.Lc(S.ic(16,10,a.file_size)),S.Db(6),S.Lc(S.ic(22,12,a.file_size)),S.Db(8),S.Lc(S.ic(30,14,(null==(i=S.ic(31,16,r.parent$))?null:i.name)||"All Files")),S.Db(3),S.mc("ngIf",S.ic(33,18,r.owner$)),S.Db(6),S.Lc(S.ic(39,20,a.updated_at)),S.Db(6),S.Lc(S.ic(45,22,a.created_at))}}function eo(e,t){if(1&e&&(S.Tb(0),S.Ic(1,Yr,47,24,"ng-container",0),S.Sb()),2&e){var n=t.ngIf;S.gc();var i=S.uc(3);S.Db(1),S.mc("ngIf",n.updated_at)("ngIfElse",i)}}function to(e,t){1&e&&(S.Vb(0,"div",19),S.Qb(1,"mat-icon",20),S.Vb(2,"div",21),S.Kc(3,"Select file or folder to view its details."),S.Ub(),S.Ub())}var no,io=((no=function(){function e(t,n){b(this,e),this.store=t,this.workspaces=n,this.owner$=this.store.select(kt.selectedEntryOrActiveFolder).pipe(Object(qt.a)((function(e){return((null==e?void 0:e.users)||[]).find((function(e){return e.owns_entry}))})))}return s(e,[{key:"openLocation",value:function(){var e=this.store.selectSnapshot(kt.selectedEntryParent);this.store.dispatch(new R(e))}}]),e}()).\u0275fac=function(e){return new(e||no)(S.Pb(D.g),S.Pb(mt.a))},no.\u0275cmp=S.Jb({type:no,selectors:[["details-panel"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["nothingSelected",""],["class","preview",3,"file",4,"ngIf"],[1,"users-list"],["class","users-list-img workspace-img","svgIcon","groups",3,"matTooltip",4,"ngIf"],["class","users-list-img",3,"src","matTooltip",4,"ngFor","ngForOf"],[1,"details-list"],[1,"item"],["trans","",1,"name"],["trans","",1,"value","type-value"],[1,"value"],[1,"item","location-item"],[1,"value",3,"click"],["svgIcon","folder"],[1,"text"],["class","item",4,"ngIf"],[1,"preview",3,"file"],["svgIcon","groups",1,"users-list-img","workspace-img",3,"matTooltip"],[1,"users-list-img",3,"src","matTooltip"],[1,"nothing-selected"],["svgIcon","selection-tool-custom",1,"icon"],["trans","",1,"text"]],template:function(e,t){if(1&e&&(S.Ic(0,eo,2,2,"ng-container",0),S.hc(1,"async"),S.Ic(2,to,4,0,"ng-template",null,1,S.Jc)),2&e){var n=S.uc(3);S.mc("ngIf",S.ic(1,2,t.entry$))("ngIfElse",n)}},directives:[P.t,P.s,nn.a,_t.a,zr,Hr,Mr.a],pipes:[P.b,pr.a,fn.a,Xa.a],styles:["details-panel{display:block;padding:24px}details-panel file-thumbnail{margin-bottom:20px}details-panel .users-list{display:flex;flex-wrap:wrap;margin-bottom:20px}details-panel .users-list-img{width:36px;height:36px;flex:0 0 36px;-o-object-fit:cover;object-fit:cover;margin-right:10px;border-radius:50%;overflow:hidden;color:var(--be-secondary-text)}details-panel .workspace-img{border:2px solid var(--be-secondary-text);border-radius:4px;padding:4px}details-panel .details-list .item{display:flex;align-items:center;margin-bottom:10px}details-panel .details-list .item .name{width:120px;flex-shrink:0;color:var(--be-text);opacity:.8}details-panel .details-list .item .value{flex-shrink:0}details-panel .details-list .item .type-value{text-transform:capitalize}details-panel .nothing-selected{display:flex;align-items:center;font-size:1.7rem;font-weight:400}details-panel .nothing-selected .mat-icon{margin-right:5px;width:36px;height:36px;flex-shrink:0}details-panel .location-item .value{font-weight:500;cursor:pointer}details-panel .location-item .value .mat-icon{color:var(--be-secondary-text);margin-right:4px;vertical-align:bottom}details-panel .location-item .value:hover .text{color:var(--be-link);text-decoration:underline}"],encapsulation:2,changeDetection:0}),Object(j.b)([Object(D.d)(kt.selectedEntryOrActiveFolder)],no.prototype,"entry$",void 0),Object(j.b)([Object(D.d)(kt.selectedEntryParent)],no.prototype,"parent$",void 0),no);function ao(e,t){if(1&e&&(S.Tb(0),S.Qb(1,"file-icon",6),S.Vb(2,"div",7),S.Kc(3),S.Ub(),S.Sb()),2&e){var n=S.gc().ngIf;S.Db(1),S.mc("type",n.type),S.Db(2),S.Lc(n.name)}}function ro(e,t){if(1&e&&(S.Tb(0),S.Ic(1,ao,4,2,"ng-container",2),S.Sb()),2&e){var n=t.ngIf;S.gc();var i=S.uc(5);S.Db(1),S.mc("ngIf",n.type)("ngIfElse",i)}}function oo(e,t){if(1&e&&(S.Qb(0,"file-icon",8),S.Vb(1,"div",7),S.Kc(2),S.hc(3,"trans"),S.hc(4,"async"),S.Ub()),2&e){var n,i=S.gc();S.Db(2),S.Lc(S.ic(3,1,null==(n=S.ic(4,3,i.activePage$))?null:n.viewName))}}var so,co,lo,uo,po,ho,bo=((po=function(){function e(t){b(this,e),this.store=t}return s(e,[{key:"close",value:function(){this.store.dispatch(new G)}}]),e}()).\u0275fac=function(e){return new(e||po)(S.Pb(D.g))},po.\u0275cmp=S.Jb({type:po,selectors:[["details-sidebar"]],decls:9,vars:4,consts:[[1,"header"],[1,"title"],[4,"ngIf","ngIfElse"],["defaultTitle",""],["mat-icon-button","",1,"close-button",3,"click"],["svgIcon","close"],[3,"type"],[1,"name"],["type","folder"]],template:function(e,t){if(1&e&&(S.Vb(0,"div",0),S.Vb(1,"div",1),S.Ic(2,ro,2,2,"ng-container",2),S.hc(3,"async"),S.Ic(4,oo,5,5,"ng-template",null,3,S.Jc),S.Vb(6,"button",4),S.cc("click",(function(){return t.close()})),S.Qb(7,"mat-icon",5),S.Ub(),S.Ub(),S.Ub(),S.Qb(8,"details-panel")),2&e){var n=S.uc(5);S.Db(2),S.mc("ngIf",S.ic(3,2,t.entry$))("ngIfElse",n)}},directives:[P.t,an.b,_t.a,io,Ot],pipes:[P.b,fn.a],styles:["details-sidebar{display:block;padding:28px 0}details-sidebar>.header{margin-bottom:20px;padding:0 24px}details-sidebar>.header .title{display:flex;align-items:center}details-sidebar>.header .title .name{font-size:2.1rem;word-wrap:break-word;overflow:hidden;text-overflow:ellipsis}details-sidebar>.header .title file-icon{width:24px;height:24px;margin-right:18px}details-sidebar>.header .close-button{color:var(--be-secondary-text);margin-left:auto}details-sidebar .mat-tab-label{min-width:50%}"],encapsulation:2,changeDetection:0}),Object(j.b)([Object(D.d)(kt.selectedEntryOrActiveFolder)],po.prototype,"entry$",void 0),Object(j.b)([Object(D.d)(kt.activePage)],po.prototype,"activePage$",void 0),po),fo=((uo=function(){function e(){b(this,e),this.driveEntry=!0}return s(e,[{key:"fileId",get:function(){return this.entry.id}}]),e}()).\u0275fac=function(e){return new(e||uo)},uo.\u0275cmp=S.Jb({type:uo,selectors:[["files-grid-item"]],hostVars:3,hostBindings:function(e,t){2&e&&(S.Eb("data-id",t.fileId),S.Hb("drive-entry",t.driveEntry))},inputs:{entry:"entry"},decls:6,vars:3,consts:[[1,"preview-container"],[1,"preview",3,"file"],[1,"files-grid-item-footer"],[3,"type"],[1,"text"]],template:function(e,t){1&e&&(S.Vb(0,"div",0),S.Qb(1,"file-thumbnail",1),S.Ub(),S.Vb(2,"figcaption",2),S.Qb(3,"file-icon",3),S.Vb(4,"div",4),S.Kc(5),S.Ub(),S.Ub()),2&e&&(S.Db(1),S.mc("file",t.entry),S.Db(2),S.mc("type",t.entry.type),S.Db(2),S.Lc(t.entry.name))},directives:[Hr,Ot],styles:["files-grid{display:flex;flex-wrap:wrap;align-content:flex-start;margin:-8px}files-grid:empty{margin:0}files-grid-item{box-shadow:0 1px 5px rgba(50,50,50,.1);border:1px solid var(--be-divider-default);background-color:var(--be-background);flex:0 0 auto;margin:8px;border-radius:4px;overflow:hidden;transition:opacity .2s ease-in-out}@media only screen and (max-width:360px){files-grid-item{width:calc(100% - 16px)}}@media only screen and (min-width:360px) and (max-width:600px){files-grid-item{width:calc(50% - 16px)}}@media only screen and (min-width:600px) and (max-width:950px){files-grid-item{width:calc(33.3333333333% - 16px)}}@media only screen and (min-width:950px) and (max-width:1200px){files-grid-item{width:calc(25% - 16px)}}@media only screen and (min-width:1200px) and (max-width:1470px){files-grid-item{width:calc(20% - 16px)}}@media only screen and (min-width:1470px){files-grid-item{width:calc(16.6666666667% - 16px)}}files-grid-item.drag-over .files-grid-item-footer{background-color:var(--be-accent-emphasis)}files-grid-item.selected{border-color:var(--be-accent-default)}files-grid-item.selected .files-grid-item-footer{background-color:var(--be-accent-emphasis);color:var(--be-accent-default)}files-grid-item .preview-container{width:100%;padding-top:calc(100% - 48px);position:relative}files-grid-item .preview-container .preview{width:100%;height:100%;position:absolute;top:0;left:0;right:0;bottom:0}files-grid-item .preview-container .preview file-icon{width:74px;height:74px;position:absolute;top:0;left:0;bottom:0;right:0;margin:auto}files-grid-item .preview-container .preview img{width:auto;max-width:100%;height:100%;margin:auto;-o-object-fit:cover;object-fit:cover}.files-grid-item-footer{display:flex;align-items:center;padding:16px}.files-grid-item-footer file-icon{width:16px;height:16px;margin-right:16px}.files-grid-item-footer .text{line-height:16px;margin-right:auto;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),uo),go=((lo=function(){function e(t,n){b(this,e),this.store=t,this.cache=n,this.initial={x:0,y:0,scrollTop:0}}return s(e,[{key:"start",value:function(e){this.cacheClientRects(),this.createSelectBox(),this.bindScroll(),this.gridElements=this.getGridElements(),this.initial=Object.assign(Object.assign({},this.hammerToRelative(e)),{scrollTop:this.cache.scrollCont.scrollTop}),this.selectBox.style.top=this.initial.y+"px",this.selectBox.style.left=this.initial.x+"px"}},{key:"move",value:function(e){this.lastPanEvent=e,this.resizeBox(e)}},{key:"end",value:function(){this.removeSelectBox(),this.dispatchSelectedAction(),this.unbindScroll(),this.gridElements=[]}},{key:"resizeBox",value:function(e){if(e||(e=this.lastPanEvent),e&&this.selectBox){var t=this.getNewSelectorPosition(e);this.scrollAndRepositionSelector(t),this.selectIntersectingElements()}}},{key:"getNewSelectorPosition",value:function(e){var t,n=this.hammerToRelative(e),i=this.initial.x,a=this.initial.y,r=n.x,o=n.y;return i>r&&(t=r,r=i,i=t),a>o&&(t=o,o=a,a=t),{width:r-i,height:o-a,top:a,right:i+(r-i),bottom:a+(o-a),left:i}}},{key:"reachedAreaEdge",value:function(e){var t=this.rectToRelative(this.cache.filesContRect);return e.left<=t.left?"left":e.top<=t.top?"top":e.right>=t.right?"right":e.bottom>=t.bottom&&"bottom"}},{key:"scrollAndRepositionSelector",value:function(e){var t=this.cache.scrollCont,n=this.reachedAreaEdge(e);e.top+=this.initial.scrollTop,"bottom"===n?t.scrollBy({top:4}):"top"===n&&t.scrollBy({top:-4});var i=this.cache.scrollCont.scrollTop-this.initial.scrollTop,a=Math.abs(i);i<0&&(e.top-=a),e.height+=a,"left"===n||"right"===n||e.top+e.height>=this.cache.scrollCont.scrollHeight||this.applyPosition(e)}},{key:"applyPosition",value:function(e){this.selectBox.style.width=e.width+"px",this.selectBox.style.height=e.height+"px",this.selectBox.style.left=e.left+"px",this.selectBox.style.top=e.top+"px"}},{key:"selectIntersectingElements",value:function(){var e=this.selectBox.getBoundingClientRect();this.gridElements.forEach((function(t){var n=t.getBoundingClientRect();n.top+n.height>e.top&&n.left+n.width>e.left&&n.bottom-n.height<e.bottom&&n.right-n.width<e.right?t.classList.add("selected"):t.classList.remove("selected")}))}},{key:"rectToRelative",value:function(e){return{width:e.width,height:e.height,left:e.left-this.cache.filesContRect.left,top:e.top-this.cache.filesContRect.top,right:e.right-this.cache.filesContRect.left,bottom:e.bottom-this.cache.filesContRect.top}}},{key:"hammerToRelative",value:function(e){return{x:e.center.x-this.cache.filesContRect.left,y:e.center.y-this.cache.filesContRect.top}}},{key:"dispatchSelectedAction",value:function(){var e=this.gridElements.filter((function(e){return e.classList.contains("selected")})).map((function(e){return+e.dataset.id})),t=this.store.selectSnapshot(kt.entries).filter((function(t){return e.indexOf(t.id)>-1}));this.store.dispatch(new Me(t))}},{key:"createSelectBox",value:function(){this.selectBox=document.createElement("div"),this.selectBox.classList.add("files-select-box"),this.cache.filesCont.appendChild(this.selectBox)}},{key:"removeSelectBox",value:function(){this.selectBox&&(this.selectBox.remove(),this.selectBox=null)}},{key:"dragging",value:function(){return!!this.selectBox}},{key:"cacheClientRects",value:function(){this.cache.filesContRect=this.cache.filesCont.getBoundingClientRect(),this.cache.scrollContRect=this.cache.scrollCont.getBoundingClientRect()}},{key:"getGridElements",value:function(){return Array.from(this.cache.filesCont.querySelectorAll(".drive-entry"))}},{key:"bindScroll",value:function(){var e=this;this.scrollListener=function(){return e.resizeBox()},this.cache.scrollCont.addEventListener("scroll",this.scrollListener)}},{key:"unbindScroll",value:function(){this.cache.scrollCont.removeEventListener("scroll",this.scrollListener)}}]),e}()).\u0275fac=function(e){return new(e||lo)(S.Zb(D.g),S.Zb($a))},lo.\u0275prov=S.Lb({token:lo,factory:lo.\u0275fac,providedIn:"root"}),lo),vo=((co=function(){function e(t,n){b(this,e),this.domCache=t,this.store=n}return s(e,[{key:"start",value:function(e){this.store.dispatch(new ze)}},{key:"move",value:function(e){this.domCache.dragPreview.style.top=e.center.y+"px",this.domCache.dragPreview.style.left=e.center.x+"px"}},{key:"end",value:function(){this.store.dispatch(new Ke)}}]),e}()).\u0275fac=function(e){return new(e||co)(S.Zb($a),S.Zb(D.g))},co.\u0275prov=S.Lb({token:co,factory:co.\u0275fac,providedIn:"root"}),co),mo=((so=function(){function e(t,n,i,a,r,o){b(this,e),this.zone=t,this.el=n,this.store=i,this.dragSelect=a,this.dragEntry=r,this.domCache=o,this.subscriptions=[]}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.bindToHammer();var t=this.store.select(kt.isMobile).subscribe((function(t){e.hammerManager.get("pan").set({enable:!t}),e.hammerManager.get("doubletap").set({enable:!t})}));this.subscriptions.push(t)}},{key:"ngOnDestroy",value:function(){this.dragSelect.removeSelectBox(),this.subscriptions.forEach((function(e){return e.unsubscribe()}))}},{key:"bindToHammer",value:function(){this.createHammerManager(),this.onPanStart(),this.onPan(),this.onPanEnd(),this.onTap(),this.onDoubleTap()}},{key:"createHammerManager",value:function(){var e=this;this.zone.runOutsideAngular((function(){e.hammerManager=new Hammer.Manager(e.domCache.filesCont);var t=new Hammer.Tap,n=new Hammer.Pan,i=new Hammer.Tap({event:"doubletap",taps:2});e.hammerManager.add([t,i,n]),e.hammerManager.get("doubletap").recognizeWith("tap")}))}},{key:"onPanStart",value:function(){var e=this;this.hammerManager.on("panstart",(function(t){var n=e.getEntryEl(t);if(n){e.panService=e.dragEntry;var i=e.getEntryByEl(n);e.store.selectSnapshot(kt.selectedEntries).find((function(e){return e.id===i.id}))||e.store.dispatch(new N([e.getEntryByEl(n)]))}else e.panService=e.dragSelect;e.panService.start(t)}))}},{key:"onPan",value:function(){var e=this;this.hammerManager.on("pan",(function(t){e.panService&&e.panService.move(t)}))}},{key:"onPanEnd",value:function(){var e=this;this.hammerManager.on("panend",(function(){e.panService&&e.panService.end()}))}},{key:"onTap",value:function(){var e=this;this.hammerManager.on("tap",(function(t){var n=e.getEntryEl(t);e.dragSelect.removeSelectBox(),n?e.store.dispatch(new Fe(e.getEntryByEl(n),t.srcEvent.ctrlKey||t.srcEvent.metaKey)):t.target.closest(".files-container")&&e.store.dispatch(new z)}))}},{key:"onDoubleTap",value:function(){var e=this;this.hammerManager.on("doubletap",(function(t){var n=e.getEntryEl(t);n&&e.store.dispatch(new Le(e.getEntryByEl(n)))}))}},{key:"getEntryEl",value:function(e){return e.target.closest(".drive-entry")}},{key:"getEntryByEl",value:function(e){var t=+e.dataset.id;return this.store.selectSnapshot(kt.entries).find((function(e){return e.id===+t}))}}]),e}()).\u0275fac=function(e){return new(e||so)(S.Pb(S.B),S.Pb(S.m),S.Pb(D.g),S.Pb(go),S.Pb(vo),S.Pb($a))},so.\u0275dir=S.Kb({type:so,selectors:[["","driveHammerInteractions",""]],contentQueries:function(e,t,n){var i;1&e&&S.Ib(n,fo,!0),2&e&&S.tc(i=S.dc())&&(t.gridItems=i)}}),so),yo=o("INnT"),ko=((ho=function(){function e(t){b(this,e),this.el=t}return s(e,[{key:"ngAfterViewInit",value:function(){var e=this;this.selectedEntryIds.subscribe((function(t){var n=e.el.nativeElement.querySelectorAll(".drive-entry");n.length&&Array.from(n).forEach((function(e){t.indexOf(parseInt(e.dataset.id,10))>-1?e.classList.add("selected"):e.classList.remove("selected")}))}))}}]),e}()).\u0275fac=function(e){return new(e||ho)(S.Pb(S.m))},ho.\u0275dir=S.Kb({type:ho,selectors:[["","toggleSelectedClass",""]]}),Object(j.b)([Object(D.d)(kt.selectedEntryIds)],ho.prototype,"selectedEntryIds",void 0),ho),wo=o("sgCb");function xo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Object(j.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,a,r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a=e,new Promise((function(e){!function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];t.readEntries((function(a){a.length?(i=i.concat(a),e(t,n,i)):n(i)}))}(a.createReader(),e)}));case 2:i=n.sent,n.t0=regeneratorRuntime.keys(i);case 4:if((n.t1=n.t0()).done){n.next=19;break}if(r=n.t1.value,!(o=i[r]).isDirectory){n.next=12;break}return n.next=10,xo(o,t);case 10:n.next=17;break;case 12:return n.t2=t,n.next=15,_o(o);case 15:n.t3=n.sent,n.t2.push.call(n.t2,n.t3);case 17:n.next=4;break;case 19:return n.abrupt("return",t);case 20:case"end":return n.stop()}}),n)})))}function _o(e){return new Promise((function(t){e.file((function(n){t(new wo.a(n,e.fullPath))}))}))}var Oo,Co,Po,Io,jo=((Po=function(){function e(t){b(this,e),this.el=t,this.disableDropzoneClick=!1,this.disableDropzone=!1,this.uploadConfig={},this.filesDropped=new S.o}return s(e,[{key:"ngOnInit",value:function(){var e=this,t=this.el.nativeElement;t.addEventListener("dragenter",(function(t){return e.handleDragEnter(t)})),t.addEventListener("dragover",(function(t){return e.handleDragOver(t)})),t.addEventListener("dragleave",(function(t){return e.handleDragLeave(t)})),t.addEventListener("drop",(function(t){return e.handleDrop(t)})),this.disableDropzoneClick||(this.clickButton?this.clickButton.nativeElement:t).addEventListener("click",(function(){return e.handleClick()}))}},{key:"ngOnDestroy",value:function(){this.removeClassesFromDropzone()}},{key:"handleClick",value:function(){var e=this;this.disableDropzone||Object(Ye.a)(this.uploadConfig).then((function(t){e.emitUploadEvent(t)}))}},{key:"handleDragEnter",value:function(e){this.dropzoneDisabled(e)||this.el.nativeElement.classList.add("file-over-dropzone")}},{key:"handleDragOver",value:function(e){return e.preventDefault&&e.preventDefault(),e.dataTransfer.dropEffect=this.dropzoneDisabled(e)?"none":"move",!1}},{key:"handleDragLeave",value:function(e){var t=document.elementFromPoint(e.clientX,e.clientY);this.el.nativeElement.contains(t)||this.removeClassesFromDropzone()}},{key:"handleDrop",value:function(e){return Object(j.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.stopPropagation(),e.preventDefault(),this.removeClassesFromDropzone(),!this.dropzoneDisabled(e)&&e.dataTransfer.items){t.next=2;break}return t.abrupt("return");case 2:if(n=Array.from(e.dataTransfer.items).filter((function(e){return"file"===e.kind})).map((function(e){return e.webkitGetAsEntry()})),t.t0=n.length,!t.t0){t.next=10;break}return t.t1=this,t.next=8,function(e){return Object(j.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],t.t0=regeneratorRuntime.keys(e);case 2:if((t.t1=t.t0()).done){t.next=20;break}if(i=t.t1.value,!(a=e[i]).isDirectory){t.next=13;break}return t.t2=n,t.next=9,xo(a);case 9:t.t3=t.sent,n=t.t2.concat.call(t.t2,t.t3),t.next=18;break;case 13:return t.t4=n,t.next=16,_o(a);case 16:t.t5=t.sent,t.t4.push.call(t.t4,t.t5);case 18:t.next=2;break;case 20:return t.abrupt("return",n);case 21:case"end":return t.stop()}}),t)})))}(n);case 8:t.t2=t.sent,t.t1.emitUploadEvent.call(t.t1,t.t2);case 10:case"end":return t.stop()}}),t,this)})))}},{key:"emitUploadEvent",value:function(e){this.filesDropped.emit(e)}},{key:"removeClassesFromDropzone",value:function(){this.el.nativeElement.classList.remove("file-over-dropzone")}},{key:"dropzoneDisabled",value:function(e){var t=e.dataTransfer.types.find((function(e){return"files"===e.toLowerCase()}));return this.disableDropzone||!t}}]),e}()).\u0275fac=function(e){return new(e||Po)(S.Pb(S.m))},Po.\u0275dir=S.Kb({type:Po,selectors:[["","fileDropzone",""]],inputs:{disableDropzoneClick:"disableDropzoneClick",disableDropzone:"disableDropzone",clickButton:"clickButton",uploadConfig:["fileDropzone","uploadConfig"]},outputs:{filesDropped:"filesDropped"}}),Po),So=((Co=function(){function e(){b(this,e),this.threshold=50}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.el||(this.el=new S.m(document)),this.zone.runOutsideAngular((function(){e.scrollSub=Object(la.a)(e.getScrollContainer(),"scroll",{capture:!0,passive:!0}).pipe(Object(Qa.a)(20)).subscribe((function(t){return e.onScroll(t.target)}))}))}},{key:"ngOnDestroy",value:function(){this.scrollSub&&this.scrollSub.unsubscribe()}},{key:"getScrollContainer",value:function(){return this.el?this.el.nativeElement:document}},{key:"onScroll",value:function(e){var t=this;if(e&&e===this.el.nativeElement&&this.canLoadMore()&&!this.isLoading()){var n=parseInt(this.threshold),i=this.el&&void 0!==e.scrollTop;(i?e.scrollTop+e.offsetHeight:window.scrollY+window.innerHeight)>=(i?e.scrollHeight-n:document.documentElement.scrollHeight-n)&&this.zone.run((function(){t.loadMoreItems()}))}}}]),e}()).\u0275fac=function(e){return new(e||Co)},Co.\u0275dir=S.Kb({type:Co}),Co),Do=((Oo=function(e){c(n,e);var t=u(n);function n(e,i,a){var r;return b(this,n),(r=t.call(this)).el=e,r.store=i,r.zone=a,r}return s(n,[{key:"loadMoreItems",value:function(){var e=this.store.selectSnapshot(kt.currentPage)+1;this.store.dispatch(new le({page:e}))}},{key:"isLoading",value:function(){return this.store.selectSnapshot(kt.loading)}},{key:"canLoadMore",value:function(){return this.store.selectSnapshot(kt.canLoadMoreEntries)}}]),n}(So)).\u0275fac=function(e){return new(e||Oo)(S.Pb(S.m),S.Pb(D.g),S.Pb(S.B))},Oo.\u0275dir=S.Kb({type:Oo,selectors:[["","driveInfiniteScroll",""]],features:[S.Ab]}),Oo),Eo=o("itXk"),Uo=((Io=function e(t,n,i){b(this,e),this.data=t,this.store=n,this.currentUser=i,this.contextMenu=!0,this.store.dispatch(this.data&&this.data.entry?new $e(this.data.entry):new z)}).\u0275fac=function(e){return new(e||Io)(S.Pb(ra,8),S.Pb(D.g),S.Pb(rt.a))},Io.\u0275cmp=S.Jb({type:Io,selectors:[["drive-context-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&S.Hb("context-menu",t.contextMenu)},decls:1,vars:0,template:function(e,t){1&e&&S.Qb(0,"context-actions-container")},encapsulation:2,changeDetection:0}),Io),Vo=o("VaLf");function Ao(e,t){1&e&&S.Qb(0,"skeleton"),2&e&&S.mc("@fadeOut",void 0)}function Mo(e,t){1&e&&S.Qb(0,"mat-icon",9)}function To(e,t){1&e&&S.Qb(0,"mat-icon",10)}function Fo(e,t){if(1&e){var n=S.Wb();S.Tb(0),S.Vb(1,"div",4,5),S.cc("click",(function(){S.xc(n);var e=t.last,i=t.$implicit,a=S.uc(2),r=S.gc(2);return e?r.openContextMenu(i,a):r.openPage(i)})),S.Vb(3,"span",6),S.Kc(4),S.hc(5,"trans"),S.Ub(),S.Ic(6,Mo,1,0,"mat-icon",7),S.Ub(),S.Ic(7,To,1,0,"mat-icon",8),S.Sb()}if(2&e){var i=t.$implicit,a=t.last,r=t.first;S.Db(1),S.Hb("no-action",!i.hasActions),S.Db(3),S.Lc(r?S.ic(5,5,i.viewName):i.viewName),S.Db(2),S.mc("ngIf",a&&i.hasActions),S.Db(1),S.mc("ngIf",!a)}}function Lo(e,t){if(1&e&&(S.Vb(0,"div",2),S.Ic(1,Fo,8,7,"ng-container",3),S.hc(2,"async"),S.Ub()),2&e){var n=S.gc();S.mc("@fadeIn",void 0),S.Db(1),S.mc("ngForOf",S.ic(2,2,n.breadcrumb))}}var Ro,$o,No=(($o=function(){function e(t,n,i,a,r){b(this,e),this.entriesApi=t,this.i18n=n,this.contextMenu=i,this.store=a,this.workspaces=r,this.breadcrumb=new Mt.a([]),this.loading$=new Mt.a(!0)}return s(e,[{key:"ngOnInit",value:function(){var e=this;Object(Eo.a)([this.store.select(kt.meta),this.store.select(kt.userFoldersLoaded),this.workspaces.activeWorkspace$]).pipe(Object(Vt.a)((function(e){var t=n(e,3),i=t[0],a=t[1],r=t[2];return i.currentPage&&a&&!!r})),Object(ki.a)(1)).subscribe((function(){e.loading$.next(!1),e.bindToActivePage()}))}},{key:"ngOnDestroy",value:function(){this.activePageSub&&this.activePageSub.unsubscribe()}},{key:"openPage",value:function(e){this.store.dispatch(e.folder?new R(e.folder):new V.a(["/drive/shares"]))}},{key:"openContextMenu",value:function(e,t){var n={originX:"start",overlayX:"start"};switch(e.name){case"trash":return this.contextMenu.open(Uo,t,n);case"folder":return n=Object.assign({data:{entry:this.store.selectSnapshot(kt.activeFolder)}},n),this.contextMenu.open(Uo,t,n)}}},{key:"generateBreadCrumb",value:function(e){var t,n=[this.getRootBreadcrumb(e)];if(null===(t=e.folder)||void 0===t?void 0:t.id){var a=this.getBreadcrumbForFolder(e.folder);n.push.apply(n,i(a))}this.breadcrumb.next(n)}},{key:"getBreadcrumbForFolder",value:function(e){var t=this.store.selectSnapshot(kt.flatFolders)||[];return(e.path?e.path.split("/"):[e.id]).map((function(n){var i=e.id===+n?e:t.find((function(e){return e.id===+n}));if(i)return new Ie(i)})).filter((function(e){return!!e}))}},{key:"getRootBreadcrumb",value:function(e){if("folder"===e.name){var t=this.workspaces.activeId$.value,n=new Ie(this.store.selectSnapshot(kt.rootFolder));return t&&e.folder.workspace_id===t?Object.assign(Object.assign({},n),{viewName:this.workspaces.activeWorkspace$.value.name}):this.store.selectSnapshot(kt.userOwnsActiveFolder)?n:_e}return e}},{key:"bindToActivePage",value:function(){var e=this;this.activePageSub=Object(Eo.a)([this.store.select(kt.activePage),this.store.select(kt.flatFolders)]).pipe(Object(Wa.a)(),Object(Vt.a)((function(e){var t,i=n(e,1)[0];return"folder"!==i.name||(null===(t=i.folder)||void 0===t?void 0:t.name)}))).subscribe((function(t){var i=n(t,1)[0];e.generateBreadCrumb(i)}))}}]),e}()).\u0275fac=function(e){return new(e||$o)(S.Pb(st),S.Pb(Vo.a),S.Pb(sa),S.Pb(D.g),S.Pb(mt.a))},$o.\u0275cmp=S.Jb({type:$o,selectors:[["entry-breadcrumbs"]],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["breadcrumbs",""],[1,"breadcrumb-container"],[4,"ngFor","ngForOf"],[1,"breadcrumb-item",3,"click"],["button",""],[1,"name"],["svgIcon","arrow-drop-down",4,"ngIf"],["class","separator","svgIcon","keyboard-arrow-right",4,"ngIf"],["svgIcon","arrow-drop-down"],["svgIcon","keyboard-arrow-right",1,"separator"]],template:function(e,t){if(1&e&&(S.Ic(0,Ao,1,1,"skeleton",0),S.hc(1,"async"),S.Ic(2,Lo,3,4,"ng-template",null,1,S.Jc)),2&e){var n=S.uc(3);S.mc("ngIf",S.ic(1,2,t.loading$))("ngIfElse",n)}},directives:[P.t,dr.a,P.s,_t.a],pipes:[P.b,fn.a],styles:["[_nghost-%COMP%]{display:block;position:relative;min-height:33px;max-width:100%;overflow:hidden}.breadcrumb-container[_ngcontent-%COMP%]{display:flex;align-items:center}skeleton.text[_ngcontent-%COMP%]{position:absolute;max-width:250px;height:1.8rem;margin:auto 0;top:0;bottom:0}.breadcrumb-item[_ngcontent-%COMP%]{font-size:1.8rem;color:var(--be-text);border-radius:8px;padding:4px 8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:pointer}.breadcrumb-item[_ngcontent-%COMP%]:hover{background-color:var(--be-hover)}.breadcrumb-item[_ngcontent-%COMP%]:first-of-type{text-transform:capitalize}.breadcrumb-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{vertical-align:middle}.breadcrumb-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .separator[_ngcontent-%COMP%]{color:var(--be-secondary-text)}"],data:{animation:[lr]},changeDetection:0}),$o),Bo=((Ro=function e(){b(this,e)}).\u0275fac=function(e){return new(e||Ro)},Ro.\u0275cmp=S.Jb({type:Ro,selectors:[["drive-toolbar"]],decls:1,vars:0,template:function(e,t){1&e&&S.Qb(0,"entry-breadcrumbs")},directives:[No],styles:["drive-toolbar{display:block;padding:14px 28px;width:100%;overflow:hidden}drive-toolbar entry-breadcrumbs{margin:0 -8px}"],encapsulation:2,changeDetection:0}),Ro),zo=[{name:"file_size",viewName:"Size"},{name:"name",viewName:"Name"},{name:"updated_at",viewName:"Last Modified"},{name:"created_at",viewName:"Upload Date"},{name:"type",viewName:"Type"},{name:"extension",viewName:"Extension"}];function Ko(e,t){if(1&e){var n=S.Wb();S.Vb(0,"button",9),S.cc("click",(function(){S.xc(n);var e=t.$implicit;return S.gc(2).changeSort(e)})),S.Qb(1,"mat-icon",10),S.Vb(2,"span",11),S.Kc(3),S.Ub(),S.Ub()}if(2&e){var i=t.$implicit,a=S.gc().ngIf;S.Hb("active",a.column===i.name),S.Db(3),S.Lc(i.viewName)}}function Qo(e,t){if(1&e){var n=S.Wb();S.Tb(0),S.Vb(1,"span",1),S.Kc(2,"Sort by"),S.Ub(),S.Vb(3,"button",2),S.Vb(4,"span",3),S.Vb(5,"span"),S.Kc(6),S.hc(7,"trans"),S.Ub(),S.Qb(8,"mat-icon",4),S.Ub(),S.Qb(9,"mat-icon",5),S.Ub(),S.Vb(10,"mat-menu",6,7),S.Vb(12,"div",8),S.Kc(13,"Direction"),S.Ub(),S.Vb(14,"button",9),S.cc("click",(function(){return S.xc(n),S.gc().changeDirection("asc")})),S.Qb(15,"mat-icon",10),S.Vb(16,"span",11),S.Kc(17,"Ascending"),S.Ub(),S.Ub(),S.Vb(18,"button",9),S.cc("click",(function(){return S.xc(n),S.gc().changeDirection("desc")})),S.Qb(19,"mat-icon",10),S.Vb(20,"span",11),S.Kc(21,"Descending"),S.Ub(),S.Ub(),S.Qb(22,"div",12),S.Vb(23,"div",8),S.Kc(24,"Sort By"),S.Ub(),S.Ic(25,Ko,4,3,"button",13),S.Ub(),S.Sb()}if(2&e){var i=t.ngIf,a=S.uc(11),r=S.gc();S.Db(3),S.mc("matMenuTriggerFor",a)("disabled",r.btnDisabled),S.Db(3),S.Lc(S.ic(7,8,r.getSortViewName(i.column))),S.Db(8),S.Hb("active","asc"===i.direction),S.Db(4),S.Hb("active","desc"===i.direction),S.Db(7),S.mc("ngForOf",r.availableSorts)}}var Wo,Ho={column:"updated_at",direction:"desc"},Xo=((Wo=function(){function e(){b(this,e),this.btnDisabled=!1,this.availableSorts=zo,this.sort$=new Mt.a(Ho)}return s(e,[{key:"changeSort",value:function(e){this.sort$.next(Object.assign(Object.assign({},this.sort$.value),{column:e.name})),this.propagateChange(this.sort$.value)}},{key:"changeDirection",value:function(e){this.sort$.next(Object.assign(Object.assign({},this.sort$.value),{direction:e})),this.propagateChange(this.sort$.value)}},{key:"getSortViewName",value:function(e){return this.availableSorts.find((function(t){return t.name===e})).viewName}},{key:"writeValue",value:function(e){this.sort$.next(e||Ho)}},{key:"registerOnChange",value:function(e){this.propagateChange=e}},{key:"registerOnTouched",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Wo)},Wo.\u0275cmp=S.Jb({type:Wo,selectors:[["entries-sort-button"]],inputs:{btnDisabled:"btnDisabled"},features:[S.Cb([{provide:Jt.s,useExisting:Wo,multi:!0}])],decls:2,vars:3,consts:[[4,"ngIf"],["trans","",1,"label"],[1,"no-style",3,"matMenuTriggerFor","disabled"],[1,"sort-button-content"],["svgIcon","keyboard-arrow-down",1,"arrow-icon"],["svgIcon","sort",1,"mobile-sort-button-content"],[1,"drive-sort-menu"],["menu","matMenu"],["trans","",1,"title"],["mat-menu-item","",3,"click"],["svgIcon","check"],["trans",""],[1,"separator"],["mat-menu-item","",3,"active","click",4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(S.Ic(0,Qo,26,10,"ng-container",0),S.hc(1,"async")),2&e&&S.mc("ngIf",S.ic(1,1,t.sort$))},directives:[P.t,nn.a,on.d,_t.a,on.e,on.b,P.s],pipes:[P.b,fn.a],styles:["entries-sort-button{display:inline-block}entries-sort-button .label{color:var(--be-secondary-text);padding-right:3px}entries-sort-button .arrow-icon{width:14px;height:14px;position:relative;top:2px}entries-sort-button button:disabled{color:var(--be-secondary-text);cursor:default}entries-sort-button .mobile-sort-button-content,entries-sort-button button:disabled .mat-icon{display:none}.drive-sort-menu .mat-menu-item{padding-left:8px;line-height:35px;height:35px;font-size:1.5rem}.drive-sort-menu .mat-menu-item.active{color:var(--be-accent-default)}.drive-sort-menu .mat-menu-item.active .mat-icon{visibility:visible;color:inherit}.drive-sort-menu .mat-menu-item .mat-icon{visibility:hidden;margin-right:8px;width:20px;height:20px}.drive-sort-menu .separator{height:1px;background-color:var(--be-divider-default);margin:5px 0 20px}.drive-sort-menu .title{text-transform:uppercase;padding-left:32px;font-size:1.2rem;font-weight:500;margin-bottom:10px}"],encapsulation:2,changeDetection:0}),Wo),Zo=["moreActionsButton"];function Jo(e,t){1&e&&S.Qb(0,"div",5)}function qo(e,t){if(1&e){var n=S.Wb();S.Vb(0,"button",6),S.cc("click",(function(){return S.xc(n),S.gc(2).$implicit.execute()})),S.Qb(1,"mat-icon",7),S.Vb(2,"span",8),S.Kc(3),S.Ub(),S.Ub()}if(2&e){var i=S.gc(2).$implicit;S.Db(1),S.mc("svgIcon",i.icon),S.Db(2),S.Lc(i.viewName)}}function Go(e,t){if(1&e){var n=S.Wb();S.Vb(0,"button",9),S.cc("click",(function(){return S.xc(n),S.gc(2).$implicit.execute()})),S.hc(1,"trans"),S.Qb(2,"mat-icon",7),S.Ub()}if(2&e){var i=S.gc(2).$implicit;S.mc("matTooltip",S.ic(1,2,i.viewName)),S.Db(2),S.mc("svgIcon",i.icon)}}function Yo(e,t){if(1&e&&(S.Tb(0),S.Ic(1,Jo,1,0,"div",3),S.Ic(2,qo,4,2,"button",4),S.Ic(3,Go,3,4,"button",1),S.Sb()),2&e){var n=S.gc().$implicit,i=S.gc();S.Db(1),S.mc("ngIf",!i.compact&&n.separatorBefore),S.Db(1),S.mc("ngIf",!i.compact),S.Db(1),S.mc("ngIf",i.compact&&n.showInCompact)}}function es(e,t){if(1&e&&(S.Tb(0),S.Ic(1,Yo,4,3,"ng-container",2),S.Sb()),2&e){var n=t.$implicit;S.Db(1),S.mc("ngIf",n.visible())}}function ts(e,t){if(1&e){var n=S.Wb();S.Vb(0,"button",9,10),S.cc("click",(function(){return S.xc(n),S.gc().openMoreActionsMenu()})),S.hc(2,"trans"),S.Qb(3,"mat-icon",11),S.Ub()}2&e&&S.mc("matTooltip",S.ic(2,1,"More actions"))}var ns,is,as,rs=((ns=function(){function e(t,n,i){var a=this;b(this,e),this.store=t,this.injector=n,this.contextMenu=i,this.compact=!1,this.hasMoreActions$=new Mt.a(!1),this.actions$=new Mt.a([]),this.subscription=Object(Eo.a)([this.store.select(kt.activePage),this.store.select(kt.selectedEntry)]).subscribe((function(e){a.setActions(e[0],e[1]),a.hasMoreActions$.next(a.actions$.value.some((function(e){return!e.showInCompact})))}))}return s(e,[{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"openMoreActionsMenu",value:function(){var e=this.store.selectSnapshot(kt.selectedEntryOrActiveFolder);this.contextMenu.open(Uo,this.moreActionsButton.nativeElement,{data:{entry:e}})}},{key:"setActions",value:function(e,t){"trash"!==e.name||t?"trash"===e.name&&t?this.actions$.next(this.injector.get(Ta).getActions()):"shares"===e.name&&t?this.setActionsForEntry():e.folder&&!(null==t?void 0:t.id)?this.actions$.next(this.injector.get(Ua).getActions()):"starred"===e.name||"recent"===e.name?this.actions$.next(this.injector.get(Da).getActions()):t?this.setActionsForEntry():this.actions$.next([]):this.actions$.next(this.injector.get(La).getActions())}},{key:"setActionsForEntry",value:function(){var e,t=this,n=this.store.selectSnapshot(kt.selectedEntries).length?this.store.selectSnapshot(kt.selectedEntries):[this.store.selectSnapshot(kt.activeFolder)],i=this.store.selectSnapshot(kt.selectedEntries).length?this.store.selectSnapshot(kt.userOwnsSelectedEntries):this.store.selectSnapshot(kt.userOwnsActiveFolder);(null===(e=this.store.selectSnapshot(kt.activeWorkspace))||void 0===e?void 0:e.id)&&(i=n.every((function(e){var n;return e.workspace_id===(null===(n=t.store.selectSnapshot(kt.activeWorkspace))||void 0===n?void 0:n.id)}))),this.actions$.next(i?this.injector.get(Da).getActions():this.injector.get(Ma).getActions())}}]),e}()).\u0275fac=function(e){return new(e||ns)(S.Pb(D.g),S.Pb(S.t),S.Pb(sa))},ns.\u0275cmp=S.Jb({type:ns,selectors:[["context-actions-container"]],viewQuery:function(e,t){var n;1&e&&S.Qc(Zo,!0,S.m),2&e&&S.tc(n=S.dc())&&(t.moreActionsButton=n.first)},hostVars:2,hostBindings:function(e,t){2&e&&S.Hb("compact",t.compact)},inputs:{compact:"compact"},decls:4,vars:6,consts:[[4,"ngFor","ngForOf"],["mat-icon-button","",3,"matTooltip","click",4,"ngIf"],[4,"ngIf"],["class","separator",4,"ngIf"],["class","context-menu-item",3,"click",4,"ngIf"],[1,"separator"],[1,"context-menu-item",3,"click"],[3,"svgIcon"],["trans",""],["mat-icon-button","",3,"matTooltip","click"],["moreActionsButton",""],["svgIcon","more-vert"]],template:function(e,t){1&e&&(S.Ic(0,es,2,1,"ng-container",0),S.hc(1,"async"),S.Ic(2,ts,4,3,"button",1),S.hc(3,"async")),2&e&&(S.mc("ngForOf",S.ic(1,2,t.actions$)),S.Db(2),S.mc("ngIf",S.ic(3,4,t.compact&&t.hasMoreActions$)))},directives:[P.s,P.t,_t.a,nn.a,an.b,Mr.a],pipes:[P.b,fn.a],encapsulation:2,changeDetection:0}),ns),os=["moreActionsButton"],ss=((as=function(){function e(t,n){b(this,e),this.store=t,this.contextMenu=n}return s(e,[{key:"toggleViewMode",value:function(){var e=this.store.selectSnapshot(kt.viewMode);this.store.dispatch(new q("list"===e?"grid":"list"))}},{key:"ToggleDetails",value:function(){this.store.dispatch(new G)}},{key:"openMoreActionsMenu",value:function(){var e=this.store.selectSnapshot(kt.selectedEntry);this.contextMenu.open(Uo,this.moreActionsButton.nativeElement,{data:{entry:e}})}}]),e}()).\u0275fac=function(e){return new(e||as)(S.Pb(D.g),S.Pb(sa))},as.\u0275cmp=S.Jb({type:as,selectors:[["toolbar-actions"]],viewQuery:function(e,t){var n;1&e&&S.Qc(os,!0,S.m),2&e&&S.tc(n=S.dc())&&(t.moreActionsButton=n.first)},decls:8,vars:8,consts:[[3,"compact"],[1,"always-visible-actions"],["mat-icon-button","",3,"click"],[3,"svgIcon"],["svgIcon","info"]],template:function(e,t){1&e&&(S.Qb(0,"context-actions-container",0),S.Vb(1,"div",1),S.Vb(2,"button",2),S.cc("click",(function(){return t.toggleViewMode()})),S.Qb(3,"mat-icon",3),S.hc(4,"async"),S.Ub(),S.Vb(5,"button",2),S.cc("click",(function(){return t.ToggleDetails()})),S.hc(6,"async"),S.Qb(7,"mat-icon",4),S.Ub(),S.Ub()),2&e&&(S.mc("compact",!0),S.Db(3),S.mc("svgIcon","list"===S.ic(4,4,t.viewMode)?"view-list":"view-module"),S.Db(2),S.Hb("active",S.ic(6,6,t.activityOpen)))},directives:[rs,an.b,_t.a],pipes:[P.b],styles:["toolbar-actions{display:flex;align-items:center;color:var(--be-secondary-text)}toolbar-actions context-actions-container{border-right:1px solid var(--be-divider-default);padding-right:5px;margin-right:5px}toolbar-actions .always-visible-actions .active{color:var(--be-accent-default)}"],encapsulation:2,changeDetection:0}),Object(j.b)([Object(D.d)(kt.anythingSelected)],as.prototype,"anythingSelected",void 0),Object(j.b)([Object(D.d)(kt.viewMode)],as.prototype,"viewMode",void 0),Object(j.b)([Object(D.d)(kt.detailsOpen)],as.prototype,"activityOpen",void 0),Object(j.b)([Object(D.d)(kt.multipleEntriesSelected)],as.prototype,"multipleEntriesSelected$",void 0),as),cs=((is=function(){function e(t){b(this,e),this.store=t,this.sortFormControl=new Jt.i({column:this.store.selectSnapshot(kt.sortColumn),direction:this.store.selectSnapshot(kt.sortDirection)})}return s(e,[{key:"ngOnInit",value:function(){var e=this;Object(Eo.a)([this.store.select(kt.sortColumn),this.store.select(kt.sortDirection)]).subscribe((function(t){var i=n(t,2),a=i[0],r=i[1];e.sortFormControl.setValue({column:a,direction:r},{emitEvent:!1})})),this.sortFormControl.valueChanges.subscribe((function(t){e.store.dispatch(new ue({orderBy:t.column,orderDir:t.direction}))}))}}]),e}()).\u0275fac=function(e){return new(e||is)(S.Pb(D.g))},is.\u0275cmp=S.Jb({type:is,selectors:[["file-list-header"]],decls:4,vars:4,consts:[[1,"sort-header"],[3,"btnDisabled","formControl"]],template:function(e,t){var n;1&e&&(S.Vb(0,"div",0),S.Qb(1,"entries-sort-button",1),S.hc(2,"async"),S.Ub(),S.Qb(3,"toolbar-actions")),2&e&&(S.Db(1),S.mc("btnDisabled",null==(n=S.ic(2,2,t.activePage$))?null:n.disableSort)("formControl",t.sortFormControl))},directives:[Xo,Jt.u,Jt.j,ss],pipes:[P.b],styles:["file-list-header{display:flex;align-items:center;border-bottom:1px solid var(--be-divider-default);padding-bottom:8px;margin:0 28px;color:var(--be-text);max-height:49px}file-list-header toolbar-actions{margin-left:auto}@media only screen and (max-width:450px){file-list-header entries-sort-button .label,file-list-header entries-sort-button .sort-button-content{display:none}file-list-header entries-sort-button .mobile-sort-button-content{display:inline-block}}"],encapsulation:2,changeDetection:0}),Object(j.b)([Object(D.d)(kt.sortColumn)],is.prototype,"sortColumn$",void 0),Object(j.b)([Object(D.d)(kt.activePage)],is.prototype,"activePage$",void 0),is),ls=["scrollContainer"],us=["filesContainer"];function ds(e,t){1&e&&(S.Tb(0),S.Qb(1,"drive-toolbar"),S.Qb(2,"file-list-header"),S.Sb())}var ps,hs,bs=[Da,Ua,Ma,Ta,La],fs=((ps=function(){function e(t,n,i,a,r,o,s,c){b(this,e),this.store=t,this.route=n,this.currentUser=i,this.localStorage=a,this.domCache=r,this.breakpoints=o,this.workspaces=s,this.settings=c,this.subscriptions=[]}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.setViewMode(),this.cacheDemoElements(),this.observeBreakpointChanges(),this.bindToWorkspace(),this.store.dispatch(new T),this.store.dispatch(new F),this.store.dispatch(new ve(this.currentUser.getModel())),this.currentUser.model$.subscribe((function(t){e.store.dispatch(new ve(t))}))}},{key:"ngOnDestroy",value:function(){this.store.dispatch(fe),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions=[]}},{key:"uploadFiles",value:function(e){this.store.dispatch(new ee(e))}},{key:"toggleSidebar",value:function(){this.store.dispatch(new Y)}},{key:"cacheDemoElements",value:function(){this.domCache.filesCont=this.filesContainer.nativeElement,this.domCache.scrollCont=this.scrollContainer.nativeElement,this.domCache.dragPreview=this.dragPreview.nativeElement}},{key:"setViewMode",value:function(){this.store.dispatch(new q(this.localStorage.get("bedrive.viewMode",this.settings.get("drive.default_view","grid"))))}},{key:"observeBreakpointChanges",value:function(){var e=this,t=this.breakpoints.observe("(max-width: 1100px)").subscribe((function(t){e.store.dispatch(new qe({isMobile:t.matches}))}));this.subscriptions.push(t)}},{key:"bindToWorkspace",value:function(){var e=this,t=this.workspaces.activeId$.pipe(Object(Ut.a)(1)).subscribe((function(){e.store.dispatch([new ue({},new Ie(e.store.selectSnapshot(kt.rootFolder))),new Je,new T])})),n=this.workspaces.activeWorkspace$.pipe(Object(Vt.a)((function(e){return!!e}))).subscribe((function(t){e.store.dispatch(new me(t))})),i=this.workspaces.bindToNotificationClick();this.subscriptions.push(t,i,n)}}]),e}()).\u0275fac=function(e){return new(e||ps)(S.Pb(D.g),S.Pb(I.a),S.Pb(rt.a),S.Pb(ut.a),S.Pb($a),S.Pb(Na.a),S.Pb(mt.a),S.Pb(en.a))},ps.\u0275cmp=S.Jb({type:ps,selectors:[["drive"]],viewQuery:function(e,t){var n;1&e&&(S.Ec(ls,!0,S.m),S.Ec(us,!0),S.Ec(Et,!0,S.m)),2&e&&(S.tc(n=S.dc())&&(t.scrollContainer=n.first),S.tc(n=S.dc())&&(t.filesContainer=n.first),S.tc(n=S.dc())&&(t.dragPreview=n.first))},features:[S.Cb([].concat(bs,[sa,mt.a]))],decls:27,vars:34,consts:[["menuPosition","drive-navbar",3,"showToggleButton","toggleButtonClick"],[1,"nav-searchbar"],[1,"left-sidebar",3,"mode","opened"],["position","end",1,"right-sidebar",3,"opened","mode"],["driveHammerInteractions",""],["slot","ads.drive"],[4,"ngIf"],[1,"loading-overlay-container"],["toggleSelectedClass","","contextMenu","entry","fileDropzone","","driveInfiniteScroll","",1,"files-container",3,"disableContextMenu","disableDropzoneClick","disableDropzone","filesDropped"],["filesContainer","","scrollContainer",""],[1,"overlay",3,"isVisible"]],template:function(e,t){1&e&&(S.Vb(0,"material-navbar",0),S.cc("toggleButtonClick",(function(){return t.toggleSidebar()})),S.hc(1,"async"),S.Qb(2,"main-searchbar",1),S.Ub(),S.Vb(3,"mat-sidenav-container"),S.Vb(4,"mat-sidenav",2),S.hc(5,"async"),S.hc(6,"async"),S.Qb(7,"sidebar"),S.Ub(),S.Vb(8,"mat-sidenav",3),S.hc(9,"async"),S.hc(10,"async"),S.Qb(11,"details-sidebar"),S.Ub(),S.Vb(12,"mat-sidenav-content",4),S.Qb(13,"ad-host",5),S.Ic(14,ds,3,0,"ng-container",6),S.hc(15,"async"),S.Vb(16,"div",7),S.Vb(17,"div",8,9),S.cc("filesDropped",(function(e){return t.uploadFiles(e)})),S.hc(20,"async"),S.hc(21,"async"),S.hc(22,"async"),S.Qb(23,"router-outlet"),S.Ub(),S.Qb(24,"loading-indicator",10),S.hc(25,"async"),S.Ub(),S.Ub(),S.Ub(),S.Qb(26,"entry-drag-preview")),2&e&&(S.mc("showToggleButton",S.ic(1,14,t.isMobile$)),S.Db(4),S.mc("mode",S.ic(5,16,t.isMobile$)?"over":"side")("opened",S.ic(6,18,t.sidebarOpen$)),S.Db(4),S.mc("opened",S.ic(9,20,t.activityOpen$))("mode",S.ic(10,22,t.isMobile$)?"over":"side"),S.Db(4),S.Hb("has-rek",t.settings.has("ads.drive")),S.Db(2),S.mc("ngIf","workspaces"!==S.ic(15,24,t.activePage$).name),S.Db(3),S.Hb("dragging",S.ic(20,26,t.dragging)),S.mc("disableContextMenu",!S.ic(21,28,t.canUpload$))("disableDropzoneClick",!0)("disableDropzone",!S.ic(22,30,t.canUpload$)),S.Db(7),S.mc("isVisible",S.ic(25,32,t.loading$)))},directives:[Ba.a,ir,ar.e,ar.d,Ar,bo,ar.f,mo,yo.a,P.t,ko,ca,jo,Do,I.l,Wn.a,Et,Bo,cs],pipes:[P.b],styles:["drive{display:block;width:100%;height:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}drive material-navbar{height:65px}drive .loading-overlay-container{position:relative;height:calc(100% - 106px)}drive .has-rek ad-host{margin-top:25px}drive .has-rek .loading-overlay-container{height:calc(100% - 281px)}drive .mat-sidenav-container{width:100%;height:calc(100% - 65px)}drive .mat-sidenav-container .left-sidebar{width:220px;flex:0 0 220px;border-right:1px solid var(--be-divider-default)}drive .mat-sidenav-container .right-sidebar{width:300px;flex:0 0 300px;border-left:1px solid var(--be-divider-default);background-color:var(--be-background);color:var(--be-text)}drive .mat-sidenav-container .mat-sidenav-content{position:relative;width:auto;overflow:hidden;height:100%;background-color:var(--be-background)}drive .files-container{height:calc(100% - 4px);border:2px solid transparent;overflow-x:hidden;overflow-y:auto;position:relative;padding:26px}drive .files-container.dragging .selected{opacity:.4}drive .files-container.file-over-dropzone{border-color:var(--be-accent-default);background-color:var(--be-accent-emphasis)}"],encapsulation:2,changeDetection:0}),Object(j.b)([Object(D.d)(kt.dragging)],ps.prototype,"dragging",void 0),Object(j.b)([Object(D.d)(kt.detailsOpen)],ps.prototype,"activityOpen$",void 0),Object(j.b)([Object(D.d)(kt.sidebarOpen)],ps.prototype,"sidebarOpen$",void 0),Object(j.b)([Object(D.d)(kt.loading)],ps.prototype,"loading$",void 0),Object(j.b)([Object(D.d)(kt.isMobile)],ps.prototype,"isMobile$",void 0),Object(j.b)([Object(D.d)(kt.canUpload)],ps.prototype,"canUpload$",void 0),Object(j.b)([Object(D.d)(kt.activePage)],ps.prototype,"activePage$",void 0),ps),gs=function(e){return e[e.ENTER=13]="ENTER",e[e.SPACE=32]="SPACE",e[e.ESCAPE=27]="ESCAPE",e[e.DELETE=46]="DELETE",e[e.ARROW_UP=38]="ARROW_UP",e[e.ARROW_RIGHT=39]="ARROW_RIGHT",e[e.ARROW_DOWN=40]="ARROW_DOWN",e[e.ARROW_LEFT=37]="ARROW_LEFT",e[e.S=83]="S",e[e.N=78]="N",e[e.A=65]="A",e[e.T=84]="T",e[e.B=66]="B",e[e.C=67]="C",e[e.O=79]="O",e[e.P=80]="P",e[e.R=82]="R",e[e.F=70]="F",e[e.Y=89]="Y",e[e.Z=90]="Z",e}({}),vs=((hs=function(){function e(){b(this,e),this.bindings=[]}return s(e,[{key:"add",value:function(e,t){this.bindings.push({keybind:this.parseKeybindString(e),keybindString:e,callback:t})}},{key:"addWithPreventDefault",value:function(e,t){this.bindings.push({keybind:this.parseKeybindString(e),keybindString:e,callback:t,preventDefault:!0})}},{key:"listenOn",value:function(e){var t=this;return Object(la.a)(e,"keydown").subscribe((function(e){["input","select"].includes(document.activeElement.nodeName.toLowerCase())||t.executeBindings(e)}))}},{key:"executeBindings",value:function(e){var t=this;this.bindings.forEach((function(n){t.bindingMatches(n.keybind,e)&&(n.preventDefault&&e.preventDefault&&e.preventDefault(),n.callback(e))}))}},{key:"bindingMatches",value:function(e,t){return gs[e.key.toUpperCase()]===t.keyCode&&t.ctrlKey===e.ctrl&&t.shiftKey===e.shift}},{key:"parseKeybindString",value:function(e){var t=e.trim().split("+"),n={ctrl:!1,shift:!1,key:""};return t.forEach((function(e){"ctrl"===(e=e.trim().toLowerCase())?n.ctrl=!0:"shift"===e?n.shift=!0:n.key=e})),n}}]),e}()).\u0275fac=function(e){return new(e||hs)},hs.\u0275prov=S.Lb({token:hs,factory:hs.\u0275fac,providedIn:"root"}),hs),ms=function(e){return{type:"entry",entry:e}};function ys(e,t){if(1&e&&S.Qb(0,"files-grid-item",1),2&e){var n=t.$implicit,i=S.gc();S.mc("entry",n)("contextMenu",S.qc(4,ms,n))("disableContextMenu",i.disableInteractions)("folderDropTarget",n)}}var ks,ws=((ks=function(){function e(){b(this,e),this.disableInteractions=!1}return s(e,[{key:"trackById",value:function(e,t){return t.id}}]),e}()).\u0275fac=function(e){return new(e||ks)},ks.\u0275cmp=S.Jb({type:ks,selectors:[["files-grid"]],inputs:{entries:"entries",disableInteractions:"disableInteractions"},decls:1,vars:2,consts:[[3,"entry","contextMenu","disableContextMenu","folderDropTarget",4,"ngFor","ngForOf","ngForTrackBy"],[3,"entry","contextMenu","disableContextMenu","folderDropTarget"]],template:function(e,t){1&e&&S.Ic(0,ys,1,6,"files-grid-item",0),2&e&&S.mc("ngForOf",t.entries)("ngForTrackBy",t.trackById)},directives:[P.s,fo,ca,da],styles:["files-grid{display:flex;flex-wrap:wrap;align-content:flex-start;margin:-8px}files-grid:empty{margin:0}"],encapsulation:2,changeDetection:0}),ks),xs=o("2hX1"),_s=o("Um6Z");function Os(e,t){1&e&&(S.Qb(0,"mat-icon",14),S.hc(1,"trans")),2&e&&S.mc("matTooltip",S.ic(1,1,"Starred"))}var Cs=function(e){return{type:"entry",entry:e}};function Ps(e,t){if(1&e&&(S.Vb(0,"tr",5),S.Vb(1,"td",6),S.Vb(2,"div",7),S.Qb(3,"file-thumbnail",8),S.Vb(4,"div",9),S.Vb(5,"span",10),S.Kc(6),S.Ub(),S.Ic(7,Os,2,3,"mat-icon",11),S.Ub(),S.Ub(),S.Ub(),S.Vb(8,"td",12),S.Kc(9),S.hc(10,"formattedDate"),S.Ub(),S.Vb(11,"td",13),S.Kc(12),S.hc(13,"formattedFileSize"),S.Ub(),S.Ub()),2&e){var n=t.$implicit,i=S.gc();S.mc("contextMenu",S.qc(13,Cs,n))("disableContextMenu",i.disableInteractions)("folderDropTarget",n),S.Eb("data-id",n.id),S.Db(3),S.mc("file",n),S.Db(3),S.Lc(n.name),S.Db(1),S.mc("ngIf",i.isStarred(n)),S.Db(2),S.Lc(S.ic(10,9,n.updated_at)),S.Db(3),S.Lc(S.ic(13,11,n.file_size))}}var Is,js,Ss,Ds,Es,Us,Vs,As,Ms=((Us=function(){function e(t,n){b(this,e),this.store=t,this.datatable=n,this.disableInteractions=!1}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.datatable.init({disableSort:this.disableInteractions}),this.datatable.sort$.pipe(Object(Vt.a)((function(e){return!!Object.keys(e).length}))).subscribe((function(t){e.store.dispatch(new ue(t))}))}},{key:"ngOnDestroy",value:function(){this.datatable.destroy()}},{key:"isStarred",value:function(e){return!!e.tags&&!!e.tags.find((function(e){return"starred"===e.name}))}},{key:"trackById",value:function(e,t){return t.id}}]),e}()).\u0275fac=function(e){return new(e||Us)(S.Pb(D.g),S.Pb(xs.a))},Us.\u0275cmp=S.Jb({type:Us,selectors:[["files-list"]],inputs:{entries:"entries",disableInteractions:"disableInteractions"},features:[S.Cb([xs.a])],decls:11,vars:2,consts:[[1,"material-table"],["table-sort-header","","trans","",1,"name-column"],["table-sort-header","updated_at","trans","",1,"last-updated-column"],["table-sort-header","file_size","trans","",1,"size-column"],["class","drive-entry",3,"contextMenu","disableContextMenu","folderDropTarget",4,"ngFor","ngForOf","ngForTrackBy"],[1,"drive-entry",3,"contextMenu","disableContextMenu","folderDropTarget"],["data-label","Name",1,"name-column"],[1,"file-name-container"],[3,"file"],[1,"file-name"],[1,"entry-name"],["class","star-icon","svgIcon","star",3,"matTooltip",4,"ngIf"],["data-label","Last Updated",1,"last-updated-column"],["data-label","Size",1,"size-column"],["svgIcon","star",1,"star-icon",3,"matTooltip"]],template:function(e,t){1&e&&(S.Vb(0,"table",0),S.Vb(1,"thead"),S.Vb(2,"tr"),S.Vb(3,"th",1),S.Kc(4,"Name"),S.Ub(),S.Vb(5,"th",2),S.Kc(6,"Last Updated"),S.Ub(),S.Vb(7,"th",3),S.Kc(8,"Size"),S.Ub(),S.Ub(),S.Ub(),S.Vb(9,"tbody"),S.Ic(10,Ps,14,15,"tr",4),S.Ub(),S.Ub()),2&e&&(S.Db(10),S.mc("ngForOf",t.entries)("ngForTrackBy",t.trackById))},directives:[_s.a,nn.a,P.s,ca,da,Hr,P.t,_t.a,Mr.a],pipes:[Xa.a,pr.a,fn.a],styles:["[_nghost-%COMP%]{display:block}table[_ngcontent-%COMP%]{table-layout:fixed}.last-updated-column[_ngcontent-%COMP%]{width:220px}.size-column[_ngcontent-%COMP%]{width:120px}tr.drag-over[_ngcontent-%COMP%], tr.selected[_ngcontent-%COMP%]{background-color:var(--be-accent-emphasis)}.file-name-container[_ngcontent-%COMP%]{display:flex;align-items:center}.file-name[_ngcontent-%COMP%]{max-width:90%;overflow:hidden;text-overflow:ellipsis}file-thumbnail[_ngcontent-%COMP%]{background-color:transparent!important;margin-right:15px}file-thumbnail[_ngcontent-%COMP%]  file-icon, file-thumbnail[_ngcontent-%COMP%]  img{width:24px;height:24px;max-width:none;-o-object-fit:cover;object-fit:cover}file-thumbnail[_ngcontent-%COMP%]  file-icon{margin-top:3px}.star-icon[_ngcontent-%COMP%]{color:#ffc000;width:18px;height:18px;vertical-align:middle}@media only screen and (max-width:768px){.last-updated-column[_ngcontent-%COMP%], .size-column[_ngcontent-%COMP%], thead[_ngcontent-%COMP%]{display:none}}"],changeDetection:0}),Us),Ts=((Es=function e(){b(this,e)}).\u0275fac=function(e){return new(e||Es)},Es.\u0275cmp=S.Jb({type:Es,selectors:[["no-recent-entries"]],decls:6,vars:0,consts:[[1,"no-results-message"],["trans","",1,"main"],["trans","",1,"secondary"],["svgIcon","recent-custom",1,"icon"]],template:function(e,t){1&e&&(S.Vb(0,"div",0),S.Vb(1,"div",1),S.Kc(2,"No recent entries."),S.Ub(),S.Vb(3,"div",2),S.Kc(4,"You have not uploaded any files or folders yet."),S.Ub(),S.Qb(5,"mat-icon",3),S.Ub())},directives:[nn.a,_t.a],encapsulation:2,changeDetection:0}),Es),Fs=((Ds=function e(){b(this,e)}).\u0275fac=function(e){return new(e||Ds)},Ds.\u0275cmp=S.Jb({type:Ds,selectors:[["no-trashed-entries"]],decls:6,vars:0,consts:[[1,"no-results-message"],["trans","",1,"main"],["trans","",1,"secondary"],["svgIcon","trash-custom",1,"icon"]],template:function(e,t){1&e&&(S.Vb(0,"div",0),S.Vb(1,"div",1),S.Kc(2,"Trash is empty."),S.Ub(),S.Vb(3,"div",2),S.Kc(4,"There are no files or folders in your trash currently."),S.Ub(),S.Qb(5,"mat-icon",3),S.Ub())},directives:[nn.a,_t.a],encapsulation:2,changeDetection:0}),Ds),Ls=((Ss=function e(){b(this,e)}).\u0275fac=function(e){return new(e||Ss)},Ss.\u0275cmp=S.Jb({type:Ss,selectors:[["no-starred-entries"]],decls:6,vars:0,consts:[[1,"no-results-message"],["trans","",1,"main"],["trans","",1,"secondary"],["svgIcon","add-star-custom",1,"icon"]],template:function(e,t){1&e&&(S.Vb(0,"div",0),S.Vb(1,"div",1),S.Kc(2,"Nothing is starred."),S.Ub(),S.Vb(3,"div",2),S.Kc(4,"Add stars to files and folders that you want to easily find later."),S.Ub(),S.Qb(5,"mat-icon",3),S.Ub())},directives:[nn.a,_t.a],encapsulation:2,changeDetection:0}),Ss),Rs=((js=function e(){b(this,e)}).\u0275fac=function(e){return new(e||js)},js.\u0275cmp=S.Jb({type:js,selectors:[["no-shared-entries"]],decls:6,vars:0,consts:[[1,"no-results-message"],["trans","",1,"main"],["trans","",1,"secondary"],["svgIcon","share-custom",1,"icon"]],template:function(e,t){1&e&&(S.Vb(0,"div",0),S.Vb(1,"div",1),S.Kc(2,"Shared with me."),S.Ub(),S.Vb(3,"div",2),S.Kc(4,"Files and folders other people have shared with you."),S.Ub(),S.Qb(5,"mat-icon",3),S.Ub())},directives:[nn.a,_t.a],encapsulation:2,changeDetection:0}),js),$s=((Is=function e(){b(this,e)}).\u0275fac=function(e){return new(e||Is)},Is.\u0275cmp=S.Jb({type:Is,selectors:[["no-search-entries"]],decls:6,vars:0,consts:[[1,"no-results-message"],["trans","",1,"main"],["trans","",1,"secondary"],["svgIcon","search-custom",1,"icon"]],template:function(e,t){1&e&&(S.Vb(0,"div",0),S.Vb(1,"div",1),S.Kc(2,"No matches found."),S.Ub(),S.Vb(3,"div",2),S.Kc(4,"Try another search with different query or file type."),S.Ub(),S.Qb(5,"mat-icon",3),S.Ub())},directives:[nn.a,_t.a],encapsulation:2,changeDetection:0}),Is),Ns=["clickTarget"],Bs=((As=function(){function e(t,n){b(this,e),this.store=t,this.uploadConfig=n}return s(e,[{key:"ngAfterViewInit",value:function(){var e=this;this.clickTarget.nativeElement.addEventListener("click",(function(){Object(Ye.a)(e.uploadConfig).then((function(t){e.store.dispatch(new ee(t))}))}))}}]),e}()).\u0275fac=function(e){return new(e||As)(S.Pb(D.g),S.Pb(tt))},As.\u0275cmp=S.Jb({type:As,selectors:[["upload-dropzone"]],viewQuery:function(e,t){var n;1&e&&S.Ec(Ns,!0),2&e&&S.tc(n=S.dc())&&(t.clickTarget=n.first)},decls:9,vars:0,consts:[[1,"animation-circle"],[1,"content-circle"],["clickTarget",""],["svgIcon","upload-custom",1,"main-icon"],[1,"text","initial-text"],["trans","",1,"primary"],["trans","",1,"secondary"]],template:function(e,t){1&e&&(S.Qb(0,"div",0),S.Vb(1,"div",1,2),S.Qb(3,"mat-icon",3),S.Vb(4,"div",4),S.Vb(5,"div",5),S.Kc(6,"Drop files or folders here"),S.Ub(),S.Vb(7,"div",6),S.Kc(8,"or click to upload."),S.Ub(),S.Ub(),S.Ub())},directives:[_t.a,nn.a],styles:["@-webkit-keyframes pulsate{0%{-webkit-transform:scale(1)}50%{-webkit-transform:scale(1.05)}to{-webkit-transform:scale(1)}}@keyframes pulsate{0%{-webkit-transform:scale(1)}50%{-webkit-transform:scale(1.05)}to{-webkit-transform:scale(1)}}.file-over-dropzone .animation-circle{-webkit-animation:pulsate .7s ease-out;animation:pulsate .7s ease-out;-webkit-animation-iteration-count:15;animation-iteration-count:15;background-color:var(--be-accent-lighter);pointer-events:none}.file-over-dropzone .content-circle{color:var(--be-accent-contrast);pointer-events:none}upload-dropzone{display:block;position:relative;width:400px;height:400px;border:2px solid transparent;margin:auto}upload-dropzone .animation-circle,upload-dropzone .content-circle{position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;width:400px;height:400px;min-height:300px;max-width:90%;max-height:90%;border-radius:50%;overflow:hidden;cursor:pointer}upload-dropzone .animation-circle{background-color:var(--be-background);border:1px solid var(--be-divider-default);z-index:1}upload-dropzone .content-circle{display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:transparent;border-color:transparent;color:var(--be-secondary-text);z-index:2}upload-dropzone .content-circle .main-icon{width:100px;height:100px}upload-dropzone .content-circle .text{text-align:center;margin-top:8px}upload-dropzone .content-circle .text .mat-icon{vertical-align:middle}upload-dropzone .content-circle .text .primary{font-size:1.8rem;font-weight:500;margin-bottom:5px}upload-dropzone .content-circle .text .secondary{font-size:1.5rem}@media only screen and (max-width:500px){upload-dropzone{width:auto}upload-dropzone .animation-circle,upload-dropzone .content-circle{border-radius:0;border:none;max-width:100%;max-height:100%}}"],encapsulation:2,changeDetection:0}),As),zs=((Vs=function e(){b(this,e)}).\u0275fac=function(e){return new(e||Vs)},Vs.\u0275cmp=S.Jb({type:Vs,selectors:[["no-folder-entries"]],decls:1,vars:0,template:function(e,t){1&e&&S.Qb(0,"upload-dropzone")},directives:[Bs],encapsulation:2,changeDetection:0}),Vs);function Ks(e,t){if(1&e&&(S.Qb(0,"files-grid",3),S.hc(1,"async")),2&e){var n=S.gc();S.mc("entries",S.ic(1,1,n.entries$))}}function Qs(e,t){if(1&e&&(S.Qb(0,"files-list",3),S.hc(1,"async")),2&e){var n=S.gc();S.mc("entries",S.ic(1,1,n.entries$))}}function Ws(e,t){1&e&&S.Qb(0,"no-recent-entries")}function Hs(e,t){1&e&&S.Qb(0,"no-trashed-entries")}function Xs(e,t){1&e&&S.Qb(0,"no-starred-entries")}function Zs(e,t){1&e&&S.Qb(0,"no-shared-entries")}function Js(e,t){1&e&&S.Qb(0,"no-search-entries")}function qs(e,t){1&e&&S.Qb(0,"no-folder-entries")}function Gs(e,t){if(1&e&&(S.Tb(0,4),S.hc(1,"async"),S.Ic(2,Ws,1,0,"no-recent-entries",5),S.Ic(3,Hs,1,0,"no-trashed-entries",5),S.Ic(4,Xs,1,0,"no-starred-entries",5),S.Ic(5,Zs,1,0,"no-shared-entries",5),S.Ic(6,Js,1,0,"no-search-entries",5),S.Ic(7,qs,1,0,"no-folder-entries",6),S.Sb()),2&e){var n=S.gc();S.mc("ngSwitch",S.ic(1,6,n.activePageName$)),S.Db(2),S.mc("ngSwitchCase","recent"),S.Db(1),S.mc("ngSwitchCase","trash"),S.Db(1),S.mc("ngSwitchCase","starred"),S.Db(1),S.mc("ngSwitchCase","shares"),S.Db(1),S.mc("ngSwitchCase","search")}}var Ys,ec,tc=((Ys=function(){function e(t,n,i){b(this,e),this.store=t,this.el=n,this.keybinds=i,this.tabindex=0}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.keybindSub=this.keybinds.listenOn(this.el.nativeElement),this.keybinds.addWithPreventDefault("ctrl+a",(function(){e.store.dispatch(new B)})),this.keybinds.addWithPreventDefault("delete",(function(){"trash"===e.store.selectSnapshot(kt.activePageName)?e.store.dispatch(new J({title:"Delete Forever",body:"This will permanently delete selected items.",bodyBold:"This action can not be undone.",ok:"Delete Forever"},new ne)):e.store.dispatch(new K)})),this.keybinds.addWithPreventDefault("enter",(function(){e.store.dispatch(new Le(e.store.selectSnapshot(kt.selectedEntry)))}))}},{key:"ngOnDestroy",value:function(){this.keybindSub.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Ys)(S.Pb(D.g),S.Pb(S.m),S.Pb(vs))},Ys.\u0275cmp=S.Jb({type:Ys,selectors:[["entries-container"]],hostVars:1,hostBindings:function(e,t){2&e&&S.Eb("tabindex",t.tabindex)},features:[S.Cb([vs])],decls:6,vars:7,consts:[[3,"entries",4,"ngIf","ngIfElse"],["filesList",""],[3,"ngSwitch",4,"ngIf"],[3,"entries"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:function(e,t){if(1&e&&(S.Ic(0,Ks,2,3,"files-grid",0),S.hc(1,"async"),S.Ic(2,Qs,2,3,"ng-template",null,1,S.Jc),S.Ic(4,Gs,8,8,"ng-container",2),S.hc(5,"async")),2&e){var n=S.uc(3);S.mc("ngIf","grid"===S.ic(1,3,t.viewMode$))("ngIfElse",n),S.Db(4),S.mc("ngIf",S.ic(5,5,t.noEntries))}},directives:[P.t,ws,Ms,P.x,P.y,P.z,Ts,Fs,Ls,Rs,$s,zs],pipes:[P.b],styles:["entries-container{display:block;height:100%;outline:none}entries-container .no-results-message{margin-top:40px}entries-container .no-results-message .mat-icon{margin-top:15px}"],encapsulation:2,changeDetection:0}),Object(j.b)([Object(D.d)(kt.entries)],Ys.prototype,"entries$",void 0),Object(j.b)([Object(D.d)(kt.entriesEmpty)],Ys.prototype,"noEntries",void 0),Object(j.b)([Object(D.d)(kt.viewMode)],Ys.prototype,"viewMode$",void 0),Object(j.b)([Object(D.d)(kt.activePageName)],Ys.prototype,"activePageName$",void 0),Ys),nc=new S.s("CURRENT_PREVIEW_FILE"),ic=new S.s("PREVIEW_URL_TRANSFORMER",{factory:function(){return function(e){return e.url}},providedIn:"root"}),ac=o("jhN1"),rc=((ec=function(){function e(t,n,i,a,r,o){b(this,e),this.file=t,this.transformer=n,this.settings=i,this.http=a,this.sanitizer=r,this.currentUser=o,this.filePreviewWrapper=!0,this.download=new S.o}return s(e,[{key:"getSrc",value:function(){return this.transformer(this.file)}},{key:"getSafeSrc",value:function(){return this.sanitizer.bypassSecurityTrustResourceUrl(this.getSrc())}},{key:"getContents",value:function(){return this.http.get(this.getSrc(),null,{responseType:"text"})}}]),e}()).\u0275fac=function(e){return new(e||ec)(S.Pb(nc),S.Pb(ic),S.Pb(en.a),S.Pb(at.a),S.Pb(ac.b),S.Pb(rt.a))},ec.\u0275dir=S.Kb({type:ec,hostVars:2,hostBindings:function(e,t){2&e&&S.Hb("file-preview-wrapper",t.filePreviewWrapper)}}),ec);function oc(e,t){if(1&e){var n=S.Wb();S.Vb(0,"button",3),S.cc("click",(function(){return S.xc(n),S.gc().download.emit()})),S.Kc(1,"Download"),S.Ub()}}var sc,cc=((sc=function(e){c(n,e);var t=u(n);function n(){return b(this,n),t.apply(this,arguments)}return s(n,[{key:"getMessage",value:function(){return this.message||"No file preview available."}}]),n}(rc)).\u0275fac=function(e){return lc(e||sc)},sc.\u0275cmp=S.Jb({type:sc,selectors:[["default-preview"]],inputs:{message:"message"},features:[S.Ab],decls:4,vars:2,consts:[[1,"panel","preview-object"],["trans","",1,"message"],["mat-raised-button","","color","accent","trans","",3,"click",4,"ngIf"],["mat-raised-button","","color","accent","trans","",3,"click"]],template:function(e,t){1&e&&(S.Vb(0,"div",0),S.Vb(1,"div",1),S.Kc(2),S.Ub(),S.Ic(3,oc,2,0,"button",2),S.Ub()),2&e&&(S.Db(2),S.Lc(t.getMessage()),S.Db(1),S.mc("ngIf",t.download.observers.length))},directives:[P.t,an.b],styles:["[_nghost-%COMP%]{display:block;max-width:380px;max-height:150px}.panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;background-color:var(--be-background);color:var(--be-text);border-radius:4px;width:100%;height:100%;margin:auto;box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12)}.message[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:15px}.mat-raised-button[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),sc),lc=S.Xb(cc);function uc(e,t){1&e&&S.Qb(0,"default-preview",2)}function dc(e,t){if(1&e&&(S.Vb(0,"div",3),S.Vb(1,"pre"),S.Kc(2),S.hc(3,"async"),S.Ub(),S.Ub()),2&e){var n=S.gc();S.Db(2),S.Lc(S.ic(3,1,n.content$))}}var pc,hc=((pc=function(e){c(n,e);var t=u(n);function n(){var e;return b(this,n),(e=t.apply(this,arguments)).content$=new Mt.a(""),e.fileTooLarge$=new Mt.a(!1),e}return s(n,[{key:"ngOnInit",value:function(){this.file.file_size>5242880?this.fileTooLarge$.next(!0):this.loadFileContents()}},{key:"loadFileContents",value:function(){var e=this;this.getContents().subscribe((function(t){e.content$.next(t)}))}}]),n}(rc)).\u0275fac=function(e){return bc(e||pc)},pc.\u0275cmp=S.Jb({type:pc,selectors:[["text-preview"]],features:[S.Ab],decls:4,vars:4,consts:[["message","This file is too large to preview.",4,"ngIf","ngIfElse"],["textPreview",""],["message","This file is too large to preview."],[1,"text-wrapper","preview-object"]],template:function(e,t){if(1&e&&(S.Ic(0,uc,1,0,"default-preview",0),S.hc(1,"async"),S.Ic(2,dc,4,3,"ng-template",null,1,S.Jc)),2&e){var n=S.uc(3);S.mc("ngIf",S.ic(1,2,t.fileTooLarge$))("ngIfElse",n)}},directives:[P.t,cc],pipes:[P.b],styles:["[_nghost-%COMP%]{display:block;width:80%;min-height:80%}@media only screen and (max-width:768px){[_nghost-%COMP%]{width:90%}}.text-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;background-color:var(--be-background);box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12);border-radius:4px;color:var(--be-text);padding:20px;overflow:auto}.text-wrapper[_ngcontent-%COMP%], pre[_ngcontent-%COMP%]{word-wrap:break-word}pre[_ngcontent-%COMP%]{display:block;white-space:pre-wrap;margin:0;font-size:1.4rem;font-family:inherit}default-preview[_ngcontent-%COMP%]{margin:auto;position:absolute;top:0;left:0;right:0;bottom:0}"],changeDetection:0}),pc),bc=S.Xb(hc),fc=["playerEl"];function gc(e,t){1&e&&S.Qb(0,"default-preview")}var vc,mc=((vc=function(e){c(n,e);var t=u(n);function n(){var e;return b(this,n),(e=t.apply(this,arguments)).invalidMedia=!1,e}return s(n,[{key:"ngOnInit",value:function(){if(this.invalidMedia=!this.canPlayVideo(),!this.invalidMedia){var e=document.createElement("source");e.src=this.getSrc(),e.type=this.file.mime,this.player().appendChild(e),this.player().play()}}},{key:"canPlayVideo",value:function(){return!!this.player().canPlayType(this.file.mime)}},{key:"player",value:function(){return this.playerEl.nativeElement}}]),n}(rc)).\u0275fac=function(e){return yc(e||vc)},vc.\u0275cmp=S.Jb({type:vc,selectors:[["audio-preview"]],viewQuery:function(e,t){var n;1&e&&S.Ec(fc,!0),2&e&&S.tc(n=S.dc())&&(t.playerEl=n.first)},features:[S.Ab],decls:3,vars:3,consts:[["controls","controls","controlsList","nodownload noremoteplayback",1,"preview-object"],["playerEl",""],[4,"ngIf"]],template:function(e,t){1&e&&(S.Qb(0,"audio",0,1),S.Ic(2,gc,1,0,"default-preview",2)),2&e&&(S.Hb("hidden",t.invalidMedia),S.Db(2),S.mc("ngIf",t.invalidMedia))},directives:[P.t,cc],styles:["[_nghost-%COMP%]{display:block;max-width:80%;height:auto;margin-bottom:40px}@media only screen and (max-width:768px){[_nghost-%COMP%]{width:90%}}audio[_ngcontent-%COMP%]{display:block;max-width:100%;box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12);max-height:60px}audio[_ngcontent-%COMP%], default-preview[_ngcontent-%COMP%]{margin:auto;position:absolute;top:0;left:0;right:0;bottom:0}"],changeDetection:0}),vc),yc=S.Xb(mc);function kc(e,t){1&e&&S.Qb(0,"default-preview")}var wc,xc,_c,Oc=((wc=function(e){c(n,e);var t=u(n);function n(){return b(this,n),t.apply(this,arguments)}return n}(mc)).\u0275fac=function(e){return Cc(e||wc)},wc.\u0275cmp=S.Jb({type:wc,selectors:[["video-preview"]],features:[S.Ab],decls:3,vars:3,consts:[["controls","controls","controlsList","nodownload noremoteplayback","playsinline","",1,"preview-object"],["playerEl",""],[4,"ngIf"]],template:function(e,t){1&e&&(S.Qb(0,"video",0,1),S.Ic(2,kc,1,0,"default-preview",2)),2&e&&(S.Hb("hidden",t.invalidMedia),S.Db(2),S.mc("ngIf",t.invalidMedia))},directives:[P.t,cc],styles:["[_nghost-%COMP%]{display:block;max-width:100%;max-height:100%;height:auto;margin-bottom:40px}@media only screen and (max-width:768px){[_nghost-%COMP%]{width:90%}}video[_ngcontent-%COMP%]{display:block;max-width:100%;max-height:100%;height:auto;box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12)}default-preview[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{margin:auto;position:absolute;top:0;left:0;right:0;bottom:0}"],changeDetection:0}),wc),Cc=S.Xb(Oc),Pc=((xc=function(e){c(n,e);var t=u(n);function n(){return b(this,n),t.apply(this,arguments)}return n}(rc)).\u0275fac=function(e){return Ic(e||xc)},xc.\u0275cmp=S.Jb({type:xc,selectors:[["image-preview"]],features:[S.Ab],decls:1,vars:1,consts:[[1,"preview-object",3,"src"]],template:function(e,t){1&e&&S.Qb(0,"img",0),2&e&&S.mc("src",t.getSafeSrc(),S.Ac)},styles:["[_nghost-%COMP%]{display:block;max-width:100%;max-height:100%;height:auto;margin-bottom:40px}@media only screen and (max-width:768px){[_nghost-%COMP%]{width:90%}}img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;height:auto;margin:auto;box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12);position:absolute;top:0;left:0;right:0;bottom:0;background-color:var(--be-background)}"],changeDetection:0}),xc),Ic=S.Xb(Pc),jc=((_c=function(t){c(i,t);var n=u(i);function i(){var e;return b(this,i),(e=n.apply(this,arguments)).className="preview-object",e}return s(i,[{key:"getSrc",value:function(){return e(h(i.prototype),"getSrc",this).call(this)+"#toolbar=0"}}]),i}(rc)).\u0275fac=function(e){return Sc(e||_c)},_c.\u0275cmp=S.Jb({type:_c,selectors:[["pdf-preview"]],hostVars:2,hostBindings:function(e,t){2&e&&S.Fb(t.className)},features:[S.Ab],decls:1,vars:1,consts:[[3,"src"]],template:function(e,t){1&e&&S.Qb(0,"iframe",0),2&e&&S.mc("src",t.getSafeSrc(),S.zc)},styles:["[_nghost-%COMP%]{display:block;margin:auto;position:absolute;top:0;left:0;right:0;bottom:0}[_nghost-%COMP%], iframe[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{width:100%;height:100%}iframe[_ngcontent-%COMP%], object[_ngcontent-%COMP%]{border:none}"],changeDetection:0}),_c),Sc=S.Xb(jc),Dc=o("XFMS"),Ec=["iframe"];function Uc(e,t){if(1&e){var n=S.Wb();S.Tb(0),S.Qb(1,"iframe",3,4),S.Vb(3,"div",5),S.cc("click",(function(){return S.xc(n),S.gc().openInNewWindow()})),S.Ub(),S.Sb()}}function Vc(e,t){1&e&&S.Qb(0,"default-preview")}var Ac,Mc,Tc,Fc=((Ac=function(e){c(n,e);var t=u(n);function n(){var e;return b(this,n),(e=t.apply(this,arguments)).loading$=new Mt.a(!0),e.showDefaultPreview$=new Mt.a(!1),e}return s(n,[{key:"ngAfterViewInit",value:function(){var e=this;if(this.file.file_size>25e6)return this.showDefaultPreview();this.iframe.nativeElement.onload=function(){clearTimeout(e.timeoutRef),e.stopLoading()},this.getIframeSrc().then((function(t){e.iframe.nativeElement.src=t})).catch((function(){e.showDefaultPreview()})),this.timeoutRef=setTimeout((function(){e.showDefaultPreview()}),5e3)}},{key:"stopLoading",value:function(){this.loading$.next(!1)}},{key:"showDefaultPreview",value:function(){this.stopLoading(),this.showDefaultPreview$.next(!0)}},{key:"openInNewWindow",value:function(){window.open(window.location.href,"_blank")}},{key:"getIframeSrc",value:function(){var e=this;return new Promise((function(t,n){var i=e.getSrc();-1===i.indexOf("shareable_link")?e.http.post("uploads/".concat(e.file.id,"/add-preview-token")).subscribe((function(n){i+="?preview_token="+n.preview_token,t(e.getFullPreviewUrl(i))}),(function(){return n})):t(e.getFullPreviewUrl(i))}))}},{key:"getFullPreviewUrl",value:function(e){return e=Object(Dc.a)(e)?e:this.settings.getBaseUrl()+e,"https://view.officeapps.live.com/op/embed.aspx?src="+encodeURIComponent(e)}}]),n}(rc)).\u0275fac=function(e){return Lc(e||Ac)},Ac.\u0275cmp=S.Jb({type:Ac,selectors:[["google-docs-viewer"]],viewQuery:function(e,t){var n;1&e&&S.Qc(Ec,!0),2&e&&S.tc(n=S.dc())&&(t.iframe=n.first)},features:[S.Ab],decls:6,vars:7,consts:[[4,"ngIf","ngIfElse"],["defaultPreview",""],[1,"overlay",3,"isVisible"],[1,"preview-object"],["iframe",""],[1,"pop-out-block","office-block",3,"click"]],template:function(e,t){if(1&e&&(S.Ic(0,Uc,4,0,"ng-container",0),S.hc(1,"async"),S.Ic(2,Vc,1,0,"ng-template",null,1,S.Jc),S.Qb(4,"loading-indicator",2),S.hc(5,"async")),2&e){var n=S.uc(3);S.mc("ngIf",!S.ic(1,3,t.showDefaultPreview$))("ngIfElse",n),S.Db(4),S.mc("isVisible",S.ic(5,5,t.loading$))}},directives:[P.t,Wn.a,cc],pipes:[P.b],styles:["[_nghost-%COMP%]{display:block;margin:auto;position:absolute;top:0;left:0;right:0;bottom:0}[_nghost-%COMP%], iframe[_ngcontent-%COMP%]{width:100%;height:100%}iframe[_ngcontent-%COMP%]{border:none}loading-indicator.overlay[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-color:transparent}default-preview[_ngcontent-%COMP%]{margin:auto;position:absolute;top:0;left:0;right:0;bottom:0}.pop-out-block[_ngcontent-%COMP%]{position:absolute;right:12px;cursor:pointer}.office-block[_ngcontent-%COMP%]{width:25px;height:25px;bottom:0}.gdocs-block[_ngcontent-%COMP%]{width:40px;height:40px;top:12px}"],changeDetection:0}),Ac),Lc=S.Xb(Fc),Rc=new S.s("AVAILABLE_PREVIEWS"),$c=((Tc=function e(){b(this,e),this.text=hc,this.video=Oc,this.audio=mc,this.image=Pc,this.pdf=jc,this.spreadsheet=Fc,this.powerPoint=Fc,this.word=Fc}).\u0275fac=function(e){return new(e||Tc)},Tc.\u0275prov=S.Lb({token:Tc,factory:Tc.\u0275fac}),Tc),Nc=((Mc=function(){function e(t,n){b(this,e),this.availablePreviews=t,this.injector=n,this.files=[],this.portal=new Mt.a(null),this.meta=new Mt.a({}),this.previewUriTransformer=null,this.download=new At.a}return s(e,[{key:"pagination",value:function(){return this.meta.pipe(Object(Vt.a)((function(e){return e&&!!e.entry})))}},{key:"getCurrent",value:function(){return this.meta.value.entry}},{key:"getAllEntries",value:function(){return this.files}},{key:"getPortal",value:function(){return this.portal.asObservable()}},{key:"showNext",value:function(){this.meta.value.haveNext&&(this.updateMeta("next"),this.updatePortal())}},{key:"showPrevious",value:function(){this.meta.value.havePrevious&&(this.updateMeta("previous"),this.updatePortal())}},{key:"updateMeta",value:function(e){var t=0;if("string"==typeof e){var n=this.meta.value.pointer;t="next"===e?n+1:n-1}else"number"==typeof e&&(t=e);this.meta.next({pointer:t,entry:this.files[t],total:this.files.length,haveNext:t+1<this.files.length,havePrevious:t-1>-1})}},{key:"updatePortal",value:function(){var e=this.getCurrent();this.portal.next(new ia.d(e&&this.availablePreviews[e.type]||cc,null,this.createInjector()))}},{key:"set",value:function(e,t){e&&0!==e.length&&(this.files=e.filter((function(e){return"folder"!==e.type})),this.updateMeta(t),this.updatePortal())}},{key:"createInjector",value:function(){var e=new WeakMap;return e.set(nc,this.getCurrent()),this.previewUriTransformer&&e.set(ic,this.previewUriTransformer),new ia.g(this.injector,e)}},{key:"destroy",value:function(){this.meta.next({}),this.files=null,this.portal.next(null)}},{key:"setPreviewUriTransformer",value:function(e){this.previewUriTransformer=e}}]),e}()).\u0275fac=function(e){return new(e||Mc)(S.Zb(Rc),S.Zb(S.t))},Mc.\u0275prov=S.Lb({token:Mc,factory:Mc.\u0275fac,providedIn:"root"}),Mc);function Bc(e,t){1&e&&(S.Vb(0,"div",9),S.Kc(1,"Password does not match."),S.Ub())}var zc,Kc=((zc=function(){function e(t){b(this,e),this.links=t,this.passwordControl=new Jt.i,this.passwordError$=new Mt.a(!1),this.passwordValid=new S.o(null)}return s(e,[{key:"submitPassword",value:function(){var e=this;this.links.checkPassword(this.link.id,this.passwordControl.value).subscribe((function(t){e.handlePasswordCheck(t.matches)}),(function(){}))}},{key:"handlePasswordCheck",value:function(e){this.passwordError$.next(!e),e&&this.passwordValid.emit(this.passwordControl.value)}}]),e}()).\u0275fac=function(e){return new(e||zc)(S.Pb(Sn))},zc.\u0275cmp=S.Jb({type:zc,selectors:[["link-preview-password-panel"]],inputs:{link:"link"},outputs:{passwordValid:"passwordValid"},decls:13,vars:4,consts:[["svgIcon","password-custom"],["ngNativeValidate","",1,"content",3,"ngSubmit"],["trans","",1,"message"],[1,"input-container"],["for","password","trans","",1,"hidden"],["type","password","id","password","placeholder","Password","trans-placeholder","","required","",3,"formControl"],[1,"button-container"],["class","error","trans","",4,"ngIf"],["type","submit","mat-raised-button","","color","accent","trans",""],["trans","",1,"error"]],template:function(e,t){1&e&&(S.Qb(0,"mat-icon",0),S.Vb(1,"form",1),S.cc("ngSubmit",(function(){return t.submitPassword()})),S.Vb(2,"div",2),S.Kc(3,"The link you are trying to access is password protected."),S.Ub(),S.Vb(4,"div",3),S.Vb(5,"label",4),S.Kc(6,"Password"),S.Ub(),S.Qb(7,"input",5),S.Ub(),S.Vb(8,"div",6),S.Ic(9,Bc,2,0,"div",7),S.hc(10,"async"),S.Vb(11,"button",8),S.Kc(12,"Enter"),S.Ub(),S.Ub(),S.Ub()),2&e&&(S.Db(7),S.mc("formControl",t.passwordControl),S.Db(2),S.mc("ngIf",S.ic(10,2,t.passwordError$)))},directives:[_t.a,Jt.v,Jt.w,nn.a,Jt.d,Jt.F,Jt.u,Jt.j,P.t,an.b],pipes:[P.b],styles:["link-preview-password-panel{display:flex;background-color:var(--be-background);color:var(--be-text);border:1px solid var(--be-divider-default);padding:25px;border-radius:4px;position:absolute;top:0;left:0;right:0;bottom:0;width:500px;height:192px;max-width:90%;max-height:90%;margin:auto}link-preview-password-panel .content{flex:1 1 auto}link-preview-password-panel .content .message{margin-bottom:8px}link-preview-password-panel .button-container{display:flex;align-items:center;margin-top:10px}link-preview-password-panel .button-container button{margin-left:auto}link-preview-password-panel .mat-icon{width:140px;height:140px;flex:0 0 140px;margin-right:10px;margin-left:-25px}"],encapsulation:2,changeDetection:0}),zc),Qc=o("nPOm"),Wc=o("ZfYz");function Hc(e,t){if(1&e){var n=S.Wb();S.Vb(0,"button",3),S.cc("click",(function(){return S.xc(n),S.gc().closed.emit(!0)})),S.Qb(1,"mat-icon",4),S.Ub()}}function Xc(e,t){if(1&e){var n=S.Wb();S.Tb(0),S.Vb(1,"div",10),S.Vb(2,"button",11),S.cc("click",(function(){return S.xc(n),S.gc(2).previewFiles.showPrevious()})),S.Qb(3,"mat-icon",12),S.Ub(),S.Vb(4,"span",13),S.Kc(5),S.hc(6,"trans"),S.Ub(),S.Vb(7,"button",14),S.cc("click",(function(){return S.xc(n),S.gc(2).previewFiles.showNext()})),S.Qb(8,"mat-icon",15),S.Ub(),S.Ub(),S.Sb()}if(2&e){var i=t.ngIf;S.Db(2),S.mc("disabled",!i.havePrevious),S.Db(3),S.Oc("",i.pointer+1," ",S.ic(6,5,"of")," ",i.total,""),S.Db(2),S.mc("disabled",!i.haveNext)}}function Zc(e,t){if(1&e){var n=S.Wb();S.Tb(0),S.Vb(1,"div",5),S.Qb(2,"file-icon",6),S.Kc(3),S.Ub(),S.Ic(4,Xc,9,7,"ng-container",1),S.hc(5,"async"),S.Vb(6,"div",7),S.Vb(7,"button",8),S.cc("click",(function(){return S.xc(n),S.gc().downloadFiles()})),S.Qb(8,"mat-icon",9),S.Ub(),S.kc(9),S.Ub(),S.Sb()}if(2&e){var i=t.ngIf,a=S.gc();S.Db(2),S.mc("type",i.entry.type),S.Db(1),S.Mc(" ",i.entry.name," "),S.Db(1),S.mc("ngIf",S.ic(5,4,a.previewFiles.pagination())),S.Db(3),S.mc("disabled",a.disableDownload)}}function Jc(e,t){if(1&e&&S.Qb(0,"img",18),2&e){var n=S.gc(2);S.mc("src",n.settings.get("branding.logo_light"),S.Ac)}}function qc(e,t){if(1&e&&(S.Vb(0,"a",16),S.Ic(1,Jc,1,1,"img",17),S.Ub()),2&e){var n=S.gc();S.Db(1),S.mc("ngIf",n.showLogo&&n.settings.get("branding.logo_light"))}}var Gc,Yc=["*"],el=((Gc=function(){function e(t,n){b(this,e),this.previewFiles=t,this.settings=n,this.showLogo=!1,this.disableDownload=!1,this.showCloseButton=!1,this.closed=new S.o}return s(e,[{key:"downloadFiles",value:function(){this.previewFiles.download.next()}}]),e}()).\u0275fac=function(e){return new(e||Gc)(S.Pb(Nc),S.Pb(en.a))},Gc.\u0275cmp=S.Jb({type:Gc,selectors:[["file-preview-toolbar"]],inputs:{showLogo:"showLogo",disableDownload:"disableDownload",showCloseButton:"showCloseButton"},outputs:{closed:"closed"},ngContentSelectors:Yc,decls:4,vars:5,consts:[["mat-icon-button","","class","back-button",3,"click",4,"ngIf"],[4,"ngIf"],["routerLink","/drive","class","logo",4,"ngIf"],["mat-icon-button","",1,"back-button",3,"click"],["svgIcon","arrow-back"],[1,"entry-name"],[3,"type"],[1,"actions"],["mat-icon-button","",3,"disabled","click"],["svgIcon","file-download"],[1,"navigation"],["mat-icon-button","",1,"previous",3,"disabled","click"],["svgIcon","keyboard-arrow-left"],[1,"meta"],["mat-icon-button","",1,"next",3,"disabled","click"],["svgIcon","keyboard-arrow-right"],["routerLink","/drive",1,"logo"],[3,"src",4,"ngIf"],[3,"src"]],template:function(e,t){1&e&&(S.lc(),S.Ic(0,Hc,2,0,"button",0),S.Ic(1,Zc,10,6,"ng-container",1),S.hc(2,"async"),S.Ic(3,qc,2,1,"a",2)),2&e&&(S.mc("ngIf",t.showCloseButton),S.Db(1),S.mc("ngIf",S.ic(2,3,t.previewFiles.pagination())),S.Db(2),S.mc("ngIf",t.showLogo&&t.settings.has("branding.logo_light")))},directives:[P.t,an.b,_t.a,Ot,I.j],pipes:[P.b,fn.a],styles:["file-preview-toolbar{position:fixed;top:0;left:0;display:flex;width:100%;align-items:center;color:var(--be-accent-contrast);height:60px;padding:0 15px;background:linear-gradient(180deg,rgba(0,0,0,.65) 0,transparent);z-index:10}@media only screen and (max-width:550px){file-preview-toolbar{padding:0 5px}}file-preview-toolbar .entry-name{display:block;margin-right:25px;margin-left:8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}@media only screen and (min-width:550px){file-preview-toolbar .entry-name{max-width:calc(50% - 77.5px)}}file-preview-toolbar .entry-name file-icon{display:inline-block;vertical-align:bottom;margin-right:5px}@media only screen and (min-width:550px){file-preview-toolbar .navigation{position:absolute;left:50%;top:50%;margin-right:-50%;transform:translate(-50%,-50%)}}@media only screen and (max-width:550px){file-preview-toolbar .navigation{position:fixed;bottom:10px;left:5px}}file-preview-toolbar .actions{margin-left:auto;white-space:nowrap}file-preview-toolbar .actions a,file-preview-toolbar .actions button{margin:0 5px}file-preview-toolbar .close-button{margin-right:25px}file-preview-toolbar .logo{position:fixed;bottom:15px;right:15px;opacity:.2;width:150px;height:auto}file-preview-toolbar .logo img{width:100%;height:auto}file-preview-toolbar .mat-icon-button[disabled][disabled]{color:#737373}"],encapsulation:2,changeDetection:0}),Gc);function tl(e,t){}function nl(e,t){if(1&e){var n=S.Wb();S.Tb(0),S.Ic(1,tl,0,0,"ng-template",1),S.cc("attached",(function(e){return S.xc(n),S.gc().listenForDownloadClick(e)})),S.Sb()}if(2&e){var i=t.ngIf;S.Db(1),S.mc("cdkPortalOutlet",i)}}var il,al=((il=function(){function e(t){b(this,e),this.previewFiles=t,this.disableDownload=!1}return s(e,[{key:"ngOnChanges",value:function(e){this.previewFiles.set(this.files,this.activeFile)}},{key:"ngOnDestroy",value:function(){this.previewFiles.destroy(),this.downloadSub&&this.downloadSub.unsubscribe()}},{key:"listenForDownloadClick",value:function(e){var t=this;this.downloadSub&&this.downloadSub.unsubscribe(),this.disableDownload||(this.downloadSub=e.instance.download.subscribe((function(){t.previewFiles.download.next()})))}}]),e}()).\u0275fac=function(e){return new(e||il)(S.Pb(Nc))},il.\u0275cmp=S.Jb({type:il,selectors:[["preview-container"]],inputs:{files:"files",activeFile:"activeFile",disableDownload:"disableDownload"},features:[S.Bb],decls:2,vars:3,consts:[[4,"ngIf"],[3,"cdkPortalOutlet","attached"]],template:function(e,t){1&e&&(S.Ic(0,nl,2,1,"ng-container",0),S.hc(1,"async")),2&e&&S.mc("ngIf",S.ic(1,1,t.previewFiles.getPortal()))},directives:[P.t,ia.c],pipes:[P.b],styles:["[_nghost-%COMP%]{display:flex;width:100%;min-height:100%;align-items:center;justify-content:center;position:relative;overflow:hidden}  .file-preview-wrapper{position:absolute;top:0;left:0;right:0;bottom:0;margin:auto}"],changeDetection:0}),il),rl=["previewContainer"],ol=["moreOptionsButton"];function sl(e,t){if(1&e){var n=S.Wb();S.Vb(0,"button",4,5),S.cc("click",(function(){return S.xc(n),S.gc().openContextMenu()})),S.Qb(2,"mat-icon",6),S.Ub()}}var cl,ll=((cl=function(){function e(t,n,i,a,r,o,s){b(this,e),this.store=t,this.el=n,this.contextMenu=i,this.overlayRef=a,this.previewFiles=r,this.currentUser=o,this.data=s}return s(e,[{key:"ngAfterViewInit",value:function(){var e=this;this.bindToDownload(),setTimeout((function(){e.previewContainer.nativeElement.addEventListener("click",(function(t){t.target.closest(".preview-object")||e.overlayRef.close()}))}))}},{key:"ngOnDestroy",value:function(){this.downloadSub.unsubscribe()}},{key:"openContextMenu",value:function(){this.contextMenu.open(Uo,this.optionsButton.nativeElement,{data:{entry:this.previewFiles.getCurrent()}})}},{key:"closeOverlay",value:function(){this.overlayRef.close()}},{key:"canDownload",value:function(){var e=this;return this.data.entries.every((function(t){var n;t.users||(t.users=[]);var i=t.users&&t.users.find((function(t){return t.id===e.currentUser.get("id")}));return(null===(n=e.data.shareableLink)||void 0===n?void 0:n.allow_download)||i&&(i.owns_entry||i.entry_permissions.download)}))}},{key:"bindToDownload",value:function(){var e=this;this.downloadSub=this.previewFiles.download.subscribe((function(){var t=e.previewFiles.getCurrent();e.store.dispatch(new re([t],e.data.shareableLink,e.data.password))}))}}]),e}()).\u0275fac=function(e){return new(e||cl)(S.Pb(D.g),S.Pb(S.m),S.Pb(sa),S.Pb(Wc.a),S.Pb(Nc),S.Pb(rt.a),S.Pb(Qc.a))},cl.\u0275cmp=S.Jb({type:cl,selectors:[["file-preview-overlay"]],viewQuery:function(e,t){var n;1&e&&(S.Ec(rl,!0,S.m),S.Qc(ol,!0,S.m)),2&e&&(S.tc(n=S.dc())&&(t.previewContainer=n.first),S.tc(n=S.dc())&&(t.optionsButton=n.first))},decls:4,vars:6,consts:[[3,"showCloseButton","disableDownload","closed"],["mat-icon-button","",3,"click",4,"ngIf"],[3,"files","activeFile","disableDownload"],["previewContainer",""],["mat-icon-button","",3,"click"],["moreOptionsButton",""],["svgIcon","more-vert"]],template:function(e,t){1&e&&(S.Vb(0,"file-preview-toolbar",0),S.cc("closed",(function(){return t.closeOverlay()})),S.Ic(1,sl,3,0,"button",1),S.Ub(),S.Qb(2,"preview-container",2,3)),2&e&&(S.mc("showCloseButton",!0)("disableDownload",!t.canDownload()),S.Db(1),S.mc("ngIf",!t.data.hideMoreOptionsBtn),S.Db(1),S.mc("files",t.data.entries)("activeFile",t.data.activeEntry)("disableDownload",!t.canDownload()))},directives:[el,P.t,al,an.b,_t.a],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%;background-color:rgba(0,0,0,.9);color:var(--be-accent-contrast);overflow:auto;position:relative}preview-container[_ngcontent-%COMP%]{margin-top:60px;min-height:calc(100% - 60px)}"],changeDetection:0}),cl),ul=o("dz5c"),dl=o("CH4Q"),pl=["filesContainer"];function hl(e,t){if(1&e){var n=S.Wb();S.Vb(0,"button",13),S.cc("click",(function(){return S.xc(n),S.gc().openFolder()})),S.Qb(1,"mat-icon",14),S.Ub()}}function bl(e,t){1&e&&S.Qb(0,"mat-icon",17)}function fl(e,t){if(1&e){var n=S.Wb();S.Tb(0),S.Vb(1,"div",15),S.cc("click",(function(){S.xc(n);var e=t.$implicit;return S.gc().openFolder(e)})),S.Kc(2),S.Ub(),S.Ic(3,bl,1,0,"mat-icon",16),S.Sb()}if(2&e){var i=t.$implicit,a=t.last;S.Db(2),S.Lc(i.name),S.Db(1),S.mc("ngIf",!a)}}function gl(e,t){if(1&e){var n=S.Wb();S.Tb(0),S.Vb(1,"button",18),S.cc("click",(function(){return S.xc(n),S.gc().toggleViewMode()})),S.hc(2,"trans"),S.Qb(3,"mat-icon",19),S.Ub(),S.Sb()}if(2&e){var i=t.ngIf;S.Db(1),S.mc("matTooltip",S.ic(2,2,"list"===i?"Grid view":"List view")),S.Db(2),S.mc("svgIcon","list"===i?"view-list":"view-module")}}function vl(e,t){if(1&e){var n=S.Wb();S.Vb(0,"button",20),S.cc("click",(function(){return S.xc(n),S.gc().download()})),S.hc(1,"trans"),S.Qb(2,"mat-icon",21),S.Ub()}2&e&&S.mc("matTooltip",S.ic(1,1,"Download all"))}function ml(e,t){if(1&e&&S.Qb(0,"files-grid",24),2&e){var n=S.gc().ngIf;S.mc("entries",n.data)("disableInteractions",!0)}}function yl(e,t){if(1&e&&S.Qb(0,"files-list",24),2&e){var n=S.gc().ngIf;S.mc("entries",n.data)("disableInteractions",!0)}}function kl(e,t){1&e&&(S.Vb(0,"no-results-message"),S.Vb(1,"span",25),S.Kc(2,"Folder Is Empty"),S.Ub(),S.Vb(3,"span",26),S.Kc(4,"No files have been uploaded to this folder yet."),S.Ub(),S.Ub())}function wl(e,t){if(1&e&&(S.Tb(0),S.Ic(1,ml,1,2,"files-grid",22),S.hc(2,"async"),S.Ic(3,yl,1,2,"ng-template",null,23,S.Jc),S.Ic(5,kl,5,0,"no-results-message",7),S.Sb()),2&e){var n=t.ngIf,i=S.uc(4),a=S.gc();S.Db(1),S.mc("ngIf","grid"===S.ic(2,3,a.viewMode$))("ngIfElse",i),S.Db(4),S.mc("ngIf",!n.data.length)}}var xl,_l=["*"],Ol=((xl=function(t){c(a,t);var n=u(a);function a(e,t,i,r,o,s){var c;return b(this,a),(c=n.call(this)).store=e,c.overlay=t,c.router=i,c.linkApi=r,c.zone=o,c.el=s,c.loading$=new Mt.a(!1),c.breadcrumb$=new Mt.a([]),c.pagination$=new Mt.a(null),c.allFolders={},c.sortFormControl=new Jt.i({column:"updated_at",direction:"desc"}),c}return s(a,[{key:"ngOnInit",value:function(){var t=this;e(h(a.prototype),"ngOnInit",this).call(this),this.sortFormControl.valueChanges.subscribe((function(e){e&&t.loadChildren({},!0)}))}},{key:"ngOnChanges",value:function(){this.allFolders[this.folder.id]=this.folder,this.generateBreadcrumb(this.folder),this.setPagination(this.data.folderChildren),this.loading$.next(!1)}},{key:"download",value:function(){this.store.dispatch(new re([this.folder],this.data.link,this.password))}},{key:"toggleViewMode",value:function(){var e=this.store.selectSnapshot(kt.viewMode);this.store.dispatch(new q("list"===e?"grid":"list"))}},{key:"openPreviewOverlay",value:function(e){var t=this.children.filter((function(e){return"folder"!==e.type})),n=t.findIndex((function(t){return t.id===e.id}));this.overlay.open(ll,{position:"center",origin:"global",panelClass:"file-preview-overlay-container",data:{entries:t.slice(),activeEntry:n,shareableLink:this.data.link,password:this.password,hideMoreOptionsBtn:!0}})}},{key:"getEntry",value:function(e){var t=e.target.closest(".drive-entry");if(t)return this.children.find((function(e){return e.id===+t.dataset.id}))}},{key:"onClick",value:function(e){var t=this.getEntry(e);t&&("folder"===t.type?this.openFolder(t):this.openPreviewOverlay(t))}},{key:"isSubFolder",value:function(){return this.router.url.indexOf(":")>-1}},{key:"openFolder",value:function(e){var t=this;e&&this.folder.id===e.id||(this.loading$.next(!0),this.router.navigate(["/drive/s",this.makeLinkHash(e)]).then((function(){t.sortFormControl.reset()})))}},{key:"generateBreadcrumb",value:function(e){var t=this;this.breadcrumb$.next(e.path.split("/").map((function(e){return t.allFolders[+e]})).filter((function(e){return!!e})))}},{key:"loadChildren",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.loading$.next(!0);var a="".concat(this.sortFormControl.value.column,":").concat(this.sortFormControl.value.direction),r=e.page||this.pagination$.value.current_page;this.linkApi.findByHash(this.makeLinkHash(this.folder),{page:r,order:a,withEntries:!0}).pipe(Object(U.a)((function(){return t.loading$.next(!1)}))).subscribe((function(e){var a=e.folderChildren;n||(a.data=[].concat(i(t.children),i(a.data))),t.setPagination(a)}))}},{key:"makeLinkHash",value:function(e){var t=this.data.link.hash;return e&&(t+=":"+e.hash),t}},{key:"setPagination",value:function(e){var t=this;e.data=e.data.map((function(e){return e.url+="?shareable_link="+t.data.link.id,t.password&&(e.url+="&password="+t.password),e})),this.pagination$.next(e)}},{key:"loadMoreItems",value:function(){this.loadChildren({page:this.pagination$.value.current_page+1},!1)}},{key:"canLoadMore",value:function(){return this.pagination$.value.current_page<this.pagination$.value.last_page}},{key:"isLoading",value:function(){return this.loading$.value}},{key:"folder",get:function(){return this.data.link.entry}},{key:"children",get:function(){return this.pagination$.value.data}}]),a}(So)).\u0275fac=function(e){return new(e||xl)(S.Pb(D.g),S.Pb(ul.a),S.Pb(I.g),S.Pb(Sn),S.Pb(S.B),S.Pb(S.m))},xl.\u0275cmp=S.Jb({type:xl,selectors:[["folder-preview"]],viewQuery:function(e,t){var n;1&e&&S.Ec(pl,!0),2&e&&S.tc(n=S.dc())&&(t.filesContainer=n.first)},inputs:{data:"data",password:"password"},features:[S.Ab,S.Bb],ngContentSelectors:_l,decls:20,vars:15,consts:[[1,"toolbar"],[1,"breadcrumb"],["mat-icon-button","","class","home-button",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"actions"],[3,"formControl"],[1,"action-separator"],[4,"ngIf"],["mat-icon-button","",3,"matTooltip","click",4,"ngIf"],["slot","ads.file-preview",1,"folder-preview-vert-host"],[1,"files-container",3,"click"],["filesContainer",""],[1,"overlay",3,"isVisible"],["mat-icon-button","",1,"home-button",3,"click"],["svgIcon","home",1,"action-icon"],[1,"breadcrumb-item",3,"click"],["class","separator","svgIcon","keyboard-arrow-right",4,"ngIf"],["svgIcon","keyboard-arrow-right",1,"separator"],["mat-icon-button","",1,"view-toggle-button",3,"matTooltip","click"],[1,"action-icon",3,"svgIcon"],["mat-icon-button","",3,"matTooltip","click"],["svgIcon","file-download",1,"action-icon"],[3,"entries","disableInteractions",4,"ngIf","ngIfElse"],["filesList",""],[3,"entries","disableInteractions"],["primary-text","","trans",""],["secondary-text","","trans",""]],template:function(e,t){1&e&&(S.lc(),S.Qb(0,"material-navbar"),S.Vb(1,"div",0),S.Vb(2,"div",1),S.Ic(3,hl,2,0,"button",2),S.Ic(4,fl,4,2,"ng-container",3),S.hc(5,"async"),S.Ub(),S.Vb(6,"div",4),S.Qb(7,"entries-sort-button",5),S.Qb(8,"span",6),S.Ic(9,gl,4,4,"ng-container",7),S.hc(10,"async"),S.Ic(11,vl,3,3,"button",8),S.kc(12),S.Ub(),S.Ub(),S.Qb(13,"ad-host",9),S.Vb(14,"div",10,11),S.cc("click",(function(e){return t.onClick(e)})),S.Ic(16,wl,6,5,"ng-container",7),S.hc(17,"async"),S.Ub(),S.Qb(18,"loading-indicator",12),S.hc(19,"async")),2&e&&(S.Db(3),S.mc("ngIf",t.isSubFolder()),S.Db(1),S.mc("ngForOf",S.ic(5,7,t.breadcrumb$)),S.Db(3),S.mc("formControl",t.sortFormControl),S.Db(2),S.mc("ngIf",S.ic(10,9,t.viewMode$)),S.Db(2),S.mc("ngIf",t.data.link.allow_download),S.Db(5),S.mc("ngIf",S.ic(17,11,t.pagination$)),S.Db(2),S.mc("isVisible",S.ic(19,13,t.loading$)))},directives:[Ba.a,P.t,P.s,Xo,Jt.u,Jt.j,yo.a,Wn.a,an.b,_t.a,Mr.a,ws,Ms,dl.a,nn.a],pipes:[P.b,fn.a],styles:["folder-preview{display:block;max-height:100vh;overflow:auto}folder-preview .files-container{max-width:1280px;margin-left:auto;margin-right:auto;padding:10px 20px}folder-preview .folder-preview-vert-host{margin:30px 0}folder-preview material-navbar:not(.transparent){background-color:var(--be-accent-default)}folder-preview material-navbar:not(.transparent) .mat-raised-button.mat-accent{background-color:#fff;color:var(--be-text)}folder-preview .toolbar{display:flex;padding:15px;margin-bottom:15px;border-bottom:1px solid var(--be-divider-default);color:var(--be-text)}@media only screen and (max-width:768px){folder-preview .toolbar{display:block}folder-preview .toolbar .breadcrumb{margin-bottom:10px}}folder-preview .toolbar .action-icon{color:var(--be-secondary-text)}folder-preview .toolbar .breadcrumb{flex:1 1 auto}folder-preview .toolbar .actions{margin-left:auto}folder-preview .toolbar .action-separator{display:inline-block;vertical-align:middle;background-color:var(--be-divider-default);width:1px;height:40px;margin:0 12px}folder-preview .drive-entry{cursor:pointer;transition-property:all}folder-preview .drive-entry:hover{box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12)}folder-preview .breadcrumb{display:flex;align-items:center;max-width:100%;overflow:hidden}folder-preview .breadcrumb .breadcrumb-item{font-size:1.8rem;color:var(--be-text);border-radius:4px;padding:4px 8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:pointer}folder-preview .breadcrumb .breadcrumb-item:hover{background-color:var(--be-hover)}folder-preview .breadcrumb .breadcrumb-item:first-of-type{text-transform:capitalize}folder-preview .breadcrumb .breadcrumb-item .mat-icon{vertical-align:middle;color:var(--be-secondary-text);margin-left:-5px}folder-preview .breadcrumb .separator{color:var(--be-secondary-text)}folder-preview no-results-message{margin-top:40px}@media only screen and (max-width:450px){folder-preview entries-sort-button .label{display:none}}"],encapsulation:2,changeDetection:0}),Object(j.b)([Object(D.d)(kt.viewMode)],xl.prototype,"viewMode$",void 0),xl);function Cl(e,t){if(1&e){var n=S.Wb();S.Vb(0,"link-preview-password-panel",3),S.cc("passwordValid",(function(e){return S.xc(n),S.gc(2).setValidPassword(e)})),S.Ub()}if(2&e){var i=S.gc().ngIf;S.mc("link",i.link)}}function Pl(e,t){if(1&e){var n=S.Wb();S.Tb(0),S.Qb(1,"span",5),S.Vb(2,"button",6),S.cc("click",(function(){return S.xc(n),S.gc(4).import()})),S.Kc(3,"Import"),S.Ub(),S.Sb()}}function Il(e,t){if(1&e&&(S.Tb(0),S.Vb(1,"folder-preview",4),S.Ic(2,Pl,4,0,"ng-container",0),S.hc(3,"async"),S.Ub(),S.Sb()),2&e){var n=S.gc(2).ngIf,i=S.gc();S.Db(1),S.mc("data",n)("password",i.password),S.Db(1),S.mc("ngIf",!S.ic(3,3,i.entryAlreadyImported$)&&i.currentUser.isLoggedIn())}}function jl(e,t){1&e&&(S.Vb(0,"a",12),S.Kc(1,"Sign In"),S.Ub())}function Sl(e,t){if(1&e){var n=S.Wb();S.Vb(0,"button",6),S.cc("click",(function(){return S.xc(n),S.gc(4).import()})),S.Kc(1,"Import"),S.Ub()}}var Dl=function(e){return[e]};function El(e,t){if(1&e&&(S.Tb(0),S.Vb(1,"file-preview-toolbar",7),S.Ic(2,jl,2,0,"a",8),S.Ic(3,Sl,2,0,"button",9),S.hc(4,"async"),S.Ub(),S.Qb(5,"ad-host",10),S.Qb(6,"preview-container",11),S.Sb()),2&e){var n=S.gc(2).ngIf,i=S.gc();S.Db(1),S.mc("showLogo",!0)("disableDownload",!n.link.allow_download),S.Db(1),S.mc("ngIf",!i.currentUser.isLoggedIn()),S.Db(1),S.mc("ngIf",!S.ic(4,7,i.entryAlreadyImported$)&&i.currentUser.isLoggedIn()),S.Db(3),S.Hb("has-rek",i.settings.has("ads.file-preview")),S.mc("files",S.qc(9,Dl,n.link.entry))}}function Ul(e,t){if(1&e&&(S.Ic(0,Il,4,5,"ng-container",0),S.Ic(1,El,7,11,"ng-container",0)),2&e){var n=S.gc().ngIf;S.mc("ngIf","folder"===n.link.entry.type),S.Db(1),S.mc("ngIf","folder"!==n.link.entry.type)}}function Vl(e,t){if(1&e&&(S.Tb(0),S.Ic(1,Cl,1,1,"link-preview-password-panel",1),S.hc(2,"async"),S.Ic(3,Ul,2,2,"ng-template",null,2,S.Jc),S.Sb()),2&e){var n=S.uc(4),i=S.gc();S.Db(1),S.mc("ngIf",S.ic(2,2,i.passwordPanelVisible$))("ngIfElse",n)}}var Al,Ml,Tl=((Al=function(){function e(t,n,i,a,r,o,s,c,l,u){b(this,e),this.store=t,this.route=n,this.links=i,this.previewFiles=a,this.settings=r,this.currentUser=o,this.router=s,this.toast=c,this.el=l,this.localStorage=u,this.data$=new Mt.a(null),this.passwordPanelVisible$=new Mt.a(!1)}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.bindToDownload(),this.disableContextMenu(),this.setViewMode(),this.route.params.subscribe((function(t){e.links.findByHash(t.hash,{withEntries:!0}).subscribe((function(t){var n=t.link.id!==(e.data$.value&&e.data$.value.link.id);e.data$.next(t),e.setBackgroundClass(t.link),!t.link.password||!n&&e.password?(e.togglePasswordPanel(!1),e.showPreview()):e.togglePasswordPanel(!0)}),(function(){e.router.navigate(["/404"])}))}))}},{key:"ngOnDestroy",value:function(){this.downloadSub.unsubscribe()}},{key:"import",value:function(){var e=this;this.links.importEntry(this.data$.value.link.id,this.password).subscribe((function(t){var n=e.data$.value.link;n.entry.users=t.users,e.data$.next(Object.assign(Object.assign({},e.data$.value),{link:n})),e.toast.open({message:'":name" imported into your drive.',replacements:{name:n.entry.name}})}))}},{key:"togglePasswordPanel",value:function(e){this.passwordPanelVisible$.next(e)}},{key:"bindToDownload",value:function(){var e=this;this.downloadSub=this.previewFiles.download.subscribe((function(){var t=e.data$.value.link;e.store.dispatch(new re([t.entry],t,e.password))}))}},{key:"showPreview",value:function(){var e=this.data$.value;e.link.entry.url+="?shareable_link="+e.link.id,this.password&&(e.link.entry.url+="&password="+this.password),this.data$.next(Object.assign({},e))}},{key:"setValidPassword",value:function(e){this.password=e,this.showPreview(),this.togglePasswordPanel(!1)}},{key:"setBackgroundClass",value:function(e){this.el.nativeElement.classList.add("folder"===e.entry.type?"folder-link":"file-link")}},{key:"disableContextMenu",value:function(){Object(la.a)(this.el.nativeElement,"contextmenu").subscribe((function(e){e.preventDefault()}))}},{key:"setViewMode",value:function(){this.store.dispatch(new q(this.localStorage.get("bedrive.viewMode",this.settings.get("drive.default_view","grid"))))}},{key:"entryAlreadyImported$",get:function(){var e=this.currentUser.get("id");return this.data$.pipe(Object(qt.a)((function(e){return e.link})),Object(Vt.a)((function(e){return!!e&&!!e.entry&&!!e.entry.users})),Object(qt.a)((function(e){return e.entry})),Object(qt.a)((function(t){return!!t.users.find((function(t){return t.id===e}))})))}}]),e}()).\u0275fac=function(e){return new(e||Al)(S.Pb(D.g),S.Pb(I.a),S.Pb(Sn),S.Pb(Nc),S.Pb(en.a),S.Pb(rt.a),S.Pb(I.g),S.Pb(yt.b),S.Pb(S.m),S.Pb(ut.a))},Al.\u0275cmp=S.Jb({type:Al,selectors:[["link-preview-container"]],features:[S.Cb([Nc])],decls:2,vars:3,consts:[[4,"ngIf"],[3,"link","passwordValid",4,"ngIf","ngIfElse"],["filePreview",""],[3,"link","passwordValid"],[3,"data","password"],[1,"action-separator"],["mat-flat-button","","color","accent","trans","",3,"click"],[3,"showLogo","disableDownload"],["mat-flat-button","","color","accent","routerLink","/login","trans","",4,"ngIf"],["mat-flat-button","","color","accent","trans","",3,"click",4,"ngIf"],["slot","ads.file-preview",1,"file-preview-vert-host"],[3,"files"],["mat-flat-button","","color","accent","routerLink","/login","trans",""]],template:function(e,t){1&e&&(S.Ic(0,Vl,5,4,"ng-container",0),S.hc(1,"async")),2&e&&S.mc("ngIf",S.ic(1,1,t.data$))},directives:[P.t,Kc,Ol,an.b,nn.a,el,yo.a,al,an.a,I.j],pipes:[P.b],styles:["link-preview-container{display:block;width:100%;height:100%;position:relative;overflow:hidden}link-preview-container.folder-link{background-color:var(--be-background)}link-preview-container.file-link{background-color:rgba(0,0,0,.9)}link-preview-container preview-container{margin:60px 0;min-height:calc(100% - 120px)}link-preview-container .file-preview-vert-host{margin-top:80px}"],encapsulation:2,changeDetection:0}),Al),Fl=o("0QyJ"),Ll=o("vhtE"),Rl=[{path:"s/:hash",component:Tl},{path:"",component:fs,canActivate:[Fl.a,Ll.a],children:[{path:"",component:tc},{path:"shares",component:tc},{path:"search",component:tc},{path:"recent",component:tc},{path:"starred",component:tc},{path:"trash",component:tc},{path:"folders/:hash",component:tc},{path:"workspaces",loadChildren:function(){return o.e(10).then(o.bind(null,"XsAd")).then((function(e){return e.WorkspaceWrapperModule}))}}]}],$l=((Ml=function e(){b(this,e)}).\u0275mod=S.Nb({type:Ml}),Ml.\u0275inj=S.Mb({factory:function(e){return new(e||Ml)},imports:[[P.c,I.k.forChild(Rl)],I.k]}),Ml),Nl=o("nLfN"),Bl=o("R1ws");function zl(e,t){if(1&e&&(S.fc(),S.Qb(0,"circle",3)),2&e){var n=S.gc();S.Fc("animation-name","mat-progress-spinner-stroke-rotate-"+n._spinnerAnimationLabel)("stroke-dashoffset",n._getStrokeDashOffset(),"px")("stroke-dasharray",n._getStrokeCircumference(),"px")("stroke-width",n._getCircleStrokeWidth(),"%"),S.Eb("r",n._getCircleRadius())}}function Kl(e,t){if(1&e&&(S.fc(),S.Qb(0,"circle",3)),2&e){var n=S.gc();S.Fc("stroke-dashoffset",n._getStrokeDashOffset(),"px")("stroke-dasharray",n._getStrokeCircumference(),"px")("stroke-width",n._getCircleStrokeWidth(),"%"),S.Eb("r",n._getCircleRadius())}}function Ql(e,t){if(1&e&&(S.fc(),S.Qb(0,"circle",3)),2&e){var n=S.gc();S.Fc("animation-name","mat-progress-spinner-stroke-rotate-"+n._spinnerAnimationLabel)("stroke-dashoffset",n._getStrokeDashOffset(),"px")("stroke-dasharray",n._getStrokeCircumference(),"px")("stroke-width",n._getCircleStrokeWidth(),"%"),S.Eb("r",n._getCircleRadius())}}function Wl(e,t){if(1&e&&(S.fc(),S.Qb(0,"circle",3)),2&e){var n=S.gc();S.Fc("stroke-dashoffset",n._getStrokeDashOffset(),"px")("stroke-dasharray",n._getStrokeCircumference(),"px")("stroke-width",n._getCircleStrokeWidth(),"%"),S.Eb("r",n._getCircleRadius())}}var Hl,Xl,Zl,Jl=".mat-progress-spinner{display:block;position:relative}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate]{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n",ql=Object(Li.u)((function e(t){b(this,e),this._elementRef=t}),"primary"),Gl=new S.s("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}}),Yl=((Zl=function(e){c(n,e);var t=u(n);function n(e,i,a,r,o){var s;b(this,n),(s=t.call(this,e))._elementRef=e,s._document=a,s._diameter=100,s._value=0,s._fallbackAnimation=!1,s.mode="determinate";var c=n._diameters;return s._spinnerAnimationLabel=s._getSpinnerAnimationLabel(),c.has(a.head)||c.set(a.head,new Set([100])),s._fallbackAnimation=i.EDGE||i.TRIDENT,s._noopAnimations="NoopAnimations"===r&&!!o&&!o._forceAnimations,o&&(o.diameter&&(s.diameter=o.diameter),o.strokeWidth&&(s.strokeWidth=o.strokeWidth)),s}return s(n,[{key:"ngOnInit",value:function(){var e=this._elementRef.nativeElement;this._styleRoot=Object(Nl.c)(e)||this._document.head,this._attachStyleNode(),e.classList.add("mat-progress-spinner-indeterminate".concat(this._fallbackAnimation?"-fallback":"","-animation"))}},{key:"_getCircleRadius",value:function(){return(this.diameter-10)/2}},{key:"_getViewBox",value:function(){var e=2*this._getCircleRadius()+this.strokeWidth;return"0 0 ".concat(e," ").concat(e)}},{key:"_getStrokeCircumference",value:function(){return 2*Math.PI*this._getCircleRadius()}},{key:"_getStrokeDashOffset",value:function(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}},{key:"_getCircleStrokeWidth",value:function(){return this.strokeWidth/this.diameter*100}},{key:"_attachStyleNode",value:function(){var e=this._styleRoot,t=this._diameter,i=n._diameters,a=i.get(e);if(!a||!a.has(t)){var r=this._document.createElement("style");r.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),r.textContent=this._getAnimationText(),e.appendChild(r),a||(a=new Set,i.set(e,a)),a.add(t)}}},{key:"_getAnimationText",value:function(){var e=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*e).replace(/END_VALUE/g,""+.2*e).replace(/DIAMETER/g,""+this._spinnerAnimationLabel)}},{key:"_getSpinnerAnimationLabel",value:function(){return this.diameter.toString().replace(".","_")}},{key:"diameter",get:function(){return this._diameter},set:function(e){this._diameter=Object(Oi.f)(e),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}},{key:"strokeWidth",get:function(){return this._strokeWidth||this.diameter/10},set:function(e){this._strokeWidth=Object(Oi.f)(e)}},{key:"value",get:function(){return"determinate"===this.mode?this._value:0},set:function(e){this._value=Math.max(0,Math.min(100,Object(Oi.f)(e)))}}]),n}(ql)).\u0275fac=function(e){return new(e||Zl)(S.Pb(S.m),S.Pb(Nl.a),S.Pb(P.e,8),S.Pb(Bl.a,8),S.Pb(Gl))},Zl.\u0275cmp=S.Jb({type:Zl,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(e,t){2&e&&(S.Eb("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),S.Fc("width",t.diameter,"px")("height",t.diameter,"px"),S.Hb("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[S.Ab],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(S.fc(),S.Vb(0,"svg",0),S.Ic(1,zl,1,9,"circle",1),S.Ic(2,Kl,1,7,"circle",2),S.Ub()),2&e&&(S.Fc("width",t.diameter,"px")("height",t.diameter,"px"),S.mc("ngSwitch","indeterminate"===t.mode),S.Eb("viewBox",t._getViewBox()),S.Db(1),S.mc("ngSwitchCase",!0),S.Db(1),S.mc("ngSwitchCase",!1))},directives:[P.x,P.y],styles:[Jl],encapsulation:2,changeDetection:0}),Zl._diameters=new WeakMap,Zl),eu=((Xl=function(e){c(n,e);var t=u(n);function n(e,i,a,r,o){var s;return b(this,n),(s=t.call(this,e,i,a,r,o)).mode="indeterminate",s}return n}(Yl)).\u0275fac=function(e){return new(e||Xl)(S.Pb(S.m),S.Pb(Nl.a),S.Pb(P.e,8),S.Pb(Bl.a,8),S.Pb(Gl))},Xl.\u0275cmp=S.Jb({type:Xl,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(e,t){2&e&&(S.Fc("width",t.diameter,"px")("height",t.diameter,"px"),S.Hb("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color"},features:[S.Ab],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(e,t){1&e&&(S.fc(),S.Vb(0,"svg",0),S.Ic(1,Ql,1,9,"circle",1),S.Ic(2,Wl,1,7,"circle",2),S.Ub()),2&e&&(S.Fc("width",t.diameter,"px")("height",t.diameter,"px"),S.mc("ngSwitch","indeterminate"===t.mode),S.Eb("viewBox",t._getViewBox()),S.Db(1),S.mc("ngSwitchCase",!0),S.Db(1),S.mc("ngSwitchCase",!1))},directives:[P.x,P.y],styles:[Jl],encapsulation:2,changeDetection:0}),Xl),tu=((Hl=function e(){b(this,e)}).\u0275mod=S.Nb({type:Hl}),Hl.\u0275inj=S.Mb({factory:function(e){return new(e||Hl)},imports:[[Li.h,P.c],Li.h]}),Hl),nu=o("wZkO"),iu={entry:Uo},au=o("gcYM"),ru=o("eNwd");function ou(e,t){if(1&e&&(S.Vb(0,"div",9),S.Kc(1),S.Vb(2,"span",10),S.Kc(3,"left"),S.Ub(),S.Ub()),2&e){var n=S.gc();S.Db(1),S.Mc(" ",n.progress.eta," ")}}function su(e,t){1&e&&(S.Qb(0,"mat-icon",11),S.hc(1,"trans")),2&e&&S.mc("matTooltip",S.ic(1,1,t.ngIf))}function cu(e,t){1&e&&S.Qb(0,"mat-icon",14)}function lu(e,t){if(1&e){var n=S.Wb();S.Vb(0,"span",15),S.cc("click",(function(){S.xc(n);var e=S.gc(2);return e.cancelUpload(e.upload)})),S.Kc(1,"Cancel"),S.Ub()}}function uu(e,t){if(1&e&&(S.Ic(0,cu,1,0,"mat-icon",12),S.Ic(1,lu,2,0,"span",13)),2&e){var n=S.gc();S.mc("ngIf",n.upload.completed),S.Db(1),S.mc("ngIf",!n.upload.completed)}}var du,pu=((du=function(){function e(t,n,i){b(this,e),this.uploadQueue=t,this.store=n,this.cd=i,this.progress={}}return s(e,[{key:"ngOnInit",value:function(){var e=this;this.subscription=this.upload.progress$.pipe(Object(au.a)(260,ru.a,{leading:!0,trailing:!0})).subscribe((function(t){e.progress=t,e.cd.detectChanges()}))}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"cancelUpload",value:function(e){this.uploadQueue.remove(e.id),this.uploadQueue.isEmpty()&&this.store.dispatch(new W)}}]),e}()).\u0275fac=function(e){return new(e||du)(S.Pb(lt.a),S.Pb(D.g),S.Pb(S.i))},du.\u0275cmp=S.Jb({type:du,selectors:[["uploads-panel-item"]],inputs:{upload:"upload"},decls:12,vars:9,consts:[[3,"mime"],[1,"content"],[1,"meta"],[1,"name",3,"matTooltip"],["class","time-left",4,"ngIf"],[1,"actions"],["svgIcon","error","class","error-icon","matTooltipPosition","left",3,"matTooltip",4,"ngIf","ngIfElse"],["noError",""],["mode","determinate","color","accent",3,"value"],[1,"time-left"],["trans",""],["svgIcon","error","matTooltipPosition","left",1,"error-icon",3,"matTooltip"],["svgIcon","check-circle","class","completed-icon",4,"ngIf"],["class","cancel-button","trans","",3,"click",4,"ngIf"],["svgIcon","check-circle",1,"completed-icon"],["trans","",1,"cancel-button",3,"click"]],template:function(e,t){if(1&e&&(S.Qb(0,"file-icon",0),S.Vb(1,"div",1),S.Vb(2,"div",2),S.Vb(3,"div",3),S.Kc(4),S.Ub(),S.Ic(5,ou,4,1,"div",4),S.Vb(6,"div",5),S.Ic(7,su,2,3,"mat-icon",6),S.hc(8,"async"),S.Ic(9,uu,2,2,"ng-template",null,7,S.Jc),S.Ub(),S.Ub(),S.Qb(11,"mat-progress-bar",8),S.Ub()),2&e){var n=S.uc(10);S.mc("mime",t.upload.uploadedFile.mime),S.Db(3),S.mc("matTooltip",t.upload.uploadedFile.name),S.Db(1),S.Lc(t.upload.uploadedFile.name),S.Db(1),S.mc("ngIf",t.progress.percentage&&t.progress.percentage<100&&!t.upload.error$.value),S.Db(2),S.mc("ngIf",S.ic(8,7,t.upload.error$))("ngIfElse",n),S.Db(4),S.mc("value",t.progress.percentage)}},directives:[Ot,Mr.a,P.t,ur.a,nn.a,_t.a],pipes:[P.b,fn.a],styles:["uploads-panel-item{display:flex;align-items:center;padding:15px;border-bottom:1px solid var(--be-divider-default)}uploads-panel-item file-icon{width:35px;height:35px;flex:0 0 35px;margin-right:10px}uploads-panel-item .content{flex:1 1 auto;margin-bottom:5px;min-width:0}uploads-panel-item .content .meta{display:flex;align-items:center;padding-bottom:4px}uploads-panel-item .name{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}uploads-panel-item .time-left{color:var(--be-secondary-text);font-size:1.3rem;padding-left:15px;white-space:nowrap}uploads-panel-item .actions{margin-left:auto;padding-left:20px}uploads-panel-item .actions .mat-icon{vertical-align:middle;width:22px;height:22px;margin-bottom:4px}uploads-panel-item .completed-icon{color:var(--be-accent-default)}uploads-panel-item .error-icon{color:#f44336}uploads-panel-item .cancel-button{color:var(--be-link);cursor:pointer;font-size:1.2rem;text-transform:uppercase;line-height:22px}uploads-panel-item .cancel-button:hover{text-decoration:underline}uploads-panel-item .mat-progress-bar{height:3px;border-radius:3px}uploads-panel-item .mat-progress-bar .mat-progress-bar-buffer{background-color:var(--be-hover)}uploads-panel-item .mat-progress-bar .mat-progress-bar-fill:after{background-color:var(--be-accent-default)}"],encapsulation:2,changeDetection:0}),du);function hu(e,t){if(1&e&&(S.Tb(0),S.Kc(1),S.hc(2,"trans"),S.hc(3,"trans"),S.Sb()),2&e){var n=S.gc().ngIf;S.Db(1),S.Oc(" ",S.ic(2,3,"Uploading")," ",n.pending," ",S.ic(3,5,n.pending>1?"Items":"Item")," ")}}function bu(e,t){if(1&e&&(S.Tb(0),S.Kc(1),S.hc(2,"trans"),S.Sb()),2&e){var n=S.gc().ngIf;S.Db(1),S.Nc(" ",n.completed," ",S.ic(2,2,"items uploaded")," ")}}function fu(e,t){if(1&e&&(S.Tb(0),S.Ic(1,hu,4,7,"ng-container",2),S.Ic(2,bu,3,4,"ng-container",2),S.Sb()),2&e){var n=t.ngIf;S.Db(1),S.mc("ngIf",n.pending>0),S.Db(1),S.mc("ngIf",0===n.pending)}}function gu(e,t){1&e&&S.Qb(0,"mat-icon",10)}function vu(e,t){1&e&&S.Qb(0,"mat-icon",11)}function mu(e,t){1&e&&S.Qb(0,"uploads-panel-item",12),2&e&&S.mc("upload",t.$implicit)}var yu,ku,wu,xu,_u,Ou,Cu,Pu,Iu,ju,Su,Du,Eu,Uu,Vu,Au,Mu=((wu=function(){function e(t,n){b(this,e),this.store=t,this.activeUploads=n,this.minimized$=new Mt.a(!1)}return s(e,[{key:"ngOnDestroy",value:function(){this.activeUploads.reset()}},{key:"toggleMinimized",value:function(){this.minimized$.next(!this.minimized$.value)}},{key:"close",value:function(){this.store.dispatch(new W)}},{key:"trackById",value:function(e,t){return t.id}}]),e}()).\u0275fac=function(e){return new(e||wu)(S.Pb(D.g),S.Pb(lt.a))},wu.\u0275cmp=S.Jb({type:wu,selectors:[["uploads-panel"]],decls:16,vars:15,consts:[[1,"header"],[1,"info"],[4,"ngIf"],[1,"actions"],["mat-icon-button","",3,"click"],["svgIcon","keyboard-arrow-up","class","minimize-icon",4,"ngIf","ngIfElse"],["notMinimized",""],["svgIcon","close"],[1,"uploads-list"],[3,"upload",4,"ngFor","ngForOf","ngForTrackBy"],["svgIcon","keyboard-arrow-up",1,"minimize-icon"],["svgIcon","keyboard-arrow-down",1,"minimize-icon"],[3,"upload"]],template:function(e,t){if(1&e&&(S.Vb(0,"div",0),S.Vb(1,"div",1),S.Ic(2,fu,3,2,"ng-container",2),S.hc(3,"async"),S.Ub(),S.Vb(4,"div",3),S.Vb(5,"button",4),S.cc("click",(function(){return t.toggleMinimized()})),S.Ic(6,gu,1,0,"mat-icon",5),S.hc(7,"async"),S.Ic(8,vu,1,0,"ng-template",null,6,S.Jc),S.Ub(),S.Vb(10,"button",4),S.cc("click",(function(){return t.close()})),S.Qb(11,"mat-icon",7),S.Ub(),S.Ub(),S.Ub(),S.Vb(12,"div",8),S.hc(13,"async"),S.Ic(14,mu,1,1,"uploads-panel-item",9),S.hc(15,"async"),S.Ub()),2&e){var n=S.uc(9);S.Db(2),S.mc("ngIf",S.ic(3,7,t.activeUploads.count$)),S.Db(4),S.mc("ngIf",S.ic(7,9,t.minimized$))("ngIfElse",n),S.Db(6),S.Hb("hidden",S.ic(13,11,t.minimized$)),S.Db(2),S.mc("ngForOf",S.ic(15,13,t.activeUploads.uploads$))("ngForTrackBy",t.trackById)}},directives:[P.t,an.b,_t.a,P.s,pu],pipes:[P.b,fn.a],styles:["uploads-panel{width:380px;box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 5px 8px 0 rgba(0,0,0,.14),0 1px 14px 0 rgba(0,0,0,.12);background-color:var(--be-background);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}uploads-panel .header{display:flex;align-items:center;background-color:var(--be-accent-default);color:var(--be-accent-contrast);padding:8px}uploads-panel .header .info{padding-left:10px}uploads-panel .header .actions{margin-left:auto}uploads-panel .header .minimize-icon{width:30px;height:30px}uploads-panel .uploads-list{max-height:350px;overflow:auto}"],encapsulation:2,changeDetection:0}),wu),Tu=((ku=function e(t,n,i){var a=this;b(this,e),this.store=t,this.actions$=n,this.overlay=i,this.actions$.pipe(Object(D.j)(ae)).subscribe((function(e){var t=a.store.selectSnapshot(kt.entries).filter((function(e){return"folder"!==e.type})),n=a.store.selectSnapshot(kt.selectedEntry),i=t.findIndex((function(e){return e.id===(null==n?void 0:n.id)}));a.overlay.open(ll,{position:"center",origin:"global",panelClass:"file-preview-overlay-container",data:{entries:t.slice(),activeEntry:-1===i?0:i}})}))}).\u0275fac=function(e){return new(e||ku)(S.Zb(D.g),S.Zb(D.b),S.Zb(ul.a))},ku.\u0275prov=S.Lb({token:ku,factory:ku.\u0275fac}),ku),Fu=((yu=function(){function e(t,n,i){var a=this;b(this,e),this.actions$=t,this.store=n,this.settings=i,this.actions$.pipe(Object(D.j)(re)).subscribe((function(e){var t,n;t=a.getDownloadUrl(e),(n=document.createElement("a")).href=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)}))}return s(e,[{key:"getDownloadUrl",value:function(e){var t=this.getEntryHashes(e.entries),n="".concat(this.settings.getBaseUrl(),"secure/uploads/download?hashes=").concat(t);return e.link&&(n+="&shareable_link="+e.link.id),e.password&&(n+="&password="+e.password),n}},{key:"getEntryHashes",value:function(e){return e||(e=this.store.selectSnapshot(kt.selectedEntries)),e.map((function(e){return e.hash})).join(",")}}]),e}()).\u0275fac=function(e){return new(e||yu)(S.Zb(D.b),S.Zb(D.g),S.Zb(en.a))},yu.\u0275prov=S.Lb({token:yu,factory:yu.\u0275fac}),yu),Lu=o("dNgK"),Ru=((_u=function e(t){b(this,e),this.data=t}).\u0275fac=function(e){return new(e||_u)(S.Pb(Lu.a))},_u.\u0275cmp=S.Jb({type:_u,selectors:[["loading-toast"]],decls:3,vars:2,consts:[[3,"diameter"],["trans",""]],template:function(e,t){1&e&&(S.Qb(0,"mat-spinner",0),S.Vb(1,"span",1),S.Kc(2),S.Ub()),2&e&&(S.mc("diameter",30),S.Db(2),S.Lc(t.data.message))},directives:[eu,nn.a],styles:["loading-toast{display:flex;align-items:center}loading-toast .mat-spinner{margin-right:20px}loading-toast .mat-spinner circle{stroke:var(--be-accent-contrast)}"],encapsulation:2,changeDetection:0}),_u),$u=((xu=function(){function e(t,n,i,a){b(this,e),this.actions$=t,this.toast=n,this.store=i,this.router=a,this.entriesDeleted(),this.entriesStarred(),this.entriesUnstarred(),this.entriesMoveFailed(),this.folderCreated(),this.entriesMoved(),this.entriesDeletedForever(),this.entriesRestoredFromTrash(),this.entryRenamed(),this.linkCopiedToClipboard(),this.notEnoughSpace(),this.loadingToast()}return s(e,[{key:"entriesDeleted",value:function(){var e=this;this.actions$.pipe(Object(D.h)(Re)).subscribe((function(t){e.toast.open({message:"Deleted :count items.",replacements:{count:t.deletedFiles.length}},{action:"UNDO"}).onAction().subscribe((function(){e.store.dispatch(new te(t.deletedFiles))}))}))}},{key:"entriesStarred",value:function(){var e=this;this.actions$.pipe(Object(D.j)(oe)).subscribe((function(t){e.toast.open("Star added.",{action:"UNDO"}).onAction().subscribe((function(){e.store.dispatch(new se(t.entries))}))}))}},{key:"entriesUnstarred",value:function(){var e=this;this.actions$.pipe(Object(D.j)(se)).subscribe((function(t){e.toast.open("Star Removed.",{action:"UNDO"}).onAction().subscribe((function(){e.store.dispatch(new oe(t.entries))}))}))}},{key:"entriesMoved",value:function(){var e=this;this.actions$.pipe(Object(D.h)(Qe)).subscribe((function(t){e.toast.open({message:"Moved :count items.",replacements:{count:t.entries.length}})}))}},{key:"entriesMoveFailed",value:function(){var e=this;this.actions$.pipe(Object(D.h)(We)).subscribe((function(){e.toast.open("There was an issue with moving selected items.")}))}},{key:"folderCreated",value:function(){var e=this;this.actions$.pipe(Object(D.h)(Ne)).subscribe((function(){e.toast.open("Folder created.")}))}},{key:"entriesDeletedForever",value:function(){var e=this;this.actions$.pipe(Object(D.j)(He)).subscribe((function(t){e.toast.open({message:"Permanently deleted :count items.",replacements:{count:t.entries.length}})}))}},{key:"entriesRestoredFromTrash",value:function(){var e=this;this.actions$.pipe(Object(D.j)(Xe)).subscribe((function(t){e.toast.open({message:"Restored :count items.",replacements:{count:t.entries.length}})}))}},{key:"entryRenamed",value:function(){var e=this;this.actions$.pipe(Object(D.j)(Be)).subscribe((function(t){e.toast.open({message:":oldName renamed to :newName",replacements:{oldName:t.entry.name,newName:t.newName}})}))}},{key:"linkCopiedToClipboard",value:function(){var e=this;this.actions$.pipe(Object(D.j)(Mn)).subscribe((function(){e.toast.open("Link copied to clipboard.")}))}},{key:"notEnoughSpace",value:function(){var e=this;this.actions$.pipe(Object(D.j)(Ze)).subscribe((function(){e.toast.open("You are out of space. Try to delete some files.",{action:"Upgrade"}).onAction().subscribe((function(){e.router.navigate(["/billing/upgrade"])}))}))}},{key:"loadingToast",value:function(){var e,t=this;this.actions$.pipe(Object(D.j)(he)).subscribe((function(n){e=t.toast.openComponent(Ru,{duration:0,data:{message:n.message}})})),this.actions$.pipe(Object(D.j)(be)).subscribe((function(){e&&(e.dismiss(),e=null)}))}}]),e}()).\u0275fac=function(e){return new(e||xu)(S.Zb(D.b),S.Zb(yt.b),S.Zb(D.g),S.Zb(I.g))},xu.\u0275prov=S.Lb({token:xu,factory:xu.\u0275fac}),xu),Nu={origin:"global",hasBackdrop:!1,position:{right:"10px",bottom:"10px"},mobilePosition:{left:0,bottom:0}},Bu=((Cu=function(){function e(t,n,i){var a=this;b(this,e),this.actions$=t,this.currentUser=n,this.overlayPanel=i,this.actions$.pipe(Object(D.j)(Q)).subscribe((function(){a.openUploadsPanel()})),this.actions$.pipe(Object(D.j)(W)).subscribe((function(){a.closeUploadsPanel()})),this.currentUser.model$.subscribe((function(){a.closeUploadsPanel()}))}return s(e,[{key:"openUploadsPanel",value:function(){this.uploadPanelRef||(this.uploadPanelRef=this.overlayPanel.open(Mu,Nu))}},{key:"closeUploadsPanel",value:function(){this.uploadPanelRef&&(this.uploadPanelRef.close(),this.uploadPanelRef=null)}}]),e}()).\u0275fac=function(e){return new(e||Cu)(S.Zb(D.b),S.Zb(rt.a),S.Zb(ul.a))},Cu.\u0275prov=S.Lb({token:Cu,factory:Cu.\u0275fac}),Cu),zu=((Ou=function(){function e(t,n,i){var a=this;b(this,e),this.actions$=t,this.dialog=n,this.store=i,this.actions$.pipe(Object(D.i)(Z)).subscribe((function(e){a.dialog.open(e.dialog,e.data,e.config)})),this.actions$.pipe(Object(D.i)(J)).subscribe((function(e){a.openConfirmDialog(e)}))}return s(e,[{key:"openConfirmDialog",value:function(e){var t=this;this.dialog.open(yr.a,e.data).beforeClosed().subscribe((function(n){if(n)return t.store.dispatch(e.confirmAction)}))}}]),e}()).\u0275fac=function(e){return new(e||Ou)(S.Zb(D.b),S.Zb(rr.a),S.Zb(D.g))},Ou.\u0275prov=S.Lb({token:Ou,factory:Ou.\u0275fac}),Ou),Ku=o("1jcm"),Qu=o("6rvT"),Wu=o("X3pI"),Hu=o("0Gur"),Xu=((Du=function e(){b(this,e)}).\u0275mod=S.Nb({type:Du}),Du.\u0275inj=S.Mb({factory:function(e){return new(e||Du)},providers:[rr.a],imports:[[P.c,Jt.E,Qu.a,Wu.a,Ku.b,nu.g,Yt.g,Hu.a,_t.b,on.c,an.c,Mr.b,Nn.b]]}),Du),Zu=((Su=function e(t,n){var i=this;b(this,e),this.actions$=t,this.domCache=n,this.actions$.pipe(Object(D.j)(ue)).subscribe((function(){i.domCache.scrollCont.scrollTo({top:0})}))}).\u0275fac=function(e){return new(e||Su)(S.Zb(D.b),S.Zb($a))},Su.\u0275prov=S.Lb({token:Su,factory:Su.\u0275fac}),Su),Ju=((ju=function e(t){var n=this;b(this,e),this.store=t,this.store.select(kt.activePage).pipe(Object(Vt.a)((function(e){return!!e}))).subscribe((function(){n.store.dispatch(new z)}))}).\u0275fac=function(e){return new(e||ju)(S.Zb(D.g))},ju.\u0275prov=S.Lb({token:ju,factory:ju.\u0275fac}),ju),qu=((Iu=function(){function e(t,n,i){var a=this;b(this,e),this.store=t,this.actions$=n,this.currentUser=i,this.actions$.pipe(Object(D.j)(V.c),Object(Vt.a)((function(e){return e.event.urlAfterRedirects.indexOf("drive")>-1})),Object(Vt.a)((function(){return a.currentUser.isLoggedIn()}))).subscribe((function(){var e=a.getPageLoadAction();e&&a.store.dispatch(e)}))}return s(e,[{key:"getPageLoadAction",value:function(){var e=this.getPageUriParams();switch(e.pageName){case"recent":return new je;case"trash":return new Ee;case"shares":return new De;case"starred":return new Ae;case"search":var t=this.store.selectSnapshot(V.d.state).root.firstChild.queryParams;return new Ve({type:t.type,query:t.query});case"workspaces":return new Ue;case"s":return null;default:return new Se(e.folderHash)}}},{key:"getPageUriParams",value:function(){var e=n(this.store.selectSnapshot(V.d.url).split("?")[0].split("/").filter((function(e){return!!e})),3);return{pageName:e[1],folderHash:e[2]}}}]),e}()).\u0275fac=function(e){return new(e||Iu)(S.Zb(D.g),S.Zb(D.b),S.Zb(rt.a))},Iu.\u0275prov=S.Lb({token:Iu,factory:Iu.\u0275fac}),Iu),Gu=((Pu=function e(t,n){var i=this;b(this,e),this.actions$=t,this.store=n,this.actions$.pipe(Object(D.j)(se)).pipe(Object(Vt.a)((function(){return"starred"===i.store.selectSnapshot(kt.activePage).name}))).subscribe((function(e){i.store.dispatch(new ce(e.entries))}))}).\u0275fac=function(e){return new(e||Pu)(S.Zb(D.b),S.Zb(D.g))},Pu.\u0275prov=S.Lb({token:Pu,factory:Pu.\u0275fac}),Pu),Yu=o("gFpt"),ed=o("k3xQ"),td=o("Iysn"),nd=((Eu=function e(){b(this,e)}).\u0275mod=S.Nb({type:Eu}),Eu.\u0275inj=S.Mb({factory:function(e){return new(e||Eu)},imports:[[P.c]]}),Eu),id=o("OwjJ"),ad=((Uu=function e(){b(this,e)}).\u0275mod=S.Nb({type:Uu}),Uu.\u0275inj=S.Mb({factory:function(e){return new(e||Uu)},providers:[ul.a,Nc,{provide:Rc,useClass:$c}],imports:[[P.c,ia.h,an.c,Wu.a]]}),Uu),rd=o("GSRO"),od=((Vu=function e(){b(this,e)}).\u0275mod=S.Nb({type:Vu}),Vu.\u0275inj=S.Mb({factory:function(e){return new(e||Vu)},imports:[[P.c,Qu.a,on.c,an.c,_t.b]]}),Vu),sd=o("losq"),cd=o("8iTb"),ld=o("1ImS"),ud=o("rG4v"),dd=o("/zh3"),pd=o("DB1O"),hd=o("Sn2F"),bd=o("eKg+"),fd=o("Ivca"),gd=o("rcZy"),vd=o("EAOp"),md=o("5oZ4"),yd=o("bmro"),kd=o("vxfF"),wd=o("sTxL"),xd=[Tu,Fu,$u,Bu,zu,Zu,Ju,qu,Gu],_d=((Au=function e(t){var n=this;b(this,e),this.injector=t,xd.forEach((function(e){return n.injector.get(e)}))}).\u0275mod=S.Nb({type:Au}),Au.\u0275inj=S.Mb({factory:function(e){return new(e||Au)(S.Zb(S.t))},providers:[ul.a,Nc,yt.b].concat(xd,[{provide:na,useValue:iu,multi:!0},{provide:tt,deps:[en.a],useFactory:function(e){var t={multiple:!0},n=e.getJson("drive.validation.allowed_extensions");return n&&(t.extensions=n.map((function(e){return"."+e}))),t}},{provide:cd.a,useValue:{description:"Workspaces are shared spaces where teams can store, share and collaborate on files and folders."}}]),imports:[[P.c,rd.a,$l,ad,Jt.o,Xu,Yu.a,Qu.a,ed.a,Jt.E,td.a,Wu.a,nd,id.a,od,sd.a,ld.a,ar.g,Gi,an.c,Yt.g,ur.b,_t.b,Mr.b,Ka.b,nu.g,tu,on.c,D.c.forFeature([kt,Zt,Ln])]]}),Au);S.Bc(Uo,[P.q,P.r,P.s,P.t,P.A,P.w,P.x,P.y,P.z,P.u,P.v,jo,or.a,ud.a,I.l,I.h,I.j,I.i,I.o,al,Jt.K,Jt.z,Jt.J,Jt.d,Jt.A,Jt.D,Jt.a,Jt.G,Jt.H,Jt.C,Jt.u,Jt.v,Jt.F,Jt.q,Jt.p,Jt.B,Jt.b,Jt.e,Jt.x,Jt.y,Jt.w,Rs,Ba.a,dd.a,cr.a,nn.a,Jt.j,Jt.m,Jt.k,Jt.n,Jt.g,dl.a,Wn.a,pd.a,ca,yo.a,Ur,dr.a,_s.a,Nn.a,Ci.b,Nn.c,hd.a,bd.a,fd.a,gd.a,vd.a,md.a,yd.a,kd.a,ar.a,ar.b,ar.c,ar.d,ar.e,ar.f,Ki,Bi,Qi,Ji,Xi,Ni,Hi,an.b,an.a,Yt.e,Yt.d,Yt.i,Yt.f,Yt.c,ur.a,_t.a,Mr.a,Mr.c,Ka.a,Ka.d,Ka.c,Li.k,Li.j,nu.c,nu.d,nu.a,nu.f,nu.e,nu.b,Yl,eu,on.e,on.b,on.d,on.a,fs,Ar,va,ws,Hr,mo,fo,Ot,Uo,sr,yi,ja,Et,Bo,No,Mu,ma,da,ss,ir,Bs,zs,Fs,Ls,Ts,$s,tc,bo,io,ll,el,cs,Do,Ms,ko,pu,vr,Ru,Tl,Kc,rs,zr,Ol,Xo],[P.b,P.G,P.p,P.k,P.E,P.g,P.C,P.F,P.d,P.f,P.i,P.j,P.l,fn.a,Xa.a,pr.a,wd.a])},"w/wX":function(e,t,n){var i=n("QqLw"),a=n("ExA7");e.exports=function(e){return a(e)&&"[object Set]"==i(e)}},"wF/u":function(e,t,n){var i=n("e5cp"),a=n("ExA7");e.exports=function e(t,n,r,o,s){return t===n||(null==t||null==n||!a(t)&&!a(n)?t!=t&&n!=n:i(t,n,r,o,e,s))}},wJg7:function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==i||"symbol"!=i&&n.test(e))&&e>-1&&e%1==0&&e<t}},wZkO:function(t,n,a){"use strict";a.d(n,"a",(function(){return re})),a.d(n,"b",(function(){return Y})),a.d(n,"c",(function(){return fe})),a.d(n,"d",(function(){return te})),a.d(n,"e",(function(){return Pe})),a.d(n,"f",(function(){return _e})),a.d(n,"g",(function(){return Ie}));var r=a("u47x"),o=a("GU7r"),l=a("+rOU"),d=a("ofXK"),f=a("fXoL"),g=a("FKr1"),v=a("R1ws"),m=a("XNiG"),y=a("quSY"),k=a("VRyK"),w=a("xgIS"),x=a("LRne"),_=a("PqYM"),O=a("R0Ic"),C=a("JX91"),P=a("/uUt"),I=a("1G5W"),j=a("8LU1"),S=a("nLfN"),D=a("FtGj"),E=a("cH1L"),U=a("vxfF");function V(e,t){1&e&&f.kc(0)}var A=["*"];function M(e,t){}var T=function(e){return{animationDuration:e}},F=function(e,t){return{value:e,params:t}},L=["tabBodyWrapper"],R=["tabHeader"];function $(e,t){}function N(e,t){if(1&e&&f.Ic(0,$,0,0,"ng-template",9),2&e){var n=f.gc().$implicit;f.mc("cdkPortalOutlet",n.templateLabel)}}function B(e,t){if(1&e&&f.Kc(0),2&e){var n=f.gc().$implicit;f.Lc(n.textLabel)}}function z(e,t){if(1&e){var n=f.Wb();f.Vb(0,"div",6),f.cc("click",(function(){f.xc(n);var e=t.$implicit,i=t.index,a=f.gc(),r=f.uc(1);return a._handleClick(e,r,i)})),f.Vb(1,"div",7),f.Ic(2,N,1,1,"ng-template",8),f.Ic(3,B,1,1,"ng-template",8),f.Ub(),f.Ub()}if(2&e){var i=t.$implicit,a=t.index,r=f.gc();f.Hb("mat-tab-label-active",r.selectedIndex==a),f.mc("id",r._getTabLabelId(a))("disabled",i.disabled)("matRippleDisabled",i.disabled||r.disableRipple),f.Eb("tabIndex",r._getTabIndex(i,a))("aria-posinset",a+1)("aria-setsize",r._tabs.length)("aria-controls",r._getTabContentId(a))("aria-selected",r.selectedIndex==a)("aria-label",i.ariaLabel||null)("aria-labelledby",!i.ariaLabel&&i.ariaLabelledby?i.ariaLabelledby:null),f.Db(2),f.mc("ngIf",i.templateLabel),f.Db(1),f.mc("ngIf",!i.templateLabel)}}function K(e,t){if(1&e){var n=f.Wb();f.Vb(0,"mat-tab-body",10),f.cc("_onCentered",(function(){return f.xc(n),f.gc()._removeTabBodyWrapperHeight()}))("_onCentering",(function(e){return f.xc(n),f.gc()._setTabBodyWrapperHeight(e)})),f.Ub()}if(2&e){var i=t.$implicit,a=t.index,r=f.gc();f.Hb("mat-tab-body-active",r.selectedIndex==a),f.mc("id",r._getTabContentId(a))("content",i.content)("position",i.position)("origin",i.origin)("animationDuration",r.animationDuration),f.Eb("aria-labelledby",r._getTabLabelId(a))}}var Q=["tabListContainer"],W=["tabList"],H=["nextPaginator"],X=["previousPaginator"],Z=["mat-tab-nav-bar",""],J=new f.s("MatInkBarPositioner",{providedIn:"root",factory:function(){return function(e){return{left:e?(e.offsetLeft||0)+"px":"0",width:e?(e.offsetWidth||0)+"px":"0"}}}}),q=function(){var e=function(){function e(t,n,i,a){b(this,e),this._elementRef=t,this._ngZone=n,this._inkBarPositioner=i,this._animationMode=a}return s(e,[{key:"alignToElement",value:function(e){var t=this;this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular((function(){requestAnimationFrame((function(){return t._setStyles(e)}))})):this._setStyles(e)}},{key:"show",value:function(){this._elementRef.nativeElement.style.visibility="visible"}},{key:"hide",value:function(){this._elementRef.nativeElement.style.visibility="hidden"}},{key:"_setStyles",value:function(e){var t=this._inkBarPositioner(e),n=this._elementRef.nativeElement;n.style.left=t.left,n.style.width=t.width}}]),e}();return e.\u0275fac=function(t){return new(t||e)(f.Pb(f.m),f.Pb(f.B),f.Pb(J),f.Pb(v.a,8))},e.\u0275dir=f.Kb({type:e,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(e,t){2&e&&f.Hb("_mat-animation-noopable","NoopAnimations"===t._animationMode)}}),e}(),G=new f.s("MatTabContent"),Y=function(){var e=function e(t){b(this,e),this.template=t};return e.\u0275fac=function(t){return new(t||e)(f.Pb(f.O))},e.\u0275dir=f.Kb({type:e,selectors:[["","matTabContent",""]],features:[f.Cb([{provide:G,useExisting:e}])]}),e}(),ee=new f.s("MatTabLabel"),te=function(){var e=function(e){c(n,e);var t=u(n);function n(){return b(this,n),t.apply(this,arguments)}return n}(l.b);return e.\u0275fac=function(t){return ne(t||e)},e.\u0275dir=f.Kb({type:e,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[f.Cb([{provide:ee,useExisting:e}]),f.Ab]}),e}(),ne=f.Xb(te),ie=Object(g.w)((function e(){b(this,e)})),ae=new f.s("MAT_TAB_GROUP"),re=function(){var e=function(e){c(n,e);var t=u(n);function n(e,i){var a;return b(this,n),(a=t.call(this))._viewContainerRef=e,a._closestTabGroup=i,a.textLabel="",a._contentPortal=null,a._stateChanges=new m.a,a.position=null,a.origin=null,a.isActive=!1,a}return s(n,[{key:"ngOnChanges",value:function(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}},{key:"ngOnInit",value:function(){this._contentPortal=new l.i(this._explicitContent||this._implicitContent,this._viewContainerRef)}},{key:"_setTemplateLabelInput",value:function(e){e&&(this._templateLabel=e)}},{key:"templateLabel",get:function(){return this._templateLabel},set:function(e){this._setTemplateLabelInput(e)}},{key:"content",get:function(){return this._contentPortal}}]),n}(ie);return e.\u0275fac=function(t){return new(t||e)(f.Pb(f.S),f.Pb(ae,8))},e.\u0275cmp=f.Jb({type:e,selectors:[["mat-tab"]],contentQueries:function(e,t,n){var i;1&e&&(f.Ib(n,ee,!0),f.Dc(n,G,!0,f.O)),2&e&&(f.tc(i=f.dc())&&(t.templateLabel=i.first),f.tc(i=f.dc())&&(t._explicitContent=i.first))},viewQuery:function(e,t){var n;1&e&&f.Ec(f.O,!0),2&e&&f.tc(n=f.dc())&&(t._implicitContent=n.first)},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[f.Ab,f.Bb],ngContentSelectors:A,decls:1,vars:0,template:function(e,t){1&e&&(f.lc(),f.Ic(0,V,1,0,"ng-template"))},encapsulation:2}),e}(),oe={translateTab:Object(O.m)("translateTab",[Object(O.j)("center, void, left-origin-center, right-origin-center",Object(O.k)({transform:"none"})),Object(O.j)("left",Object(O.k)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),Object(O.j)("right",Object(O.k)({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),Object(O.l)("* => left, * => right, left => center, right => center",Object(O.e)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Object(O.l)("void => left-origin-center",[Object(O.k)({transform:"translate3d(-100%, 0, 0)"}),Object(O.e)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Object(O.l)("void => right-origin-center",[Object(O.k)({transform:"translate3d(100%, 0, 0)"}),Object(O.e)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])},se=function(){var t=function(t){c(i,t);var n=u(i);function i(e,t,a,r){var o;return b(this,i),(o=n.call(this,e,t,r))._host=a,o._centeringSub=y.a.EMPTY,o._leavingSub=y.a.EMPTY,o}return s(i,[{key:"ngOnInit",value:function(){var t=this;e(h(i.prototype),"ngOnInit",this).call(this),this._centeringSub=this._host._beforeCentering.pipe(Object(C.a)(this._host._isCenterPosition(this._host._position))).subscribe((function(e){e&&!t.hasAttached()&&t.attach(t._host._content)})),this._leavingSub=this._host._afterLeavingCenter.subscribe((function(){t.detach()}))}},{key:"ngOnDestroy",value:function(){e(h(i.prototype),"ngOnDestroy",this).call(this),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}]),i}(l.c);return t.\u0275fac=function(e){return new(e||t)(f.Pb(f.k),f.Pb(f.S),f.Pb(Object(f.W)((function(){return le}))),f.Pb(d.e))},t.\u0275dir=f.Kb({type:t,selectors:[["","matTabBodyHost",""]],features:[f.Ab]}),t}(),ce=function(){var e=function(){function e(t,n,i){var a=this;b(this,e),this._elementRef=t,this._dir=n,this._dirChangeSubscription=y.a.EMPTY,this._translateTabComplete=new m.a,this._onCentering=new f.o,this._beforeCentering=new f.o,this._afterLeavingCenter=new f.o,this._onCentered=new f.o(!0),this.animationDuration="500ms",n&&(this._dirChangeSubscription=n.change.subscribe((function(e){a._computePositionAnimationState(e),i.markForCheck()}))),this._translateTabComplete.pipe(Object(P.a)((function(e,t){return e.fromState===t.fromState&&e.toState===t.toState}))).subscribe((function(e){a._isCenterPosition(e.toState)&&a._isCenterPosition(a._position)&&a._onCentered.emit(),a._isCenterPosition(e.fromState)&&!a._isCenterPosition(a._position)&&a._afterLeavingCenter.emit()}))}return s(e,[{key:"ngOnInit",value:function(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}},{key:"ngOnDestroy",value:function(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}},{key:"_onTranslateTabStarted",value:function(e){var t=this._isCenterPosition(e.toState);this._beforeCentering.emit(t),t&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}},{key:"_getLayoutDirection",value:function(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}},{key:"_isCenterPosition",value:function(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}},{key:"_computePositionAnimationState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._getLayoutDirection();this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}},{key:"_computePositionFromOrigin",value:function(e){var t=this._getLayoutDirection();return"ltr"==t&&e<=0||"rtl"==t&&e>0?"left-origin-center":"right-origin-center"}},{key:"position",set:function(e){this._positionIndex=e,this._computePositionAnimationState()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(f.Pb(f.m),f.Pb(E.c,8),f.Pb(f.i))},e.\u0275dir=f.Kb({type:e,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),e}(),le=function(){var e=function(e){c(n,e);var t=u(n);function n(e,i,a){return b(this,n),t.call(this,e,i,a)}return n}(ce);return e.\u0275fac=function(t){return new(t||e)(f.Pb(f.m),f.Pb(E.c,8),f.Pb(f.i))},e.\u0275cmp=f.Jb({type:e,selectors:[["mat-tab-body"]],viewQuery:function(e,t){var n;1&e&&f.Qc(l.f,!0),2&e&&f.tc(n=f.dc())&&(t._portalHost=n.first)},hostAttrs:[1,"mat-tab-body"],features:[f.Ab],decls:3,vars:6,consts:[[1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,t){1&e&&(f.Vb(0,"div",0,1),f.cc("@translateTab.start",(function(e){return t._onTranslateTabStarted(e)}))("@translateTab.done",(function(e){return t._translateTabComplete.next(e)})),f.Ic(2,M,0,0,"ng-template",2),f.Ub()),2&e&&f.mc("@translateTab",f.rc(3,F,t._position,f.qc(1,T,t.animationDuration)))},directives:[se],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[oe.translateTab]}}),e}(),ue=new f.s("MAT_TABS_CONFIG"),de=0,pe=function e(){b(this,e)},he=Object(g.u)(Object(g.v)((function e(t){b(this,e),this._elementRef=t})),"primary"),be=function(){var e=function(e){c(n,e);var t=u(n);function n(e,i,a,r){var o;return b(this,n),(o=t.call(this,e))._changeDetectorRef=i,o._animationMode=r,o._tabs=new f.F,o._indexToSelect=0,o._tabBodyWrapperHeight=0,o._tabsSubscription=y.a.EMPTY,o._tabLabelSubscription=y.a.EMPTY,o._dynamicHeight=!1,o._selectedIndex=null,o.headerPosition="above",o.selectedIndexChange=new f.o,o.focusChange=new f.o,o.animationDone=new f.o,o.selectedTabChange=new f.o(!0),o._groupId=de++,o.animationDuration=a&&a.animationDuration?a.animationDuration:"500ms",o.disablePagination=!(!a||null==a.disablePagination)&&a.disablePagination,o}return s(n,[{key:"ngAfterContentChecked",value:function(){var e=this,t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){var n=null==this._selectedIndex;n||this.selectedTabChange.emit(this._createChangeEvent(t)),Promise.resolve().then((function(){e._tabs.forEach((function(e,n){return e.isActive=n===t})),n||e.selectedIndexChange.emit(t)}))}this._tabs.forEach((function(n,i){n.position=i-t,null==e._selectedIndex||0!=n.position||n.origin||(n.origin=t-e._selectedIndex)})),this._selectedIndex!==t&&(this._selectedIndex=t,this._changeDetectorRef.markForCheck())}},{key:"ngAfterContentInit",value:function(){var e=this;this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe((function(){if(e._clampTabIndex(e._indexToSelect)===e._selectedIndex)for(var t=e._tabs.toArray(),n=0;n<t.length;n++)if(t[n].isActive){e._indexToSelect=e._selectedIndex=n;break}e._changeDetectorRef.markForCheck()}))}},{key:"_subscribeToAllTabChanges",value:function(){var e=this;this._allTabs.changes.pipe(Object(C.a)(this._allTabs)).subscribe((function(t){e._tabs.reset(t.filter((function(t){return!t._closestTabGroup||t._closestTabGroup===e}))),e._tabs.notifyOnChanges()}))}},{key:"ngOnDestroy",value:function(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}},{key:"realignInkBar",value:function(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}},{key:"_focusChanged",value:function(e){this.focusChange.emit(this._createChangeEvent(e))}},{key:"_createChangeEvent",value:function(e){var t=new pe;return t.index=e,this._tabs&&this._tabs.length&&(t.tab=this._tabs.toArray()[e]),t}},{key:"_subscribeToTabLabels",value:function(){var e=this;this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Object(k.a).apply(void 0,i(this._tabs.map((function(e){return e._stateChanges})))).subscribe((function(){return e._changeDetectorRef.markForCheck()}))}},{key:"_clampTabIndex",value:function(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}},{key:"_getTabLabelId",value:function(e){return"mat-tab-label-".concat(this._groupId,"-").concat(e)}},{key:"_getTabContentId",value:function(e){return"mat-tab-content-".concat(this._groupId,"-").concat(e)}},{key:"_setTabBodyWrapperHeight",value:function(e){if(this._dynamicHeight&&this._tabBodyWrapperHeight){var t=this._tabBodyWrapper.nativeElement;t.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(t.style.height=e+"px")}}},{key:"_removeTabBodyWrapperHeight",value:function(){var e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}},{key:"_handleClick",value:function(e,t,n){e.disabled||(this.selectedIndex=t.focusIndex=n)}},{key:"_getTabIndex",value:function(e,t){return e.disabled?null:this.selectedIndex===t?0:-1}},{key:"dynamicHeight",get:function(){return this._dynamicHeight},set:function(e){this._dynamicHeight=Object(j.c)(e)}},{key:"selectedIndex",get:function(){return this._selectedIndex},set:function(e){this._indexToSelect=Object(j.f)(e,null)}},{key:"animationDuration",get:function(){return this._animationDuration},set:function(e){this._animationDuration=/^\d+$/.test(e)?e+"ms":e}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(e){var t=this._elementRef.nativeElement;t.classList.remove("mat-background-"+this.backgroundColor),e&&t.classList.add("mat-background-"+e),this._backgroundColor=e}}]),n}(he);return e.\u0275fac=function(t){return new(t||e)(f.Pb(f.m),f.Pb(f.i),f.Pb(ue,8),f.Pb(v.a,8))},e.\u0275dir=f.Kb({type:e,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[f.Ab]}),e}(),fe=function(){var e=function(e){c(n,e);var t=u(n);function n(e,i,a,r){return b(this,n),t.call(this,e,i,a,r)}return n}(be);return e.\u0275fac=function(t){return new(t||e)(f.Pb(f.m),f.Pb(f.i),f.Pb(ue,8),f.Pb(v.a,8))},e.\u0275cmp=f.Jb({type:e,selectors:[["mat-tab-group"]],contentQueries:function(e,t,n){var i;1&e&&f.Ib(n,re,!0),2&e&&f.tc(i=f.dc())&&(t._allTabs=i)},viewQuery:function(e,t){var n;1&e&&(f.Qc(L,!0),f.Qc(R,!0)),2&e&&(f.tc(n=f.dc())&&(t._tabBodyWrapper=n.first),f.tc(n=f.dc())&&(t._tabHeader=n.first))},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(e,t){2&e&&f.Hb("mat-tab-group-dynamic-height",t.dynamicHeight)("mat-tab-group-inverted-header","below"===t.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[f.Cb([{provide:ae,useExisting:e}]),f.Ab],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(e,t){1&e&&(f.Vb(0,"mat-tab-header",0,1),f.cc("indexFocused",(function(e){return t._focusChanged(e)}))("selectFocusedIndex",(function(e){return t.selectedIndex=e})),f.Ic(2,z,4,14,"div",2),f.Ub(),f.Vb(3,"div",3,4),f.Ic(5,K,1,8,"mat-tab-body",5),f.Ub()),2&e&&(f.mc("selectedIndex",t.selectedIndex||0)("disableRipple",t.disableRipple)("disablePagination",t.disablePagination),f.Db(2),f.mc("ngForOf",t._tabs),f.Db(1),f.Hb("_mat-animation-noopable","NoopAnimations"===t._animationMode),f.Db(2),f.mc("ngForOf",t._tabs))},directives:function(){return[we,d.s,ve,g.p,r.e,d.t,l.c,le]},styles:[".mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),e}(),ge=Object(g.w)((function e(){b(this,e)})),ve=function(){var e=function(e){c(n,e);var t=u(n);function n(e){var i;return b(this,n),(i=t.call(this)).elementRef=e,i}return s(n,[{key:"focus",value:function(){this.elementRef.nativeElement.focus()}},{key:"getOffsetLeft",value:function(){return this.elementRef.nativeElement.offsetLeft}},{key:"getOffsetWidth",value:function(){return this.elementRef.nativeElement.offsetWidth}}]),n}(ge);return e.\u0275fac=function(t){return new(t||e)(f.Pb(f.m))},e.\u0275dir=f.Kb({type:e,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,t){2&e&&(f.Eb("aria-disabled",!!t.disabled),f.Hb("mat-tab-disabled",t.disabled))},inputs:{disabled:"disabled"},features:[f.Ab]}),e}(),me=Object(S.f)({passive:!0}),ye=function(){var e=function(){function e(t,n,i,a,r,o,s){var c=this;b(this,e),this._elementRef=t,this._changeDetectorRef=n,this._viewportRuler=i,this._dir=a,this._ngZone=r,this._platform=o,this._animationMode=s,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new m.a,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new m.a,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new f.o,this.indexFocused=new f.o,r.runOutsideAngular((function(){Object(w.a)(t.nativeElement,"mouseleave").pipe(Object(I.a)(c._destroyed)).subscribe((function(){c._stopInterval()}))}))}return s(e,[{key:"ngAfterViewInit",value:function(){var e=this;Object(w.a)(this._previousPaginator.nativeElement,"touchstart",me).pipe(Object(I.a)(this._destroyed)).subscribe((function(){e._handlePaginatorPress("before")})),Object(w.a)(this._nextPaginator.nativeElement,"touchstart",me).pipe(Object(I.a)(this._destroyed)).subscribe((function(){e._handlePaginatorPress("after")}))}},{key:"ngAfterContentInit",value:function(){var e=this,t=this._dir?this._dir.change:Object(x.a)(null),n=this._viewportRuler.change(150),i=function(){e.updatePagination(),e._alignInkBarToSelectedTab()};this._keyManager=new r.g(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(i):i(),Object(k.a)(t,n,this._items.changes).pipe(Object(I.a)(this._destroyed)).subscribe((function(){Promise.resolve().then(i),e._keyManager.withHorizontalOrientation(e._getLayoutDirection())})),this._keyManager.change.pipe(Object(I.a)(this._destroyed)).subscribe((function(t){e.indexFocused.emit(t),e._setTabFocus(t)}))}},{key:"ngAfterContentChecked",value:function(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}},{key:"_handleKeydown",value:function(e){if(!Object(D.s)(e))switch(e.keyCode){case D.f:case D.n:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e));break;default:this._keyManager.onKeydown(e)}}},{key:"_onContentChanges",value:function(){var e=this,t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run((function(){e.updatePagination(),e._alignInkBarToSelectedTab(),e._changeDetectorRef.markForCheck()})))}},{key:"updatePagination",value:function(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}},{key:"_isValidIndex",value:function(e){if(!this._items)return!0;var t=this._items?this._items.toArray()[e]:null;return!!t&&!t.disabled}},{key:"_setTabFocus",value:function(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();var t=this._tabListContainer.nativeElement,n=this._getLayoutDirection();t.scrollLeft="ltr"==n?0:t.scrollWidth-t.offsetWidth}}},{key:"_getLayoutDirection",value:function(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}},{key:"_updateTabScrollPosition",value:function(){if(!this.disablePagination){var e=this.scrollDistance,t=this._platform,n="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform="translateX(".concat(Math.round(n),"px)"),t&&(t.TRIDENT||t.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}}},{key:"_scrollHeader",value:function(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}},{key:"_handlePaginatorClick",value:function(e){this._stopInterval(),this._scrollHeader(e)}},{key:"_scrollToLabel",value:function(e){if(!this.disablePagination){var t=this._items?this._items.toArray()[e]:null;if(t){var n,i,a=this._tabListContainer.nativeElement.offsetWidth,r=t.elementRef.nativeElement,o=r.offsetLeft,s=r.offsetWidth;"ltr"==this._getLayoutDirection()?i=(n=o)+s:n=(i=this._tabList.nativeElement.offsetWidth-o)-s;var c=this.scrollDistance,l=this.scrollDistance+a;n<c?this.scrollDistance-=c-n+60:i>l&&(this.scrollDistance+=i-l+60)}}}},{key:"_checkPaginationEnabled",value:function(){if(this.disablePagination)this._showPaginationControls=!1;else{var e=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}},{key:"_checkScrollingControls",value:function(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}},{key:"_getMaxScrollDistance",value:function(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}},{key:"_alignInkBarToSelectedTab",value:function(){var e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,t=e?e.elementRef.nativeElement:null;t?this._inkBar.alignToElement(t):this._inkBar.hide()}},{key:"_stopInterval",value:function(){this._stopScrolling.next()}},{key:"_handlePaginatorPress",value:function(e,t){var n=this;t&&null!=t.button&&0!==t.button||(this._stopInterval(),Object(_.a)(650,100).pipe(Object(I.a)(Object(k.a)(this._stopScrolling,this._destroyed))).subscribe((function(){var t=n._scrollHeader(e),i=t.maxScrollDistance,a=t.distance;(0===a||a>=i)&&n._stopInterval()})))}},{key:"_scrollTo",value:function(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};var t=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(t,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:t,distance:this._scrollDistance}}},{key:"selectedIndex",get:function(){return this._selectedIndex},set:function(e){e=Object(j.f)(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}},{key:"focusIndex",get:function(){return this._keyManager?this._keyManager.activeItemIndex:0},set:function(e){this._isValidIndex(e)&&this.focusIndex!==e&&this._keyManager&&this._keyManager.setActiveItem(e)}},{key:"scrollDistance",get:function(){return this._scrollDistance},set:function(e){this._scrollTo(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(f.Pb(f.m),f.Pb(f.i),f.Pb(U.e),f.Pb(E.c,8),f.Pb(f.B),f.Pb(S.a),f.Pb(v.a,8))},e.\u0275dir=f.Kb({type:e,inputs:{disablePagination:"disablePagination"}}),e}(),ke=function(){var e=function(e){c(n,e);var t=u(n);function n(e,i,a,r,o,s,c){var l;return b(this,n),(l=t.call(this,e,i,a,r,o,s,c))._disableRipple=!1,l}return s(n,[{key:"_itemSelected",value:function(e){e.preventDefault()}},{key:"disableRipple",get:function(){return this._disableRipple},set:function(e){this._disableRipple=Object(j.c)(e)}}]),n}(ye);return e.\u0275fac=function(t){return new(t||e)(f.Pb(f.m),f.Pb(f.i),f.Pb(U.e),f.Pb(E.c,8),f.Pb(f.B),f.Pb(S.a),f.Pb(v.a,8))},e.\u0275dir=f.Kb({type:e,inputs:{disableRipple:"disableRipple"},features:[f.Ab]}),e}(),we=function(){var e=function(e){c(n,e);var t=u(n);function n(e,i,a,r,o,s,c){return b(this,n),t.call(this,e,i,a,r,o,s,c)}return n}(ke);return e.\u0275fac=function(t){return new(t||e)(f.Pb(f.m),f.Pb(f.i),f.Pb(U.e),f.Pb(E.c,8),f.Pb(f.B),f.Pb(S.a),f.Pb(v.a,8))},e.\u0275cmp=f.Jb({type:e,selectors:[["mat-tab-header"]],contentQueries:function(e,t,n){var i;1&e&&f.Ib(n,ve,!1),2&e&&f.tc(i=f.dc())&&(t._items=i)},viewQuery:function(e,t){var n;1&e&&(f.Ec(q,!0),f.Ec(Q,!0),f.Ec(W,!0),f.Qc(H,!0),f.Qc(X,!0)),2&e&&(f.tc(n=f.dc())&&(t._inkBar=n.first),f.tc(n=f.dc())&&(t._tabListContainer=n.first),f.tc(n=f.dc())&&(t._tabList=n.first),f.tc(n=f.dc())&&(t._nextPaginator=n.first),f.tc(n=f.dc())&&(t._previousPaginator=n.first))},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(e,t){2&e&&f.Hb("mat-tab-header-pagination-controls-enabled",t._showPaginationControls)("mat-tab-header-rtl","rtl"==t._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[f.Ab],ngContentSelectors:A,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,t){1&e&&(f.lc(),f.Vb(0,"div",0,1),f.cc("click",(function(){return t._handlePaginatorClick("before")}))("mousedown",(function(e){return t._handlePaginatorPress("before",e)}))("touchend",(function(){return t._stopInterval()})),f.Qb(2,"div",2),f.Ub(),f.Vb(3,"div",3,4),f.cc("keydown",(function(e){return t._handleKeydown(e)})),f.Vb(5,"div",5,6),f.cc("cdkObserveContent",(function(){return t._onContentChanges()})),f.Vb(7,"div",7),f.kc(8),f.Ub(),f.Qb(9,"mat-ink-bar"),f.Ub(),f.Ub(),f.Vb(10,"div",8,9),f.cc("mousedown",(function(e){return t._handlePaginatorPress("after",e)}))("click",(function(){return t._handlePaginatorClick("after")}))("touchend",(function(){return t._stopInterval()})),f.Qb(12,"div",2),f.Ub()),2&e&&(f.Hb("mat-tab-header-pagination-disabled",t._disableScrollBefore),f.mc("matRippleDisabled",t._disableScrollBefore||t.disableRipple),f.Db(5),f.Hb("_mat-animation-noopable","NoopAnimations"===t._animationMode),f.Db(5),f.Hb("mat-tab-header-pagination-disabled",t._disableScrollAfter),f.mc("matRippleDisabled",t._disableScrollAfter||t.disableRipple))},directives:[g.p,o.a,q],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),e}(),xe=function(){var t=function(t){c(i,t);var n=u(i);function i(e,t,a,r,o,s,c){var l;return b(this,i),(l=n.call(this,e,r,o,t,a,s,c))._disableRipple=!1,l.color="primary",l}return s(i,[{key:"_itemSelected",value:function(){}},{key:"ngAfterContentInit",value:function(){var t=this;this._items.changes.pipe(Object(C.a)(null),Object(I.a)(this._destroyed)).subscribe((function(){t.updateActiveLink()})),e(h(i.prototype),"ngAfterContentInit",this).call(this)}},{key:"updateActiveLink",value:function(e){if(this._items){for(var t=this._items.toArray(),n=0;n<t.length;n++)if(t[n].active)return this.selectedIndex=n,void this._changeDetectorRef.markForCheck();this.selectedIndex=-1,this._inkBar.hide()}}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(e){var t=this._elementRef.nativeElement.classList;t.remove("mat-background-"+this.backgroundColor),e&&t.add("mat-background-"+e),this._backgroundColor=e}},{key:"disableRipple",get:function(){return this._disableRipple},set:function(e){this._disableRipple=Object(j.c)(e)}}]),i}(ye);return t.\u0275fac=function(e){return new(e||t)(f.Pb(f.m),f.Pb(E.c,8),f.Pb(f.B),f.Pb(f.i),f.Pb(U.e),f.Pb(S.a),f.Pb(v.a,8))},t.\u0275dir=f.Kb({type:t,inputs:{color:"color",backgroundColor:"backgroundColor",disableRipple:"disableRipple"},features:[f.Ab]}),t}(),_e=function(){var e=function(e){c(n,e);var t=u(n);function n(e,i,a,r,o,s,c){return b(this,n),t.call(this,e,i,a,r,o,s,c)}return n}(xe);return e.\u0275fac=function(t){return new(t||e)(f.Pb(f.m),f.Pb(E.c,8),f.Pb(f.B),f.Pb(f.i),f.Pb(U.e),f.Pb(S.a),f.Pb(v.a,8))},e.\u0275cmp=f.Jb({type:e,selectors:[["","mat-tab-nav-bar",""]],contentQueries:function(e,t,n){var i;1&e&&f.Ib(n,Pe,!0),2&e&&f.tc(i=f.dc())&&(t._items=i)},viewQuery:function(e,t){var n;1&e&&(f.Ec(q,!0),f.Ec(Q,!0),f.Ec(W,!0),f.Qc(H,!0),f.Qc(X,!0)),2&e&&(f.tc(n=f.dc())&&(t._inkBar=n.first),f.tc(n=f.dc())&&(t._tabListContainer=n.first),f.tc(n=f.dc())&&(t._tabList=n.first),f.tc(n=f.dc())&&(t._nextPaginator=n.first),f.tc(n=f.dc())&&(t._previousPaginator=n.first))},hostAttrs:[1,"mat-tab-nav-bar","mat-tab-header"],hostVars:10,hostBindings:function(e,t){2&e&&f.Hb("mat-tab-header-pagination-controls-enabled",t._showPaginationControls)("mat-tab-header-rtl","rtl"==t._getLayoutDirection())("mat-primary","warn"!==t.color&&"accent"!==t.color)("mat-accent","accent"===t.color)("mat-warn","warn"===t.color)},inputs:{color:"color"},exportAs:["matTabNavBar","matTabNav"],features:[f.Ab],attrs:Z,ngContentSelectors:A,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-link-container",3,"keydown"],["tabListContainer",""],[1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-links"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,t){1&e&&(f.lc(),f.Vb(0,"div",0,1),f.cc("click",(function(){return t._handlePaginatorClick("before")}))("mousedown",(function(e){return t._handlePaginatorPress("before",e)}))("touchend",(function(){return t._stopInterval()})),f.Qb(2,"div",2),f.Ub(),f.Vb(3,"div",3,4),f.cc("keydown",(function(e){return t._handleKeydown(e)})),f.Vb(5,"div",5,6),f.cc("cdkObserveContent",(function(){return t._onContentChanges()})),f.Vb(7,"div",7),f.kc(8),f.Ub(),f.Qb(9,"mat-ink-bar"),f.Ub(),f.Ub(),f.Vb(10,"div",8,9),f.cc("mousedown",(function(e){return t._handlePaginatorPress("after",e)}))("click",(function(){return t._handlePaginatorClick("after")}))("touchend",(function(){return t._stopInterval()})),f.Qb(12,"div",2),f.Ub()),2&e&&(f.Hb("mat-tab-header-pagination-disabled",t._disableScrollBefore),f.mc("matRippleDisabled",t._disableScrollBefore||t.disableRipple),f.Db(5),f.Hb("_mat-animation-noopable","NoopAnimations"===t._animationMode),f.Db(5),f.Hb("mat-tab-header-pagination-disabled",t._disableScrollAfter),f.mc("matRippleDisabled",t._disableScrollAfter||t.disableRipple))},directives:[g.p,o.a,q],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-tab-links{display:flex}[mat-align-tabs=center]>.mat-tab-link-container .mat-tab-links{justify-content:center}[mat-align-tabs=end]>.mat-tab-link-container .mat-tab-links{justify-content:flex-end}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-link-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-link{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;vertical-align:top;text-decoration:none;position:relative;overflow:hidden;-webkit-tap-highlight-color:transparent}.mat-tab-link:focus{outline:none}.mat-tab-link:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-link:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-link.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-link.mat-tab-disabled{opacity:.5}.mat-tab-link .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-link{opacity:1}[mat-stretch-tabs] .mat-tab-link{flex-basis:0;flex-grow:1}.mat-tab-link.mat-tab-disabled{pointer-events:none}@media(max-width: 599px){.mat-tab-link{min-width:72px}}\n'],encapsulation:2}),e}(),Oe=Object(g.y)(Object(g.v)(Object(g.w)((function e(){b(this,e)})))),Ce=function(){var e=function(e){c(n,e);var t=u(n);function n(e,i,a,r,o,s){var c;return b(this,n),(c=t.call(this))._tabNavBar=e,c.elementRef=i,c._focusMonitor=o,c._isActive=!1,c.rippleConfig=a||{},c.tabIndex=parseInt(r)||0,"NoopAnimations"===s&&(c.rippleConfig.animation={enterDuration:0,exitDuration:0}),c}return s(n,[{key:"focus",value:function(){this.elementRef.nativeElement.focus()}},{key:"ngAfterViewInit",value:function(){this._focusMonitor.monitor(this.elementRef)}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this.elementRef)}},{key:"active",get:function(){return this._isActive},set:function(e){e!==this._isActive&&(this._isActive=e,this._tabNavBar.updateActiveLink(this.elementRef))}},{key:"rippleDisabled",get:function(){return this.disabled||this.disableRipple||this._tabNavBar.disableRipple||!!this.rippleConfig.disabled}}]),n}(Oe);return e.\u0275fac=function(t){return new(t||e)(f.Pb(xe),f.Pb(f.m),f.Pb(g.g,8),f.ac("tabindex"),f.Pb(r.h),f.Pb(v.a,8))},e.\u0275dir=f.Kb({type:e,inputs:{active:"active"},features:[f.Ab]}),e}(),Pe=function(){var t=function(t){c(i,t);var n=u(i);function i(e,t,a,r,o,s,c,l){var u;return b(this,i),(u=n.call(this,e,t,o,s,c,l))._tabLinkRipple=new g.r(p(u),a,t,r),u._tabLinkRipple.setupTriggerEvents(t.nativeElement),u}return s(i,[{key:"ngOnDestroy",value:function(){e(h(i.prototype),"ngOnDestroy",this).call(this),this._tabLinkRipple._removeTriggerEvents()}}]),i}(Ce);return t.\u0275fac=function(e){return new(e||t)(f.Pb(_e),f.Pb(f.m),f.Pb(f.B),f.Pb(S.a),f.Pb(g.g,8),f.ac("tabindex"),f.Pb(r.h),f.Pb(v.a,8))},t.\u0275dir=f.Kb({type:t,selectors:[["","mat-tab-link",""],["","matTabLink",""]],hostAttrs:[1,"mat-tab-link","mat-focus-indicator"],hostVars:7,hostBindings:function(e,t){2&e&&(f.Eb("aria-current",t.active?"page":null)("aria-disabled",t.disabled)("tabIndex",t.tabIndex),f.Hb("mat-tab-disabled",t.disabled)("mat-tab-label-active",t.active))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matTabLink"],features:[f.Ab]}),t}(),Ie=function(){var e=function e(){b(this,e)};return e.\u0275mod=f.Nb({type:e}),e.\u0275inj=f.Mb({factory:function(t){return new(t||e)},imports:[[d.c,g.h,l.h,g.q,o.c,r.a],g.h]}),e}()},wrZu:function(e,t,n){var i=n("+K+b"),a=n("XYm9"),r=n("b2z7"),o=n("otv/"),s=n("yP5f");e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return i(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return a(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return r(e);case"[object Set]":return new c;case"[object Symbol]":return o(e)}}},xYSL:function(e,t){e.exports=function(e,t){return e.has(t)}},y1pI:function(e,t,n){var i=n("ljhN");e.exports=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}},yGk4:function(e,t,n){var i=n("Cwc5")(n("Kz5y"),"Set");e.exports=i},yHx3:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,i=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(i.index=e.index,i.input=e.input),i}},yP5f:function(e,t,n){var i=n("+K+b");e.exports=function(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},zEVN:function(e,t,n){var i=n("Gi0A"),a=n("sEf8"),r=n("mdPL"),o=r&&r.isMap,s=o?a(o):i;e.exports=s},zZ0H:function(e,t){e.exports=function(e){return e}},zoYe:function(e,t,n){var i=n("nmnc"),a=n("eUgh"),r=n("Z0cm"),o=n("/9aa"),s=i?i.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(r(t))return a(t,e)+"";if(o(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}}}])}();
//# sourceMappingURL=7-es5.e9bfca438690affa9a2e.js.map